<!DOCTYPE HTML>
<html lang="en" class="sidebar-visible no-js light">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>AirshipCraft Documentation</title>
        <meta name="robots" content="noindex" />


        <!-- Custom HTML head -->
        
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

        <link rel="icon" href="favicon.svg">
        <link rel="shortcut icon" href="favicon.png">
        <link rel="stylesheet" href="css/variables.css">
        <link rel="stylesheet" href="css/general.css">
        <link rel="stylesheet" href="css/chrome.css">
        <link rel="stylesheet" href="css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="fonts/fonts.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="highlight.css">
        <link rel="stylesheet" href="tomorrow-night.css">
        <link rel="stylesheet" href="ayu-highlight.css">

        <!-- Custom theme stylesheets -->
        <link rel="stylesheet" href="theme/pagetoc.css">

    </head>
    <body>
        <!-- Provide site root to javascript -->
        <script>
            var path_to_root = "";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script>
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script>
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('no-js')
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add('js');
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script>
            var html = document.querySelector('html');
            var sidebar = 'hidden';
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item expanded affix "><a href="index.html">Introduction</a></li><li class="chapter-item expanded affix "><a href="CHANGELOG.html">Changelog</a></li><li class="chapter-item expanded affix "><li class="part-title">Mechanics</li><li class="chapter-item expanded "><a href="mech/economy.html"><strong aria-hidden="true">1.</strong> Economy</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="mech/economy/market.html"><strong aria-hidden="true">1.1.</strong> Market</a></li><li class="chapter-item expanded "><a href="mech/economy/spreadsheet.html"><strong aria-hidden="true">1.2.</strong> Spreadsheet</a></li><li class="chapter-item expanded "><a href="mech/economy/banking.html"><strong aria-hidden="true">1.3.</strong> Banking</a></li><li class="chapter-item expanded "><a href="mech/economy/companies.html"><strong aria-hidden="true">1.4.</strong> Companies</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="mech/economy/companies/commands.html"><strong aria-hidden="true">1.4.1.</strong> Commands</a></li></ol></li><li class="chapter-item expanded "><a href="mech/economy/resources.html"><strong aria-hidden="true">1.5.</strong> Resources</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="mech/economy/resources/crops.html"><strong aria-hidden="true">1.5.1.</strong> Crops</a></li><li class="chapter-item expanded "><a href="mech/economy/resources/ore.html"><strong aria-hidden="true">1.5.2.</strong> Ores</a></li></ol></li><li class="chapter-item expanded "><a href="mech/economy/API.html"><strong aria-hidden="true">1.6.</strong> API</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="mech/economy/api/hierarchy.html"><strong aria-hidden="true">1.6.1.</strong> Class Hierarchy</a></li></ol></li></ol></li><li class="chapter-item expanded "><a href="mech/npc.html"><strong aria-hidden="true">2.</strong> NPCs</a></li><li><ol class="section"><li class="chapter-item expanded "><div><strong aria-hidden="true">2.1.</strong> Types</div></li></ol></li><li class="chapter-item expanded "><a href="mech/combat.html"><strong aria-hidden="true">3.</strong> Combat</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="mech/combat/movecraft.html"><strong aria-hidden="true">3.1.</strong> Movecraft</a></li><li class="chapter-item expanded "><a href="mech/combat/damagetypes.html"><strong aria-hidden="true">3.2.</strong> Damage Types</a></li><li class="chapter-item expanded "><a href="mech/combat/artifacts.html"><strong aria-hidden="true">3.3.</strong> Artifacts</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="mech/combat/artifact-list.html"><strong aria-hidden="true">3.3.1.</strong> List of Artifacts</a></li></ol></li></ol></li><li class="chapter-item expanded "><a href="mech/skills.html"><strong aria-hidden="true">4.</strong> Skills</a></li><li class="chapter-item expanded "><a href="mech/cults.html"><strong aria-hidden="true">5.</strong> Cults</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="mech/cults/objects.html"><strong aria-hidden="true">5.1.</strong> Objects</a></li><li class="chapter-item expanded "><a href="mech/cults/config.html"><strong aria-hidden="true">5.2.</strong> Configuration</a></li><li class="chapter-item expanded "><a href="mech/cults/altars.html"><strong aria-hidden="true">5.3.</strong> Altars</a></li><li class="chapter-item expanded "><a href="mech/cults/shrines.html"><strong aria-hidden="true">5.4.</strong> Shrines</a></li><li class="chapter-item expanded "><a href="mech/cults/transmutations.html"><strong aria-hidden="true">5.5.</strong> Transmutations</a></li></ol></li><li class="chapter-item expanded "><a href="mech/nodes.html"><strong aria-hidden="true">6.</strong> Nodes</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="mech/nodes/territories.html"><strong aria-hidden="true">6.1.</strong> Territories</a></li><li class="chapter-item expanded "><a href="mech/nodes/handles-over-ids.html"><strong aria-hidden="true">6.2.</strong> Prefer Handles over IDs</a></li><li class="chapter-item expanded "><a href="mech/nodes/nation-system.html"><strong aria-hidden="true">6.3.</strong> Nation System</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="mech/nodes/nations/objects.html"><strong aria-hidden="true">6.3.1.</strong> Objects</a></li><li class="chapter-item expanded "><a href="mech/nodes/nations/permissions.html"><strong aria-hidden="true">6.3.2.</strong> Permissions</a></li><li class="chapter-item expanded "><a href="mech/nodes/nations/plots.html"><strong aria-hidden="true">6.3.3.</strong> Plots</a></li></ol></li><li class="chapter-item expanded "><a href="mech/nodes/npc-integration.html"><strong aria-hidden="true">6.4.</strong> NPC Integration</a></li></ol></li><li class="chapter-item expanded "><a href="mech/agriculture.html"><strong aria-hidden="true">7.</strong> Agriculture</a></li><li class="chapter-item expanded "><a href="mech/quests.html"><strong aria-hidden="true">8.</strong> Quests</a></li><li class="chapter-item expanded affix "><li class="part-title">Map</li><li class="chapter-item expanded "><a href="map/regions.html"><strong aria-hidden="true">9.</strong> Regions</a></li><li class="chapter-item expanded "><a href="map/cities.html"><strong aria-hidden="true">10.</strong> City States</a></li><li class="chapter-item expanded "><a href="map/mapoverview.html"><strong aria-hidden="true">11.</strong> Map Overview</a></li><li class="chapter-item expanded affix "><li class="part-title">Core</li><li class="chapter-item expanded "><a href="core/common-lib.html"><strong aria-hidden="true">12.</strong> ACCommonLib</a></li><li class="chapter-item expanded "><a href="core/datum.html"><strong aria-hidden="true">13.</strong> Datum</a></li><li class="chapter-item expanded affix "><li class="part-title">General Development</li><li class="chapter-item expanded "><a href="administration/housekeeping.html"><strong aria-hidden="true">14.</strong> Housekeeping</a></li><li class="chapter-item expanded "><a href="administration/optimization.html"><strong aria-hidden="true">15.</strong> Optimization</a></li><li class="chapter-item expanded "><a href="administration/coding-standard.html"><strong aria-hidden="true">16.</strong> Coding Standard</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="administration/commits.html"><strong aria-hidden="true">16.1.</strong> Proper Git Commits</a></li></ol></li><li class="chapter-item expanded "><a href="administration/project-timeline.html"><strong aria-hidden="true">17.</strong> Project Timeline</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="administration/timeline/phase-1.html"><strong aria-hidden="true">17.1.</strong> Phase 1</a></li></ol></li><li class="chapter-item expanded "><li class="part-title">Misc</li><li class="chapter-item expanded "><a href="misc/lore.html"><strong aria-hidden="true">18.</strong> Lore</a></li><li class="chapter-item expanded affix "><a href="misc/contributions.html">Contributions</a></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky bordered">
                    <div class="left-buttons">
                        <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </button>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">AirshipCraft Documentation</h1>

                    <div class="right-buttons">
                        <a href="print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>

                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script>
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <!-- Page table of contents -->
                        <div class="sidetoc"><nav class="pagetoc"></nav></div>

                        <!-- Page table of contents -->
                        <div class="sidetoc"><nav class="pagetoc"></nav></div>

                        <!-- Page table of contents -->
                        <div class="sidetoc"><nav class="pagetoc"></nav></div>

                        <!-- Page table of contents -->
                        <div class="sidetoc"><nav class="pagetoc"></nav></div>

                        <!-- Page table of contents -->
                        <div class="sidetoc"><nav class="pagetoc"></nav></div>

                        <h1 id="an-introduction-to-airshipcraft"><a class="header" href="#an-introduction-to-airshipcraft">An Introduction to AirshipCraft</a></h1>
<blockquote>
<p>v2.1.0 | 
Documentation of the mechanics and vision of the server.</p>
</blockquote>
<hr />
<blockquote>
<p>📝 <strong>Info:</strong> This document was last updated on 2023-03-07</p>
<p>⚠️ <strong>Warning:</strong> All information should be treated as current unless specifically told otherwise.</p>
<p>❓ <strong>Looking for user guides? Click <a href="placeholder">here</a>.</strong></p>
</blockquote>
<p>All information provided in this document is aimed at giving new and existing members of the development team some insight into what the AirshipCraft: Reborn (AC:R) project hopes to achieve. This document will describe every important element of the server, including its history, community, target audience, and previous issues that we have encountered in previous iterations. More importantly, the document will include suggestions as to how we can fix those issues, planned features, mechanics, and gameplay design. </p>
<p>This is a living document. All content regarding mechanics and gameplay is subject to change as the project progresses. New features will constantly be implemented and documented as they are developed.</p>
<p>See the <a href="CHANGELOG.html">changelog</a> to see a list of features added/removed and/or updated.</p>
<p>This project utilizes <a href="https://semver.org/">SemVer</a> for its versioning structure. The correct project version number should be displayed at the top of this page as well as at the top of the changelog.</p>
<blockquote>
<p>⚠️ <strong>Warning:</strong> at the time of writing, the project is currently in major version 0, meaning there is no playable nor stable version as the project is still in its initial development stage. </p>
</blockquote>
<h2 id="a-brief-history"><a class="header" href="#a-brief-history">A Brief History</a></h2>
<p>This is the second iteration of AirshipCraft. The first iteration was produced by mjcrafter100 (now Grau_Wulf)'s original AirshipCraft in 2015. The vision for his server was little more than an SMP server inspired by Movecraft and Factions features, nothing else. Although simple, it was extremely popular and loved by many. As AirshipCraft evolved, the vision shifted to form a geopolitical server which would later be known as 'Total War'. The Total War series of Minecraft servers will continue to face its own iterations of changes, but the main focus was always some type of land-claiming plugin and Movecraft.</p>
<p>The early economy system was nothing more than a few chest shops found in random locations with different buy and sell prices to simulate different regional markets, encouraging players to travel around the map on “trade runs” to earn money. An archaic form of a “tech tree” was implemented, using server play time and permissions as a deciding factor in what weapons or equipment a player can access, which as you can imagine became quickly imbalanced.</p>
<p>AirshipCraft: Reborn (AC:R) is similar to the original AirshipCraft in that it has a heavy focus on Movecraft mechanics. However, that is where the similarities end.</p>
<h2 id="project-overview"><a class="header" href="#project-overview">Project Overview</a></h2>
<blockquote>
<p>This page will serve as an overview of the entire project. Topics which require more in-depth explanations and plans for their implementation will receive their own section. These sections can be found in the table of contents located on the left-hand side of this page.</p>
</blockquote>
<h3 id="outline"><a class="header" href="#outline">Outline</a></h3>
<p>The purpose of this project is to fulfil the vision of creating a &quot;true&quot; geopolitical experience in Minecraft. Although it is not based on an Earth map, the map is Earth-like enough to encourage the natural growth and creation of nation-states through either player or NPC manipulation. &quot;Dynamic&quot; is the key buzzword for this project.</p>
<p>The world, much like real-life, should feel fluid (constantly changing). The project will include dynamic market prices as a result of:</p>
<ul>
<li>Inflation</li>
<li>Supply and demand patterns</li>
<li>Wars and diplomatic actions by foreign nations</li>
<li>Natural disasters </li>
</ul>
<p>All examples listed above are features that this project will attempt to replicate in the virtual world. </p>
<p>A primary focus of this project is its concentration on NPCs, heavily involving them within embedded game mechanics. This is to keep gameplay constantly engaging for the end user to maximize their gameplay experience.</p>
<p>With NPC-controlled nation-states scattered across the map, there will always be something for the player to do. In theory, the server should be fun and playable even if the player is completely alone on the server.</p>
<p>The goal of the economy is to be player-driven. There should be enough incentive for players to acquire currency without there being too many obstacles in place which may serve as a  potential deterrent for new players. Finding a good balance is difficult, but not impossible. </p>
<blockquote>
<p>See <a href="mech/economy.html">Economy</a></p>
</blockquote>
<p>We want to provide a server where realistic strategy, tactics, and creative thinking will allow players to get ahead. We want players to be able to own and control their own fully functioning and dynamic nations, towns and empires. We seek to find the balance between complexity and simplicity. Allowing for in-depth and complex mechanics but still being extremely player and 'noob friendly', providing a steep enough learning curve to separate the good players from the amateurs in a wider degree of aspects than just raw Minecraft skill. </p>
<p>Although AirshipCraft was never traditionally marketed as a “roleplay” server (and still technically isn’t), we are taking steps to emulate a form of “roleplay” environment to immerse players in this new world we are building. This includes the writing of lore, the creation of a quest system, player cards and other things that promote roleplay. Roleplay is highly encouraged but will not be enforced as it should be allowed to occur naturally.</p>
<h3 id="game-design"><a class="header" href="#game-design">Game Design</a></h3>
<p>This project is designed with the mindset of building a game. The goal is to design and implement gameplay elements that foster player engagement and boost player retention. Although the server is designed so it can be fun without being populated, it's mutually beneficial for all parties if there is an established player base.</p>
<p>This graph outlines a player’s skill vs. difficulty: </p>
<p><img src="images/skill-vs-difficulty.webp" alt="Skill Vs. Difficulty" /></p>
<p>Note: this shows three difficulty levels and how players react to them based on their skills. Also, note that the blue line enters all three boxes, which is important to get the most players interested in the gameplay.</p>
<p>By itself, this means nothing. However, combine it with this graph:</p>
<p><img src="images/interest-and-efficacy.jpeg" alt="Player Interest/Efficacy" /></p>
<p>This shows that, in the median, player interest is tied to efficacy. In other words, the better you are at something, the more you’re interested. The interest rate drops according to standard deviations from the median difficulty line as shown in the first graphic. </p>
<p>The full meaning of both of these graphs isn't realized until we look at this next graph:</p>
<p><img src="images/difficulty-challenge-graph.jpeg" alt="Difficulty and Challenge" /></p>
<p>This graph shows that as you move across difficulty levels, you engage players. This implies you have a game that can watch a player’s reactions and scale difficulty based on their performance. The AI needs to constantly move between the optimal challenge line, and the blue line in the first graph. It is based on these assumptions:</p>
<ol>
<li><strong>One cannot design a difficulty that is perfect for everyone.</strong></li>
<li>Therefore, we must move the player above and below the difficulty line using rewards.</li>
<li>The best way to do this is to provide multiple reward types that cater to different styles of play.</li>
</ol>
<p>Rather than categorize players as high-skill vs. low-skill, attenuate the game to make players feel highly skilled and low-skilled. Both levels serve a purpose, as graph 3 shows. Note that the stuff in the quotation marks in graph 3 are the negatives of this mode.</p>
<p>Given this, we think of the following as guiding principles:</p>
<ul>
<li>As players move above the optimal challenge line, they feel high satisfaction.
<ul>
<li>Keep them there too long and they quickly devolve into more negative feelings about the play being ‘too easy’ or ‘childish’.</li>
</ul>
</li>
<li>As players move below the optimal challenge line, it leads to a high player effort to succeed.
<ul>
<li>Here the positive emotions of challenge and excitement are balanced by the negative pitfalls of it being ‘too hard’ or ‘frustrating’. You can’t keep them here too long either.</li>
</ul>
</li>
<li>The key to successful engagement is to move players across this line using a rewards system that caters to both high satisfaction (ranks, levels, recognition, Right Brain motivators) and high effort (items, upgrades, bonuses, Left Brain motivators).</li>
</ul>
<p>And finally, again:</p>
<ul>
<li><strong>No two people are the same</strong>, so there is no true ‘optimal challenge line’. It is a construct used to understand from measurements when to make hurdles harder or easier based on individual player performance.</li>
</ul>
<p>This is one way to deal with player engagement and create addiction. Great games closely adhere to the ‘Optimal Challenge Line’ as created by each player’s skill and use the Octalysis drivers to push players back and forth across the line.</p>
<p>Octalysis is a great breakdown of player motivations by Yu-Kai Chou. We can use the drivers here to motivate high-satisfaction and high-effort players, as each responds differently.</p>
<p>This is beautifully captured in this graphic:</p>
<p><img src="images/gamification.jpeg" alt="Octalysis of Gamification" /></p>
<p>The graph is a very good guide on what should be kept in mind when proceeding with the development of the server/project. We can, however, for the sake of simplicity, focus mainly on the key points of the graph.</p>
<ul>
<li><strong>Progress</strong>: 
<ul>
<li>As players advance in the game, they should feel a sense of accomplishment. Clear objectives, like levelling up different skills or tech trees, unlocking new items or abilities, or things such as making the world more &quot;exploration worthy&quot; can help achieve this.</li>
</ul>
</li>
<li><strong>Feedback</strong>: 
<ul>
<li>Players must receive immediate feedback on their actions, such as points earned or money earned, in order to improve gameplay and keep them engaged.</li>
</ul>
</li>
<li><strong>Difficulty</strong>: 
<ul>
<li>The game should be challenging enough to be engaging without being too difficult to the point where players give up in frustration.</li>
</ul>
</li>
<li><strong>Social</strong>: 
<ul>
<li>
<p>To encourage players to compete with one another, the game should have a social element like leaderboards or some sort of way to give players &quot;bragging rights&quot; but also make those bragging rights worthy of being sought out.</p>
<ul>
<li>An example could possibly be the <a href="mech/cults.html">cults</a> system, or the <a href="mech/nodes.html">nodes</a> system.</li>
</ul>
</li>
</ul>
</li>
<li><strong>Replayability</strong>: 
<ul>
<li>The game should entice players to return and play it repeatedly. Randomly generated content, an immersive and dynamic world, and other event-like activities and objectives can help accomplish this.</li>
</ul>
</li>
</ul>
<p>A good storyline can engage players and make them want to keep playing to see what happens next. We aim to accomplish this by providing multiple quest lines that have benefits and impacts on the player who chooses to complete them and possibly (slight) drawbacks to those who don't, in order to gently nudge players to keep playing and trying different things.</p>
<h3 id="philosophy"><a class="header" href="#philosophy">Philosophy</a></h3>
<p>It's important to maintain a commonly shared philosophy when designing or working on mechanics. The general mantra is to add quality of life (QOL) improvements to the player whenever possible. If we are able to streamline the boring, basic, vanilla mechanics and make it very easy, or in some cases automated, for the player, the player can focus on the unique, more interesting and &quot;fun&quot; mechanics we have designed for them.</p>
<p>If a player sits and has to mine or farm for resources manually for everything they need, then they will only spend about 1/4th or less of their time actually playing the game, since 3/4ths of it would be spent grinding. <strong>Try to limit unnecessary grinds.</strong></p>
<p>Designing any sort of progression system or mechanic that requires players to put in the effort is <strong>good</strong> (as we have stated before in the previous section), however, there's a difference between challenging and time-consuming and we want to limit time-consuming whenever possible. </p>
<h3 id="purpose-of-these-docs"><a class="header" href="#purpose-of-these-docs">Purpose of These Docs</a></h3>
<p>This documentation serves as a guide to potential/future developers who have graciously volunteered or have been brought on to the team to work on AirshipCraft.</p>
<p>Planned features which are outlined and explained in any of the subsections to the left of this page might include a note at the top of the page such as: </p>
<blockquote>
<p><span style="color:red">Currently unimplemented.</span></p>
</blockquote>
<blockquote>
<p><span style="color:green">Implemented as of YYYY-MM-DD.</span></p>
</blockquote>
<blockquote>
<p><span style="color:yellow">Currently being developed as of YYYY-MM-DD.</span></p>
</blockquote>
<p>These notes give a sort of status indication of what features have been added, which are currently being worked on, and what features have not been implemented at all.</p>
<hr />
<p><strong>Written by</strong>:<br />
Zeyad “zune” Rashed,<br />
Head Developer and Project Manager<br />
AirshipCraft<br />
AirshipCraft: Reborn</p>
<p><strong>Contact</strong>:<br />
<a href="https://www.airshipcraft.tk/">Website</a> (Homepage)<br />
<a href="https://discord.gg/E287MWbVUK">Discord</a> (Discord)<br />
<a href="https://github.com/notzune/docs/issues">GitHub</a> (GitHub Repo)</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="changelog"><a class="header" href="#changelog">Changelog</a></h1>
<p>All notable changes to this project will be documented in this file. This includes new features in-game, such as plugins or mechanics, changes to existing features, plugins, mechanics, or additions/removals to the backend or frontend of the website or databases involved in the project, as well as changes to this documentation. </p>
<p>The format is based on <a href="https://keepachangelog.com/en/1.0.0/">Keep a Changelog</a>,
and this project adheres to <a href="https://semver.org/spec/v2.0.0.html">Semantic Versioning</a>.</p>
<h2 id="v213---2023-04-25--"><a class="header" href="#v213---2023-04-25--">[v2.1.3] - 2023-04-25 -</a></h2>
<h2 id="v212---2023-03-03---2023-03-07"><a class="header" href="#v212---2023-03-03---2023-03-07">[v2.1.2] - 2023-03-03 - 2023-03-07</a></h2>
<h3 id="added"><a class="header" href="#added">Added</a></h3>
<ul>
<li>Docs:
<ul>
<li>Added new <a href="mech/economy.html">Economy</a> related pages:
<ul>
<li><a href="mech/economy/banking.html">Banking</a></li>
</ul>
</li>
<li>Fleshed out <a href="mech/combat.html">combat</a> related pages:
<ul>
<li><a href="mech/combat/artifacts.html">Artifacts</a> and <a href="mech/combat/artifact-list.html">Artifact List</a></li>
<li><a href="mech/combat/damagetypes.html">Damage Types</a></li>
</ul>
</li>
</ul>
</li>
</ul>
<h3 id="changed"><a class="header" href="#changed">Changed</a></h3>
<ul>
<li>Docs:
<ul>
<li>Restructuring of certain sections:
<ul>
<li>NPC</li>
<li>Nodes</li>
</ul>
</li>
<li>Renamed <code>PlayerStats</code> -&gt; <a href="core/datum.html">Datum</a></li>
</ul>
</li>
</ul>
<h3 id="fixed"><a class="header" href="#fixed">Fixed</a></h3>
<ul>
<li>Docs:
<ul>
<li>Fixed incorrect page being displayed for <a href="core/playerstats.html">PlayerStats</a></li>
</ul>
</li>
</ul>
<h2 id="v211---2023-1-24---2023-02-27"><a class="header" href="#v211---2023-1-24---2023-02-27">[v2.1.1] - 2023-1-24 - 2023-02-27</a></h2>
<h3 id="added-1"><a class="header" href="#added-1">Added</a></h3>
<ul>
<li>Docs:
<ul>
<li><del>Began writing of the project overview</del>. (DONE!)</li>
<li>Added various economy related pages.</li>
<li>Begun implementation of page tags such as &quot;Unimplemented&quot;, &quot;Implemented&quot; and &quot;Currently being developed&quot;.
<ul>
<li>For now they are just text tags.</li>
</ul>
</li>
<li>Created new Misc. section.
<ul>
<li>Currently includes &quot;Lore&quot; and &quot;Quest&quot; pages.</li>
</ul>
</li>
<li>Added &quot;philosophy&quot; section to the introduction page.</li>
<li>Added page for <a href="mech/nation-system.html">land claiming</a>.</li>
<li>Added page explaining <a href="mech/nodes.html">nodes</a>.
<ul>
<li>Page to explain the <a href="mech/nodes/territories.html">territories</a> better.</li>
<li>Explain using <a href="mech/nodes/handles-over-ids.html">handles over IDs</a>.</li>
</ul>
</li>
<li>Economy related pages:
<ul>
<li><a href="mech/economy/resources.html">Resources</a>.</li>
<li><a href="mech/economy/market.html">Market</a>.</li>
<li><a href="mech/economy/banking.html">Banking</a>.</li>
<li>Started explaining the <a href="mech/economy/API.html">API</a>
<ul>
<li>Class <a href="mech/economy/api/hierarchy.html">Hierarchy</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="mech/cults.html">Cults</a> page.
<ul>
<li>Explanation of <a href="mech/cults/objects.html">cult objects</a>.</li>
<li>Breakdown of <a href="mech/cults/altars.html">Altars</a></li>
<li>Explanation of <a href="mech/cults/transmutations.html">Transmutations</a></li>
</ul>
</li>
<li><a href="misc/playerstats.html">Player Stats</a> page and diagram.</li>
<li>Added a <a href="administration/project-timeline.html">project timeline</a> and associated pages:
<ul>
<li><a href="administration/timeline/phase-1.html">Phase 1</a>.</li>
<li><a href="administration/housekeeping.html">Housekeeping</a> is meant to serve as a guideline to keep code uniform and encourage best practices to keep the project organized.</li>
<li>Also added <a href="administration/coding-standard.html">Coding Standard</a>, <a href="administration/optimization.html">Optimization</a> and <a href="administration/commits.html">Commits</a></li>
</ul>
</li>
<li>Added a &quot;Core&quot; section discussing the core components that make up the backbone of the project.
<ul>
<li><a href="core/common-lib.html">Common Library</a> page outlining the framework and its functionality.</li>
</ul>
</li>
</ul>
</li>
</ul>
<h3 id="changed-1"><a class="header" href="#changed-1">Changed</a></h3>
<ul>
<li>Docs:
<ul>
<li>Changed structure of the table of contents.
<ul>
<li>Moved the Map section underneath the Mechanics section as it made more sense.</li>
<li>Moved &quot;Lore&quot; page to no longer be nested underneath the Map section and instead moved under Misc.</li>
<li>Moved &quot;Claiming System&quot; page to be nested under Nodes instead of its own section as it makes more sense.</li>
<li>Moved &quot;PlayerStats&quot; to the core section as it makes more sense.</li>
</ul>
</li>
<li>Updated footer on first page.</li>
<li>Fixed various small formatting errors .</li>
<li>Updated <a href="misc/contributions.html">contributions</a> page.</li>
<li>Changed <code>Administration</code> -&gt; <code>General Development</code>
<ul>
<li>Better reflection of what the section is meant for.</li>
</ul>
</li>
</ul>
</li>
</ul>
<h3 id="removed"><a class="header" href="#removed">Removed</a></h3>
<ul>
<li>Docs:
<ul>
<li>Removed Nation Objects page as it isn't necessary.</li>
</ul>
</li>
</ul>
<h2 id="v210---2023-1-2---2023-1-23"><a class="header" href="#v210---2023-1-2---2023-1-23">[v2.1.0] - 2023-1-2 - 2023-1-23</a></h2>
<h3 id="added-2"><a class="header" href="#added-2">Added</a></h3>
<ul>
<li>
<p>Web:</p>
<ul>
<li>Seperate repositories for better version control via git.
<ul>
<li>Created seperate repo to hold the documentation.</li>
<li>Created seperate repo for homepage.</li>
</ul>
</li>
<li>Started work on <code>/craftviewer</code> and <code>/market</code>.</li>
</ul>
</li>
<li>
<p>Discord:</p>
<ul>
<li>In process of creating seperate Discord server exclusively for developmental purposes.</li>
<li>Arya
<ul>
<li>Creation of seperate repository for Arya's core module for better version controlling.</li>
</ul>
</li>
</ul>
</li>
<li>
<p>Server:</p>
<ul>
<li>Upgraded server hardware to 6 cores and 16 GB RAM.</li>
<li>Set up <code>rdiff-backup</code> in-order to periodically backup the map.</li>
<li>Pruned uneccesary/redundant testing environments.</li>
</ul>
</li>
<li>
<p>Map:</p>
<ul>
<li>
<p>Began work on &quot;Port Xile&quot; as well as plotting out the starting point for &quot;Bettesville&quot;.</p>
</li>
<li>
<p>&quot;Port Xile&quot;:</p>
<ul>
<li>Market area completed, needs polishing/decorating.</li>
<li>Social area half finished, feels empty atm.</li>
<li>Main fortress near complete needs interior/rooms.</li>
<li>Residential area near complete, needs a few more blocks to fill out space, as well as creation of a &quot;high end&quot; district.</li>
</ul>
</li>
</ul>
</li>
</ul>
<h3 id="changed-2"><a class="header" href="#changed-2">Changed</a></h3>
<ul>
<li>
<p>Misc:</p>
<ul>
<li>Fixed project version to display <code>v2</code> instead of <code>v0</code>.</li>
</ul>
</li>
<li>
<p>Docs:</p>
<ul>
<li>Restructuring of the documentation.</li>
<li>Creation of user guides.</li>
<li>Began writing of the project overview.</li>
</ul>
</li>
</ul>
<h3 id="removed-1"><a class="header" href="#removed-1">Removed</a></h3>
<ul>
<li>
<p>Web:</p>
<ul>
<li>Documentation and homepage from main web repository, moved to seperate repo.</li>
<li>Configured Dynmap.
<ul>
<li>To use external webserver instead of the default internal webserver.</li>
<li>Installed LiveAtlas UI.</li>
<li>New link: <a href="https://airshipcraft.tk/map">https://airshipcraft.tk/map</a>.</li>
</ul>
</li>
</ul>
</li>
<li>
<p>Discord:</p>
<ul>
<li>Moved <code>core</code> module of Arya to seperate repository.</li>
</ul>
</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><blockquote>
<p><span style="color:red">Currently unimplemented.</span></p>
</blockquote>
<h1 id="economy"><a class="header" href="#economy">Economy</a></h1>
<h2 id="overview"><a class="header" href="#overview">Overview</a></h2>
<p>The economy is a crucial point of the project/server. It builds the core of the overall gameplay design as it gives players a purpose. Building a good economic system within the game is a crucial step in setting the foundation for creating a positive feedback loop in the player's experience.</p>
<p>A good economy allows players to trade and exchange resources in order to progress or improve their gameplay experience. Our economic system aims to include elements such as supply and demand, inflation, and player-driven marketplaces. A good economic system should allow for player choice and strategy, as well as create opportunities for players to specialize in certain in-game activities. A balanced economy can prevent exploitation and provide fair opportunities for players to acquire resources.</p>
<p>A balanced economy can prevent exploitation by ensuring that there is a fair distribution of resources and opportunities for all players. This can be achieved through a variety of methods, such as setting limits on the number of resources that can be gathered or traded, or adjusting the costs of goods and services based on supply and demand; both methods we plan to implement.</p>
<p>Additionally, a balanced economy can prevent players from cornering the market on a particular resource, or charging exorbitant prices for goods or services, by placing caps on the prices that can be charged or by adjusting the availability of resources based on player actions.</p>
<p>If the economy is well designed, it will be easier for players and moderators to be able to detect suspicious activity that could be caused by player exploitation, as such, allowing for quicker patches.</p>
<blockquote>
<p>See <a href="mech/economy/market.html">Market</a></p>
</blockquote>
<h2 id="currency"><a class="header" href="#currency">Currency</a></h2>
<p>A physical item currency will be implemented. Theoretically, we will be able to allow players to mint their own currencies and assign them value based on in-game factors to allow for currency exchanges and a more competitive economic ecosystem.</p>
<p>This will also allow for more complex actions and for more customizability and incentives to form things such as <a href="mech/economy/banking.html">banks</a> and <a href="mech/economy/companies.html">companies</a>.</p>
<p>Also, by implementing a physical item-based currency, it gives greater incentive to raiding, PvP, and wars.</p>
<div style="break-before: page; page-break-before: always;"></div><blockquote>
<p><span style="color:red">Currently unimplemented.</span></p>
</blockquote>
<h1 id="market"><a class="header" href="#market">Market</a></h1>
<p>The market system is one of the key features of the entire project as it serves as the backbone of the economy. Caution must be used when designing, discussing, or working on features of the economy in general and the market system in particular. Measures need to be taken to ensure the system can not be gamed or at least the gaming of the system will be kept to a minimum. With a proper dynamic economy, we can avoid players finding METAs that break the economy.</p>
<h2 id="overview-1"><a class="header" href="#overview-1">Overview</a></h2>
<p>There will be two parts to the market. The <strong>global</strong> and the <strong>local</strong> market. </p>
<p>The <strong>global market</strong> determines things on a server-wide scale, such as a price ceiling to set the default cost of items put on sale on the market if not specified by the user. It also creates an index on the webserver as a reference for players to be able to see a <a href="mech/economy/economy/spreadsheet.html">spreadsheet</a> of the current market prices of items. The global market is meant to be a guideline to building the local markets but should not be limited to the end user in any real way.</p>
<p>The <strong>local market</strong> determines the prices and sale of goods on a <a href="mech/economy/../../map/regions.html">region</a> basis. Much like the <strong>global market</strong>, the local market sets price ceilings on items and uses the global market prices to set the maximum initial price on items. The local market also records how many unique vendors sell a certain item in that region and inversely raises the price ceiling to allow players a chance to be able to corner the market in that specific region.</p>
<h2 id="the-global-market"><a class="header" href="#the-global-market">The Global Market</a></h2>
<p>The <strong>global market</strong> monitors the <strong>supply</strong> of items server-wide. Supply is the number of items submitted to chests connected to a vendor/merchant <a href="mech/economy/NPCs/types/merchants.html">NPC</a>. This keeps track of the <strong>global supply</strong> of items. As the supply increases, the global price cap lowers, which in turn will lower the global default initial pricing of items. </p>
<p>An initial price point is required due to the hyperbolic formula used in determining dynamic market prices. It would be impossible to buy any item if it reaches 0.</p>
<h3 id="inflation"><a class="header" href="#inflation">Inflation</a></h3>
<p>The initial price point (after it is first configured by an Administrator via the configuration file) is affected by in-game inflation rates using the formula:</p>
<p><code>R = ((B - A)/A) x 100</code></p>
<blockquote>
<p>Where A = starting cost; B = ending cost; R = inflation rate</p>
</blockquote>
<p>How it works: It takes the pre-configured initial price point for an item (B) and after a month(?) compares it with the mean price point of that specific item across all of the registered local markets (A). The resulting rate (R) is then subtracted from the starting price point (A) and the new market month begins.</p>
<h2 id="the-local-market-per-region-markets"><a class="header" href="#the-local-market-per-region-markets">The Local Market (Per-region Markets)</a></h2>
<p>The <strong>local market</strong> is where the really interesting part begins. The local market, like the <strong>global market</strong> sets an initial price on items based on two factors:</p>
<p>The first factor is the global market's initial price. The local market's initial price cap should always either equal or be less than the global market's. </p>
<p>By default, all items start in initial pricing mode. Initial pricing is a temporary price cap or ceiling that keeps prices low until a reasonable amount of the item has been sold to the shop. The price of an item will not change while it is in dynamic pricing mode.</p>
<p>Due to the nature of the pricing formula, an item with 0 stock has an infinite sell value when in dynamic pricing mode. Initial pricing is there to fix this issue. Tradeable objects will automatically switch to dynamic pricing mode whenever the dynamic price is less than the initial price. </p>
<h2 id="dynamic-pricing"><a class="header" href="#dynamic-pricing">Dynamic Pricing</a></h2>
<p>The main purpose of this economic system is to allow for dynamic price changes in the server's economy in order to prevent stagnant gameplay and force players to constantly adapt to market prices instead of abusing a singular trading META.</p>
<p>Dynamic pricing mode will automatically be activated for all items once they reach a certain stock level. Once in dynamic mode, the price of the item will vary depending on how much stock is available for that item.</p>
<p>As the stock approaches 0, the price will approach infinity, and as the stock approaches infinity, the price will approach 0. This means that it is essentially impossible to purchase the final item in a shop whenever it is in dynamic pricing mode. The pricing formula is as follows: </p>
<p><code>price = (median * value) / stock.</code> </p>
<h2 id="taxation"><a class="header" href="#taxation">Taxation</a></h2>
<p>This economic system will allow for different forms of taxation. Taxes, by default, are deposited into the region's bank account unless an eligible bank account is found. </p>
<pre><code>                  ┌───────────────┐
                  │Collected Taxes│
                  └──────┬────────┘
                         │
                         │
                         │
                         ▼
                  ┌──────────────────────┐
                  │                      │
                  │ Available town bank? │
                  │                      │
                  └─────────┬────────────┘
                            │
                            │
                            ▼
                  ┌────────────────────────┐
                  │                        │
                  │ Available nation bank? │
                  │                        │
                  └──────────┬─────────────┘
                             │
                             │
                             │
                             ▼
                  ┌──────────────────────┐
                  │                      │
                  │  Region bank account │
                  │                      │
                  └──────────────────────┘
</code></pre>
<blockquote>
<p>📝 <strong>Note:</strong> Here is a chart showing the priority hierarchy of where the taxes are deposited.</p>
</blockquote>
<p>Tax rates default to whatever is defined in the <code>config.yml</code> to be the &quot;global tax rate&quot;, but if a shop is within the territory of a town or nation and they have set its tax rate, then it will use that rate instead. If both the town and the nation set a tax rate, it would take the average of both numbers.</p>
<h3 id="purchase-tax"><a class="header" href="#purchase-tax">Purchase Tax</a></h3>
<p>Purchase tax is applied when items are purchased in dynamic pricing mode. If the tax rate were 3%, the tax charged for the purchase would be 3% of the purchase price.</p>
<h3 id="initial-tax"><a class="header" href="#initial-tax">Initial Tax</a></h3>
<p>Initial tax is applied when items are purchased in initial pricing mode. It works just like a purchase tax.</p>
<h3 id="enchantment-tax"><a class="header" href="#enchantment-tax">Enchantment Tax</a></h3>
<p>Enchantment tax is applied when enchantments are purchased. Enchantment tax will apply to all enchantments unless they are in static pricing mode.</p>
<h3 id="dynamic-sales-tax"><a class="header" href="#dynamic-sales-tax">Dynamic Sales Tax</a></h3>
<p>It allows poor players to make more money during sales than rich players. Dynamic tax will only be applied when the player's balance is between the money-floor and the money-cap defined in config.yml. The maximum tax rate defined in config.yml will be applied when the player's balance is equal to or greater than the money-cap. If the max tax is set to 100 percent the player will no longer make money when selling items to a server shop. At the money floor, no tax will be applied. Between the cap and floor, the tax rate will gradually increase as the player's balance approaches the money cap.</p>
<blockquote>
<p>See also <a href="mech/economy/banking.html">Banking</a>, and the <a href="mech/economy/../nodes/nation-system.html">Nation System</a></p>
</blockquote>
<h4 id="taxed-transaction"><a class="header" href="#taxed-transaction">Taxed Transaction</a></h4>
<pre><code class="language-java">public interface TaxedTransaction extends EconomyTransaction {

    /**
     * Add a tax collector to this taxed transaction. The tax collector account receives the taxes from this
     * transaction.
     *
     * @param taxCollector account to receive the taxes.
     * @return taxed transaction with tax collector
     */
    TaxedTransaction setCollectedBy(Account taxCollector);

    /**
     * Return the amount of taxes to be paid in this transaction.
     *
     * @return the amount of taxes to be paid in this transaction.
     */
    double getTax();
}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><blockquote>
<p><span style="color:red">Currently unimplemented.</span></p>
</blockquote>
<h1 id="spreadsheet"><a class="header" href="#spreadsheet">Spreadsheet</a></h1>
<p>The spreadsheet is essentially just a web application that hooks directly into the <a href="mech/economy//src/mech/economy.html">economy</a> and works with the <a href="mech/economy//src/mech/economy/market.html">Market</a> system.</p>
<h2 id="overview-2"><a class="header" href="#overview-2">Overview</a></h2>
<p>Our goal is to build a dynamic website that displays the prices of items on a per-region and global basis. We want to hook the website directly into the server, so we can query the prices set for a specific item per region, as well as querying the global price of a specific item. The website should display all this information in a visually appealing format and update the prices in real-time, or at least once a day at a certain time.</p>
<p>To achieve this, we need to:</p>
<ol>
<li>Connect the website to the server</li>
<li>Create an API within the Market plugin to retrieve price data</li>
<li>Organize the data into a spreadsheet format</li>
<li>Display the data on the website</li>
<li>Implement real-time updates, or update the prices once a day at a certain time</li>
</ol>
<p>Let's break these steps down further:</p>
<h3 id="1-connect-the-website-to-the-server"><a class="header" href="#1-connect-the-website-to-the-server">1. Connect the website to the server</a></h3>
<p>We need to connect the website to the Minecraft server running AirshipCraft. Since Spigot's built-in API doesn't provide us with a way to directly communicate with a web server, we'll need to create our own API within the Market plugin. </p>
<h4 id="create-an-http-endpoint"><a class="header" href="#create-an-http-endpoint"><em><strong>Create an HTTP endpoint</strong></em></a></h4>
<p>We can create an HTTP endpoint in the Market plugin that handles incoming requests from the website. Here's some pseudocode that demonstrates how we might achieve this:</p>
<pre><code class="language-java">import org.bukkit.plugin.java.JavaPlugin;
import org.bukkit.Material;
import spark.*;

public class MarketPlugin extends JavaPlugin {

    private static final int PORT = 8000;
    private static final String API_PATH = &quot;/api/market&quot;;

    @Override
    public void onEnable() {
        Spark.port(PORT);
        Spark.path(API_PATH, () -&gt; {
            Spark.get(&quot;/price/:item/:region&quot;, (req, res) -&gt; {
                String itemName = req.params(&quot;item&quot;);
                String regionName = req.params(&quot;region&quot;);
                double price = getPrice(itemName, regionName);
                return Double.toString(price);
            });
        });
    }

    private double getPrice(Material itemName, String regionName) {
        // Retrieve the price for the given item in the given region
        // ...
        return price;
    }

    private double getPrice(String itemName, String regionName) {
        // Retrieve the price for the given item in the given region
        // ...
        return price;
    }

}
</code></pre>
<p>This code creates an HTTP endpoint at <code>localhost:8000/api/market/price/:item/:region</code>. When a request is made to this endpoint, the <code>getPrice()</code> method is called, which retrieves the price for the given item in the given region using Spigot's API. The price is then returned as a string.</p>
<h4 id="set-up-a-web-server"><a class="header" href="#set-up-a-web-server"><em><strong>Set up a web server</strong></em></a></h4>
<p>We'll need to set up a web server that can handle HTTP requests from the website and communicate with the Market plugin's API.</p>
<p>Here's some pseudocode that demonstrates how we might achieve this using the Spark Java web framework:</p>
<pre><code class="language-java">import spark.*;
import com.google.gson.Gson;

public class SpreadsheetServer {

    private static final String MARKET_API_URL = &quot;http://localhost:8000/api/market&quot;;
    private static final Gson gson = new Gson();

    public static void main(String[] args) {
        Spark.port(8080);
        Spark.staticFileLocation(&quot;/public&quot;);

        Spark.get(&quot;/price/:item/:region&quot;, (req, res) -&gt; {
            String itemName = req.params(&quot;item&quot;);
            String regionName = req.params(&quot;region&quot;);
            String url = MARKET_API_URL + &quot;/price/&quot; + itemName + &quot;/&quot; + regionName;
            String priceString = HttpUtils.get(url);
            double price = Double.parseDouble(priceString);
            return gson.toJson(price);
        });
    }

}
</code></pre>
<p>This code sets up a web server on port 8080 that serves static files from the <code>/public</code> directory. When a request is made to <code>/price/:item/:region</code>, the server makes a request to the Market plugin's API to retrieve the price for the given item in the given region. The price is then returned as a JSON object.</p>
<h4 id="front-end-integration"><a class="header" href="#front-end-integration"><em><strong>Front-end integration</strong></em></a></h4>
<p>Certainly! After we have established a connection between the website and the server, we can move on to integrating the front end. The front end is responsible for displaying the data retrieved from the server in a user-friendly and visually appealing format.</p>
<p>To achieve this, we can use a front-end framework like React or Angular, which will provide us with the necessary tools to create a dynamic and responsive user interface. We can also use libraries like Chart.js or D3.js to create interactive data visualizations.</p>
<p>Here is some pseudocode for the front-end integration:</p>
<pre><code class="language-java">// Define the front-end application
public class SpreadsheetApplication extends Application {

    // Initialize the application
    public void init() {
        // Connect to the server
        connectToServer();
    }

    // Connect to the server
    private void connectToServer() {
        // Use AJAX to send an HTTP request to the server
        XMLHttpRequest request = new XMLHttpRequest();
        request.open(&quot;GET&quot;, &quot;http://localhost:8080/prices&quot;);
        request.onload = () -&gt; {
            if (request.status == 200) {
                // Retrieve the price data from the response
                String responseText = request.responseText;
                JSONArray priceData = new JSONArray(responseText);
                
                // Render the data on the page
                renderSpreadsheet(priceData);
            }
        };
        request.send();
    }

    // Render the spreadsheet on the page
    private void renderSpreadsheet(JSONArray priceData) {
        // Use React or Angular to render the data
        // Use Chart.js or D3.js to create data visualizations
        // Use CSS to style the page
        // Use JavaScript to add interactivity
    }

}

// Start the application
public static void main(String[] args) {
    launch(args);
}
</code></pre>
<p>In this example, we use AJAX to send an HTTP request to the server and retrieve the price data in JSON format. We then use React or Angular to render the data on the page and use Chart.js or D3.js to create data visualizations. Finally, we use CSS to style the page and JavaScript to add interactivity.</p>
<p>This is just a high-level overview of the front-end integration process, but it should give you an idea of how we can create a dynamic and visually appealing user interface for our spreadsheet application.</p>
<p>Certainly! Here are some code examples for using React and Chart.js to render and visualize data on the front-end:</p>
<h4 id="rendering-data-with-react"><a class="header" href="#rendering-data-with-react"><em><strong>Rendering data with React</strong></em></a></h4>
<p>We can use React to create a dynamic user interface that updates in real-time as new data is received from the server. Here's an example of how we might use React to render a table of item prices:</p>
<pre><code class="language-jsx">import React, { useState, useEffect } from 'react';
import axios from 'axios';

function ItemPrices() {
  const [prices, setPrices] = useState([]);

  useEffect(() =&gt; {
    axios.get('/api/prices')
      .then(response =&gt; {
        setPrices(response.data);
      })
      .catch(error =&gt; {
        console.error(error);
      });
  }, []);

  return (
    &lt;table&gt;
      &lt;thead&gt;
        &lt;tr&gt;
          &lt;th&gt;Item&lt;/th&gt;
          &lt;th&gt;Region&lt;/th&gt;
          &lt;th&gt;Price&lt;/th&gt;
        &lt;/tr&gt;
      &lt;/thead&gt;
      &lt;tbody&gt;
        {prices.map((price, index) =&gt; (
          &lt;tr key={index}&gt;
            &lt;td&gt;{price.item}&lt;/td&gt;
            &lt;td&gt;{price.region}&lt;/td&gt;
            &lt;td&gt;{price.price}&lt;/td&gt;
          &lt;/tr&gt;
        ))}
      &lt;/tbody&gt;
    &lt;/table&gt;
  );
}
</code></pre>
<p>In this example, we use the <code>useState</code> and <code>useEffect</code> hooks to manage the state of the <code>prices</code> array. We make a GET request to the <code>/api/prices</code> endpoint to retrieve the latest prices from the server, and update the state with the response data. We then use the <code>map</code> function to render each item in the <code>prices</code> array as a table row.</p>
<h4 id="visualizing-data-with-chartjs"><a class="header" href="#visualizing-data-with-chartjs"><em><strong>Visualizing data with Chart.js</strong></em></a></h4>
<p>We can use Chart.js to create data visualizations that help users understand the trends and patterns in the data. Here's an example of how we might use Chart.js to create a line chart of item prices over time:</p>
<pre><code class="language-jsx">import React, { useState, useEffect } from 'react';
import axios from 'axios';
import { Line } from 'react-chartjs-2';

function PriceChart() {
  const [data, setData] = useState({});

  useEffect(() =&gt; {
    axios.get('/api/prices')
      .then(response =&gt; {
        const labels = response.data.map(price =&gt; price.date);
        const prices = response.data.map(price =&gt; price.price);
        setData({
          labels: labels,
          datasets: [
            {
              label: 'Item Prices',
              data: prices,
              fill: false,
              borderColor: 'rgb(75, 192, 192)',
              tension: 0.1
            }
          ]
        });
      })
      .catch(error =&gt; {
        console.error(error);
      });
  }, []);

  return (
    &lt;Line data={data} /&gt;
  );
}
</code></pre>
<p>In this example, we use the <code>useState</code> and <code>useEffect</code> hooks to manage the state of the <code>data</code> object. We make a GET request to the <code>/api/prices</code> endpoint to retrieve the latest prices from the server, and format the data as an object that can be consumed by Chart.js. We then pass the <code>data</code> object to the <code>Line</code> component, which renders a line chart with the item prices over time.</p>
<h3 id="2-create-an-api-within-the-market-plugin-to-retrieve-price-data"><a class="header" href="#2-create-an-api-within-the-market-plugin-to-retrieve-price-data">2. Create an API within the Market plugin to retrieve price data</a></h3>
<p>We'll need to modify the Market plugin to expose an API that we can use to retrieve the prices of all the items in the game. We can do this by adding methods to the plugin that retrieve the prices for each item in each region. We'll need to store this data in a database or other data storage system so we can access it easily and organize it into a spreadsheet format.</p>
<h3 id="3-organize-the-data-into-a-spreadsheet-format"><a class="header" href="#3-organize-the-data-into-a-spreadsheet-format">3. Organize the data into a spreadsheet format</a></h3>
<p>Once we have the price data, we'll need to organize it into a spreadsheet format. We can use a spreadsheet library or write our own code to organize the data into rows and columns. We'll also need to create a user interface for the website that displays this data in a visually appealing format.</p>
<h3 id="4-display-the-data-on-the-website"><a class="header" href="#4-display-the-data-on-the-website">4. Display the data on the website</a></h3>
<p>We'll need to use HTML, CSS, and JavaScript to create the user interface for the website. We can use a front-end framework like React or Angular to help us create a dynamic and responsive user interface that updates in real-time.</p>
<h3 id="5-implement-real-time-updates-or-update-the-prices-once-a-day-at-a-certain-time"><a class="header" href="#5-implement-real-time-updates-or-update-the-prices-once-a-day-at-a-certain-time">5. Implement real-time updates, or update the prices once a day at a certain time</a></h3>
<p>Finally, we'll need to implement real-time updates or schedule daily updates at a certain time. We can use WebSocket technology to implement real-time updates or set up a scheduled task that retrieves the latest price data once a day at a certain time.</p>
<h2 id="benefits-of-implementation"><a class="header" href="#benefits-of-implementation">Benefits of Implementation</a></h2>
<p>Below is a list of benefits from designing and implementing a web app that dynamically displays historical market data such as buy and sell orders for the in-game economy:</p>
<ol>
<li>
<p><strong>Easy access to market information:</strong> Players will have easy access to real-time information about the prices of items in different regions, allowing them to make more informed decisions when buying or selling items.</p>
</li>
<li>
<p><strong>Improved trading experience:</strong> With access to real-time market data, players can make more strategic trading decisions, leading to a more satisfying trading experience.</p>
</li>
<li>
<p><strong>Increased player engagement:</strong> A dynamic website that displays market data can increase player engagement by encouraging them to participate in the in-game economy.</p>
</li>
<li>
<p><strong>Promotion of player-to-player trading:</strong> By providing information on buy and sell orders, the website can encourage players to trade directly with each other, rather than relying solely on NPC vendors.</p>
</li>
<li>
<p><strong>Market transparency:</strong> A dynamically updated market website can increase transparency in the economy by showing the current state of supply and demand for different items.</p>
</li>
<li>
<p><strong>Facilitates market analysis:</strong> With access to detailed historical data, players and economists can conduct more detailed analysis of the in-game economy, leading to more advanced strategies and a deeper understanding of market dynamics.</p>
</li>
<li>
<p><strong>Supports server administration:</strong> With a website that displays market data, server administrators can monitor the state of the economy and adjust game mechanics as needed to ensure a healthy and balanced economy.</p>
</li>
</ol>
<p>Overall, a website that displays dynamic buy and sell information for the in-game market can greatly enhance the trading experience, encourage player engagement, increase market transparency, and support more advanced market analysis.</p>
<h2 id="other-notes"><a class="header" href="#other-notes">Other Notes</a></h2>
<p>There are a few features that could be added to the web application to enhance the user experience and provide more value to the community:</p>
<ol>
<li>
<p>Search Functionality: A search function that allows users to quickly find the items they're interested in can be a huge time saver. The search function could include filters to narrow down results based on the region, item name, or other criteria.</p>
</li>
<li>
<p>Historical Data: Providing historical data on price trends for each item in the game can help traders make more informed decisions. This data can be displayed using charts or graphs and can be made available for download in spreadsheet format.</p>
</li>
<li>
<p>Discord Integration: Integrating with Discord can help users stay up-to-date on the latest market trends. Combining this with a notification system that alerts users when prices for certain items drop below a certain threshold or reach a certain price can make the application a valuable tool for traders. </p>
</li>
<li>
<p>Mobile Optimization: With more and more people accessing the web on their mobile devices, it's important to ensure that the web application is optimized for mobile use. This can be achieved by using responsive design and ensuring that the website is compatible with a wide range of mobile devices.</p>
</li>
</ol>
<p>Overall, these additional features can enhance the functionality and user experience of the web application and make it a valuable tool for traders in the AirshipCraft community.</p>
<div style="break-before: page; page-break-before: always;"></div><blockquote>
<p><span style="color:red">Currently unimplemented.</span></p>
</blockquote>
<h1 id="banking"><a class="header" href="#banking">Banking</a></h1>
<p>Banking goes hand in hand with the <code>Market</code> system as it provides a method for storing players money. We already know from the class <a href="mech/economy/api/hierarchy.html">hierarchy</a> that there exists player and non player accounts, but this banking system turns them into physical locations and not just hidden away as text in some database.</p>
<h2 id="what-are-banks"><a class="header" href="#what-are-banks">What Are Banks?</a></h2>
<p>A bank is a financial institution licensed to receive deposits and make loans. There are several types of banks including retail, commercial, and investment banks. In most countries, banks are regulated by the national government or central bank.</p>
<p>The goal is to try and emulate this in game as well. Allowing for <a href="mech/economy/../nodes/nation-system.html">nations</a> to create their own physical national banks tied directly to their economies, as well as providing the more established NPC nations their own banks as well that can give out loans and financially back and assist the player as a way for them to store their money there until their own nation becomes financially stable.</p>
<h2 id="bank-vaults"><a class="header" href="#bank-vaults">Bank Vaults</a></h2>
<p>The main feature of banks is obviously their money storing capability and this is done through <code>Vaults</code>. Vaults are physical chests that players have inside the bank.</p>
<p>Bank vaults are registered with a chest with a sign placed upon it that reads &quot;[Vault]&quot;. Upon right-clicking the sign, it will update to display the name of the player registered to that vault such as this:</p>
<p><img src="mech/economy/../../images/vault_sign.png" alt="Vault sign example" /></p>
<p>Vaults can also be registered to other players by typing their names on the second line instead of leaving it blank.</p>
<p>Nations and settlements also require a vault in-order to store incoming taxes from <a href="mech/economy//mech/economy/market.html#taxed-transaction">taxed transactions</a> as well as a way for settlements/nations to pay upkeep in-order to keep their claims from dissolving due to inactivity. To make a vault for a nation, the setup is very similar except the name of the settlement/nation must be printed on the second line.</p>
<p>Finally, <a href="mech/economy/companies.html">Companies</a> can also register their own vaults in-order to store profits prior to payday, a source of money in-order to pay off dividends, and as a sort-of shared bank account between trusted employees. To register a company vault, the setup is the same: Place a sign with [Vault] on the first line, the name of the company on the second line, and INC on the third line. </p>
<h3 id="bank-vaults-and-balance"><a class="header" href="#bank-vaults-and-balance">Bank Vaults and Balance</a></h3>
<p>On most servers, a player can execute a command such as <code>/bal</code> or <code>/balance</code> in-order to view how much in-game currency they have. Since we already know that currency will be a physical item (<em>See</em>: <a href="mech/economy/market.html">Market</a>), it will be hard (and very unwise) for players to carry all of their money in their inventory at all times.</p>
<p>Since bank vaults act as storage for a player's money they should also have some practicality outside of that by displaying the player's combined balance of both the currency in their posession and currency stored elsewhere.</p>
<p>An example of how this would look like in-game:</p>
<pre><code>* player1 executed server command: /balance *

Chat: 

[Balance] {inventory amount, I}
[Vault Balance] {stored vault amount, V}
[Total] {total balance, I + V}
</code></pre>
<p>We can look at <a href="https://github.com/nikosgram/gringotts/blob/master/src/main/java/org/gestern/gringotts/GringottsAccount.java">Gringotts</a> for an example of how they did it:</p>
<pre><code class="language-java">/**
     * Current balance of this account in cents
     *
     * @return current balance of this account in cents
     */
    public long getBalance() {
        CompletableFuture&lt;Long&gt; cents     = getCents();
        CompletableFuture&lt;Long&gt; playerInv = countPlayerInventory();
        CompletableFuture&lt;Long&gt; chestInv  = countChestInventories();

        // order of combination is important, because chestInv/playerInv might have to run on main thread
        CompletableFuture&lt;Long&gt; f = chestInv
                .thenCombine(playerInv, Long::sum)
                .thenCombine(cents, Long::sum);

        return getTimeout(f);
    }

    /**
     * Current balance this account has in chest(s) in cents
     *
     * @return current balance this account has in chest(s) in cents
     */
    public long getVaultBalance() {
        return getTimeout(countChestInventories());
    }

    ...

    private CompletableFuture&lt;Long&gt; countChestInventories() {
        Callable&lt;Long&gt; callMe = () -&gt; {
            Collection&lt;AccountChest&gt; chests  = dao.retrieveChests(this);
            long                     balance = 0;
            
            for (AccountChest chest : chests) {
                balance += chest.balance();
            }

            Optional&lt;Player&gt; playerOpt = playerOwner();
            if (playerOpt.isPresent()) {
                Player player = playerOpt.get();

                if (Configuration.CONF.useVaultEnderChest &amp;&amp; Permissions.USE_VAULT_ENDERCHEST.isAllowed(player)) {
                    balance += new AccountInventory(player.getEnderChest()).balance();
                }
            }
            return balance;
        };

        return callSync(callMe);
    }
</code></pre>
<h2 id="banks-location"><a class="header" href="#banks-location">Banks (Location)</a></h2>
<p>This system also introduces a chunk plot called a <code>Bank</code> (can also be referred to as <code>Bank Plot</code> or <code>Bank Chunk</code>). Banks are registered when a <code>Nation Vault</code> is registered properly within the claims of that nation's capital.</p>
<p>This plot of land is special as it allows for nation leaders as well as those with the <code>Banker</code> <a href="mech/economy/../nodes/nations/permissions.html">permission</a> to do things such as give out loans to a player.</p>
<h3 id="loans"><a class="header" href="#loans">Loans</a></h3>
<p>Loan interest rate is configurable on a per town basis. Interest is compounded weekly.</p>
<p>In-order for a bank to give a loan, the bank must have that much money stored in a vault in-order to give it out. Once it is given out, the player who receives the loan will have that money transferred to their balance. After the due date for the loan is reached, whatever money in that player's physical vault with that bank will automatically go into paying for their debt.</p>
<p>If they were to have insufficient funds then that specific vault will have a negative balance and it will be reflected on their total balance. Players can choose simply not to pay back their loan but will still accrue interest until a <code>Banker</code> decides to &quot;forgive&quot; the loan.</p>
<p>Failure to pay off loans in a timely manner will decrease the player's <code>credit score</code> which will be viewable to anyone with the <code>Banker</code> permissions. </p>
<h3 id="minting-currencies"><a class="header" href="#minting-currencies">Minting Currencies</a></h3>
<blockquote>
<p>📝 <strong>Note:</strong> This section discusses allowing nations to mint their own currencies which can be exchanged following a global, &quot;dynamic&quot; exchange rate. This is a very complex mechanic and might be hard to implement so it might not be implemented or at least not fully implemented. HUGE WORK IN PROGRESS. Probably should just ignore this section until it gets more fleshed out.</p>
</blockquote>
<p>Banks are also used as a means to mint currencies. This option will only be available to large nations (size is configurable) as a way to keep the economy from getting too chaotic.</p>
<h4 id="requirements-to-mint-currency"><a class="header" href="#requirements-to-mint-currency"><strong>Requirements to Mint Currency</strong></a></h4>
<p>There are a few requirements in-order for nations to mint their own currencies. </p>
<ol>
<li>Firstly is the size requirement as mentioned earlier; nations must be over a specific (configurable) size in-order to mint their own currency. </li>
<li>Secondly is having <code>gold</code> in the bank. This includes ingots as well as nuggets. Currencies must be backed by gold in the bank in-order to be valid. This allows for currencies to be exchanged. </li>
</ol>
<p>When the prerequisites are met, nation leaders will able to run a command to register their currency with a name (string) and symbol (char). Once successfully created, the currency will be registered to the global economy. All currencies are backed by the value of the item <code>gold</code>. Exchange rates between different currencies will be generated based on a few factors which we will cover later.</p>
<p>Market stalls in <em>any</em> town/nation can be configured to accept any currency they choose that is registered globally. They can also choose to not accept certain currencies at any time of their choosing.</p>
<blockquote>
<p>📝 <strong>Note:</strong> Since we are using physical item currencies and not a virtual account balance we can't use a base 10 number system since gold crafting recipes such as that for ingots and for gold blocks use 9 items, therefore it would be a base 9 system with gold nuggets being analogous to our parts of a whole (ingot) and blocks would be multiples of a whole. </p>
</blockquote>
<h4 id="exchange-rates"><a class="header" href="#exchange-rates"><strong>Exchange Rates</strong></a></h4>
<p>Currency exchanges between different types of currencies is handled by the bank. When depositing currency to a bank, the bank automatically converts it into the gold equivalent. If a foreign currency is deposited, then that gold is taken out of the original nation's bank into the new one. For example:</p>
<ul>
<li>1 newly minted currency ($NEW) is equivalent to 1 gold <em><strong>ingot</strong></em>.</li>
<li>Over time, the value of $NEW depreciates to 6 gold <em><strong>nuggets</strong></em>.</li>
<li>Player A deposits 10 $NEW into Bank of Nation B</li>
<li>The Bank of Nation B converts 10 $NEW into ([10 * 6 = 60 nuggets]/9 = <em>6 ingots + 6 nuggets</em>)</li>
<li>Player A can then withdraw the money as either gold, $NEW or any other currency supported by that bank. </li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><blockquote>
<p><span style="color:red">Currently unimplemented.</span></p>
</blockquote>
<h1 id="companies"><a class="header" href="#companies">Companies</a></h1>
<h2 id="overview-3"><a class="header" href="#overview-3">Overview</a></h2>
<p>Companies are registerable entities that players can create, join, and manage. Companies allow players to enable profit-sharing between company owned stores as well as allowing other players, both inside and outside the company, to buy and sell stock in the company.</p>
<p>Players can only create or join one company at any time and can sell ownership of their company or transfer it to other players. CEOs (company owners) can invite other players to join their company. </p>
<p>If a player is already in a company and receives an invitation to join another company and that player accepts the invite, they will leave whatever company they are currently in and join the new company. If the invited player happens to be a CEO of a company then they will be prompted to either first transfer ownership or disband their company.</p>
<p>By introducing the concept of companies in our economy system, we can create a more diverse and dynamic in-game economy. Players can invest in companies and share in their profits, while companies can expand their reach and profitability by owning and operating in-game shops. We believe this mechanic will add a new level of depth and engagement to our server.</p>
<h2 id="registering-a-company"><a class="header" href="#registering-a-company">Registering a Company</a></h2>
<p>To register a company, a player must have a certain amount of money in their account. We can set a minimum amount required to register a company, such as 100,000 in-game currency. Once the player has the required amount, they can run the following command to register a company:</p>
<pre><code>/company register [company name] [ticker symbol] [optional: # of shares]
</code></pre>
<p>This command will create a new company with the specified name and ticker symbol and set the player as the owner, or CEO. The company's information will be stored in a separate database table from the player's information.</p>
<p>Notice the optional third argument which is the amount of shares offered as an initial public offering (IPO). Players can set whatever amount of shares they would like but the default value will always be 100,000.</p>
<p>In-order to maintain a company, a daily upkeep of <code>100 x 0.75(amount of members)</code> will be withdrawn out of the company's bank. To check the balance of the company, you can do the following command:</p>
<pre><code>/company bank
</code></pre>
<p>A company must also be registered to a physical location on the map. The physical location of the company is that company's <a href="mech/economy//src/mech/nodes/nations/plots.html">HQ</a> and it will determine the income tax rate come payday. CEOs must either purchase a plot from a nation or be given a plot by a nation leader. </p>
<p>You may also claim plots in the wilderness at a default cost. This allows for trade companies to be autonomous and to avoid paying income tax. Normal tax rates still apply to transactions done at any of the company owned markets. </p>
<p>A company must also have a physical bank <a href="mech/economy//src/mech/economy/banking.html">vault</a>.</p>
<blockquote>
<p>See: <a href="mech/economy//src/mech/nodes/nations/plots.html">Plots</a>, <a href="mech/economy//src/mech/nodes/nations/objects.html">Objects</a>, <a href="mech/economy//src/mech/economy/market.html">Market</a> and <a href="mech/economy//src/mech/economy/banking.html">Banking</a></p>
</blockquote>
<h2 id="company-owned-shops-and-profit-sharing"><a class="header" href="#company-owned-shops-and-profit-sharing">Company Owned Shops and Profit Sharing</a></h2>
<p>Once a company is registered, any shops registered to any of its members will automatically be registered to the company. </p>
<p>Revenue generated by the shops will be then deposited into the corporation <a href="mech/economy//src/mech/economy/banking.html"><code>bank</code></a>. </p>
<p>There will be a &quot;payday&quot; daily and a percentage (90% by default) of the total contents of the corporation bank will be distributed equally among the members of the corporation. The CEO of the company can configure this percentage by running the following command:</p>
<pre><code>/company payout [percentage]
</code></pre>
<p>The CEO can also withdraw the balance of the corporation bank at any time by running this command:</p>
<pre><code>/company withdraw [amount]
</code></pre>
<p>The plugin will also keep track of the highest money makers within the company which can be viewed by running the command:</p>
<pre><code>/company top [company name]
</code></pre>
<p>This will show which member of the company is bringing in the most revenue through the shops registered to them.</p>
<p>In the event that a member of the company who has shops registered to them is removed from the company, their shops are then unregistered from the company as well.</p>
<h2 id="stock-market"><a class="header" href="#stock-market">Stock Market</a></h2>
<p>Companies have stock value that is determined by how well that company performs based on the following metrics:</p>
<ol>
<li>Size of the company: the amount of shops registered to the company.</li>
<li>Weekly revenue of the company: the total weekly sum of the revenue made by the company through the buying and selling of goods via shops.</li>
<li>Amount of shares available for purchase: As with the real world stock market, supply and demand plays a big role in determining the price of a stock.</li>
</ol>
<p>Each company by default starts with 100,000 shares available to be bought. Anyone can purchase these stocks including company members. The starting price of a stock is </p>
<h3 id="buying-and-selling-stocks"><a class="header" href="#buying-and-selling-stocks">Buying and Selling Stocks</a></h3>
<h4 id="buying"><a class="header" href="#buying"><em><strong>Buying</strong></em></a></h4>
<p>There are two ways for players to purchase stock in a company: <code>buy limit orders</code> and <code>buy stop orders</code>. </p>
<p>Buy limit orders are located below current price meaning they are filled at a designated price or better. Buy limit orders are designed for precision.</p>
<p>Buy stop orders are located above current price meaning they are filled at the best available market price. Buy stop orders are intended to enter or exit the market immediately upon being elected.</p>
<p><img src="mech/economy/../../images/buy-limit-stop-graph.jpeg" alt="buy limit vs buy stop" /></p>
<p>Players can place buy stop orders for stocks in registered companies using the following command:</p>
<pre><code>/company buy [ticker symbol] [amount]
</code></pre>
<p>This command will purchase that amount of available shares at whatever asking price is available.</p>
<p>To place a limit buy order, you must use the following command:</p>
<pre><code>/company limitbuy [ticker symbol] [amount] [limit price]
</code></pre>
<p>In this command we have the <code>limit price</code> which will set the target price for shares to be bought either at that price or lower  in-order to fill the limit buy order.</p>
<h4 id="selling"><a class="header" href="#selling"><em><strong>Selling</strong></em></a></h4>
<p>Just like with buy orders, there are two ways to sell stock: <code>sell limit orders</code> and <code>sell stop orders</code>.</p>
<p>A sell limit is a pending order used to sell at the limit price or higher while a sell stop, which is also a pending order, is used to sell at the stop price or lower. </p>
<p>Sell limit is used to guarantee a profit by selling above the market price and sell stop is used to minimize loss by selling at the stop price.</p>
<p><img src="mech/economy/../../images/sell-limit-stop-graph.jpeg" alt="sell limit vs sell stop" /></p>
<p>Players can place sell stop orders for stocks they own by executing the following command:</p>
<pre><code>/company sell [ticker symbol] [amount]
</code></pre>
<p>The amount parameter is the number of stocks the player wants to sell. By putting &quot;all&quot; instead of a number will place an order to sell all owned shares at the highest available bid price. </p>
<p>To place a limit sell order, you can use the following command:</p>
<pre><code>/company limitsell [ticker symbol] [amount] [limit price]
</code></pre>
<p>Much like setting a buy limit order, the <code>limit price</code> parameter will set the asking price for the shares and will attempt to sell whatever specified amount of shares of a stock at that asking price or higher. </p>
<h3 id="npc-integration"><a class="header" href="#npc-integration">NPC Integration</a></h3>
<h2 id="technical-overview"><a class="header" href="#technical-overview">Technical Overview</a></h2>
<p>To begin with, we'll need to create a new entity class called <code>Company</code>. This class will have attributes such as <code>name</code>, <code>owner</code>, <code>stockPrice</code>, <code>totalStock</code>, <code>sharesSold</code>, <code>shops</code>, and <code>profits</code>. The <code>shops</code> attribute will be a list of all the shops owned by the company, and the <code>profits</code> attribute will be a map that associates each shop with its current profit.</p>
<pre><code class="language-java">public class Company {
    private String name;
    private UUID owner;
    private double stockPrice;
    private int totalStock;
    private int sharesSold;
    private List&lt;Shop&gt; shops;
    private Map&lt;Shop, Double&gt; profits;
    
    // constructor, getters, and setters
}
</code></pre>
<p>Next, we'll need to create methods for registering a new company, purchasing stock in a company, and sharing profits from company-owned shops. </p>
<pre><code class="language-java">public class CompanyManager {
    private List&lt;Company&gt; companies = new ArrayList&lt;&gt;();

    public void registerCompany(String name, UUID owner, double stockPrice, int totalStock) {
        Company company = new Company(name, owner, stockPrice, totalStock, new ArrayList&lt;&gt;(), new HashMap&lt;&gt;());
        companies.add(company);
    }
    
    public void purchaseStock(Player player, Company company, int numShares) {
        double cost = numShares * company.getStockPrice();
        if (player.getBalance() &gt;= cost &amp;&amp; company.getSharesSold() + numShares &lt;= company.getTotalStock()) {
            player.withdraw(cost);
            company.setSharesSold(company.getSharesSold() + numShares);
            double ownership = numShares / (double) company.getTotalStock();
            company.getOwners().put(player.getUniqueId(), ownership);
        }
    }
    
    public void shareProfits() {
        for (Company company : companies) {
            for (Shop shop : company.getShops()) {
                double revenue = shop.getRevenue();
                double profit = revenue - shop.getCost();
                company.getProfits().put(shop, profit);
            }
            double totalProfit = company.getProfits().values().stream().mapToDouble(Double::doubleValue).sum();
            for (Map.Entry&lt;UUID, Double&gt; entry : company.getOwners().entrySet()) {
                Player player = Bukkit.getPlayer(entry.getKey());
                if (player != null) {
                    double share = entry.getValue() * totalProfit;
                    player.deposit(share);
                }
            }
        }
    }
}
</code></pre>
<p>Finally, we'll need to hook into the main <a href="mech/economy//src/mech/economy/market.html">market</a> plugin to make sure that company-owned shops are treated the same way as player-made shops. We can do this by adding a listener that listens for when a shop is created, and then adding that shop to the corresponding company's <code>shops</code> list.</p>
<pre><code class="language-java">public class ShopListener implements Listener {
    private EconomySystem economySystem;

    public ShopListener(EconomySystem economySystem) {
        this.economySystem = economySystem;
    }

    @EventHandler
    public void onShopCreate(ShopCreateEvent event) {
        Player player = event.getPlayer();
        Shop shop = event.getShop();
        for (Company company : economySystem.getCompanies()) {
            if (company.getOwner().equals(player.getUniqueId())) {
                company.getShops().add(shop);
            }
        }
    }
}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="commands"><a class="header" href="#commands">Commands</a></h1>
<div style="break-before: page; page-break-before: always;"></div><blockquote>
<p><span style="color:red">Currently unimplemented.</span></p>
</blockquote>
<h1 id="resources"><a class="header" href="#resources">Resources</a></h1>
<p>One of the main components of the project is augmenting resource distribution in order to promote trade as well as warfare. A good system of handling resource distribution and collection goes hand-in-hand with a good <a href="mech/economy/../economy.html">economy</a> and <a href="mech/economy/../nation-system.html">claiming system</a>.</p>
<blockquote>
<p>See also <a href="mech/economy/../nodes/territories.html">Territories</a> and <a href="mech/economy/../agriculture.html">Agriculture</a></p>
</blockquote>
<h2 id="overview-4"><a class="header" href="#overview-4">Overview</a></h2>
<p>By creating scarcity in Minecraft we pave the way for things such as civilizations, politics, and nation building.</p>
<p>Scarcity can be controlled in three ways:</p>
<ul>
<li>Ore distribution</li>
<li>Crop growth rate and distribution</li>
<li>Animal breeding and spawn rates</li>
</ul>
<p>Manipulating crop growth and animal spawn rates affect the player directly as they create a food scarcity which will push them further to trade and/or travel to new areas.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="crops"><a class="header" href="#crops">Crops</a></h1>
<blockquote>
<p>⚠️ <strong>Warning:</strong> This page is deprecated, for all crop related changes please see <a href="mech/economy/resources/../../agriculture.html">Agriculture</a></p>
</blockquote>
<div style="break-before: page; page-break-before: always;"></div><h1 id="ores"><a class="header" href="#ores">Ores</a></h1>
<p>By combining the Node's system of spawning ores with a bias algorithm, we can create a more realistic and immersive gameplay experience, as certain ores would be more abundant in certain regions and rare in others.</p>
<h2 id="overview-5"><a class="header" href="#overview-5">Overview</a></h2>
<p>The HiddenOre system will also add an extra layer of excitement and challenge to the game, as players will have to explore and search for ores in hidden locations, rather than relying on the traditional method of mining. It will encourage players to be more adventurous and explorative, which will add more depth to the gameplay.</p>
<p>Overall, this hybrid system will make the economy more interesting and dynamic, and create a more realistic and immersive gameplay experience.</p>
<p>To start, let's discuss the current system used in phonon's <a href="https://github.com/phonon/minecraft-nodes">nodes</a> plugin. In this system, ores are spawned based on the type of node (such as a forest node or a mountain node) and the depth of the block being generated. This means that certain ores will only spawn in certain types of nodes, and at certain depths. However, this system can lead to a lack of scarcity in resources, as players can easily find all the ores they need within their own node.</p>
<p>To create a more realistic and challenging resource management system, we can add an algorithm that creates latitudinal and longitudinal biases in ore generation. This means that certain types of ores will be more common in certain areas of the map, and less common in others.</p>
<p>Here's how this could work in practice:</p>
<ol>
<li>Determine the dimensions of the map: We need to know the size of the map in order to properly generate ore distribution.</li>
<li>Divide the map into sections: We can divide the map into sections based on latitudinal and longitudinal lines. For example, we could divide the map into a grid of 100x100 chunks. Each chunk would have its own ore distribution based on the algorithm we create. Fortunately enough, since we are using the Paralon map this part is already done for us.</li>
</ol>
<p><img src="mech/economy/resources//src/images/climate_map.webp" alt="climate_map" /></p>
<ol start="3">
<li>Generate ore biases: We can create an algorithm that generates biases for each type of ore in each chunk. These biases could be based on factors such as the distance from the equator or the distance from the center of the map. We could also take into account the type of biome or node present in each chunk.</li>
</ol>
<pre><code class="language-java">for each chunk in the map:
    for each ore type:
        lat_bias = function(chunk.latitude)
        long_bias = function(chunk.longitude)
        biome_bias = function(chunk.biome)
        depth_bias = function(block.depth)
        total_bias = lat_bias * long_bias * biome_bias * depth_bias
        set ore bias in chunk for ore type to total_bias
</code></pre>
<ol start="4">
<li>Generate ore deposits: Using the biases we generated, we can then generate ore deposits within each chunk. We can use a system similar to Programmerdan's HiddenOre plugin to generate ore deposits that are hidden until a player uncovers them.</li>
</ol>
<pre><code class="language-java">for each chunk in the map:
    for each ore type:
        ore_bias = get ore bias in chunk for ore type
        for each block in the chunk:
            if block is stone and random value &lt; ore_bias:
                generate ore deposit centered around block
                hide ore deposit until player uncovers it
</code></pre>
<ol start="5">
<li>Adjust ore respawn rates: To prevent players from simply moving from chunk to chunk to find all the ore they need, we can adjust the respawn rates of ore deposits based on the number of times they've been mined. For example, an ore deposit that has been mined 10 times might have a much slower respawn rate than a deposit that has only been mined once.</li>
</ol>
<pre><code class="language-java">on ore deposit mined:
    ore_deposit.times_mined++
    ore_deposit.respawn_rate = base_respawn_rate * 1.5^ore_deposit.times_mined
</code></pre>
<p>With this system, players will need to explore different areas of the map in order to find all the resources they need. This adds an element of challenge and realism to the game, and encourages players to interact with each other to trade resources and form alliances.</p>
<h2 id="effect-on-gameplay"><a class="header" href="#effect-on-gameplay">Effect on Gameplay</a></h2>
<p>The scarcity of resources will have a significant impact on the economy of the server. With ores being harder to find, players will have to work harder to obtain them, and this could result in an increase in the value of the ores in the market. This could lead to a more dynamic and complex economy, where the value of different ores fluctuates based on their scarcity.</p>
<p>It is important to balance the ore generation system so that it is not too difficult for players to find ores, but also not too easy. If it is too difficult, players may become frustrated and lose interest in mining altogether, and if it is too easy, it could lead to an overabundance of resources and hurt the economy. It may be useful to collect data on ore generation rates and adjust them as necessary to achieve a balance.</p>
<p>Another way to make the ore generation more interesting and challenging would be to modify the ore generation rates based on the biome. For example, ores could be more common in underground caves or mountains, but more scarce in forests or oceans. This could encourage players to explore different biomes to find the ores they need.</p>
<p>The scarcity of resources could also encourage players to work together and form communities to share resources and pool their efforts in mining. This could create a more collaborative and social environment on the server, where players are more likely to work together and help each other out.</p>
<p>Resource scarcity could also make gameplay more challenging and rewarding. Players may need to be more strategic in their mining efforts, and prioritize which ores to go after based on their rarity and value. This could lead to a more dynamic and interesting gameplay experience, where players have to think carefully about their actions and make strategic decisions.</p>
<h2 id="bias-algorithm"><a class="header" href="#bias-algorithm">Bias Algorithm</a></h2>
<p>First, let's review what we're trying to accomplish with the bias algorithm. We want to modify the generation of ore blocks in Minecraft so that certain types of ore are more likely to generate in specific areas, while still maintaining a natural look and feel to the world. To achieve this, we'll need to analyze the terrain in each chunk and adjust the probability of different ore types generating based on certain factors, such as altitude, biome, and proximity to other types of blocks.</p>
<p>Here's a step-by-step breakdown of how we can implement the bias algorithm:</p>
<ol>
<li>
<p>We'll start by defining a list of ore types that we want to bias. For example, we might want to bias the generation of diamonds, emeralds, and gold in certain areas.</p>
</li>
<li>
<p>Next, we'll need to create a method that calculates the probability of each ore type generating in a given block. This method will take in the coordinates of the block, as well as any relevant factors such as altitude, biome, and proximity to other blocks. It will output a value between 0 and 1, indicating the probability of the ore generating in that block.</p>
</li>
</ol>
<p>Here's some pseudocode for this method:</p>
<pre><code class="language-java">public static double calculateOreProbability(int x, int y, int z, BlockType oreType) {
    // calculate the base probability of the ore generating in this block
    double baseProbability = 0.0;
    if (oreType == BlockType.DIAMOND_ORE) {
        // calculate the base probability for diamond ore based on altitude
        baseProbability = calculateDiamondProbability(y);
    } else if (oreType == BlockType.EMERALD_ORE) {
        // calculate the base probability for emerald ore based on biome
        Biome biome = getBiome(x, z);
        baseProbability = calculateEmeraldProbability(biome);
    } else if (oreType == BlockType.GOLD_ORE) {
        // calculate the base probability for gold ore based on proximity to other blocks
        baseProbability = calculateGoldProbability(x, y, z);
    }
    
    // apply any additional biases based on the surrounding blocks
    double blockBias = calculateBlockBias(x, y, z, oreType);
    double totalProbability = baseProbability * blockBias;
    
    return totalProbability;
}
</code></pre>
<p>In this pseudocode, <code>'calculateDiamondProbability'</code> would be a method that calculates the base probability of diamond ore generating in a block based on its Y coordinate, <code>'calculateEmeraldProbability'</code> would calculate the probability of emerald ore generating based on the biome, and <code>'calculateGoldProbability'</code> would calculate the probability of gold ore generating based on the proximity to other blocks.</p>
<ol start="3">
<li>Once we have the probability of each ore type generating in each block, we'll need to modify the Minecraft world generation algorithm to take these probabilities into account. One way to do this would be to hook into the <code>ChunkGenerator</code> class provided by the Spigot or Paper API, which is responsible for generating the terrain for each chunk.</li>
</ol>
<p>The <code>ChunkGenerator</code> is responsible for generating the blocks in a chunk. In order to implement a bias algorithm for ore generation, we would need to create a custom <code>ChunkGenerator</code> that modifies the standard ore generation to bias the distribution of ores.</p>
<p>Here's a general outline of the steps we would need to take:</p>
<ol>
<li>
<p>Create a new class that implements the ChunkGenerator interface. This will allow us to generate custom chunks.</p>
</li>
<li>
<p>Override the generateChunkData method. This is where we will modify the standard ore generation to implement our bias algorithm.</p>
</li>
<li>
<p>In the generateChunkData method, we will first call the standard ore generation code to generate the standard ore veins. We will then modify the ore distribution based on our bias algorithm.</p>
</li>
<li>
<p>To implement the bias algorithm, we will use a noise function to generate a value for each block in the chunk. We will then use this value to adjust the number of ore blocks that are placed in each chunk. The exact details of how we implement the noise function will depend on the specific bias algorithm we choose.</p>
</li>
<li>
<p>Once we have adjusted the ore distribution, we can generate the rest of the blocks in the chunk as usual.</p>
</li>
</ol>
<p>Here's some pseudocode to give you an idea of what the implementation might look like:</p>
<pre><code class="language-java">public class CustomChunkGenerator implements ChunkGenerator {
    // Standard ore generation settings
    private final OreSettings oreSettings = new OreSettings();

    @Override
    public ChunkData generateChunkData(World world, Random random, int chunkX, int chunkZ, BiomeGrid biome) {
        ChunkData chunkData = createChunkData(world);

        // Generate standard ore veins
        oreSettings.generate(chunkData, random, chunkX, chunkZ);

        // Generate noise function for ore distribution bias
        NoiseGenerator noiseGenerator = new PerlinNoiseGenerator(random.nextLong(), 3, 0.5, 0.5);

        // Adjust ore distribution based on noise function
        for (int x = 0; x &lt; 16; x++) {
            for (int y = 0; y &lt; 256; y++) {
                for (int z = 0; z &lt; 16; z++) {
                    double noiseValue = noiseGenerator.getValue((chunkX * 16 + x) / 16.0, y / 256.0, (chunkZ * 16 + z) / 16.0);
                    if (noiseValue &gt; 0) {
                        // Increase ore distribution
                        int count = chunkData.getBlockTypeId(x, y, z) == Material.STONE.getId() ? 2 : 0;
                        chunkData.setBlock(x, y, z, Material.DIAMOND_ORE);
                        for (int i = 0; i &lt; count; i++) {
                            int offsetX = random.nextInt(3) - 1;
                            int offsetY = random.nextInt(3) - 1;
                            int offsetZ = random.nextInt(3) - 1;
                            int newX = x + offsetX;
                            int newY = y + offsetY;
                            int newZ = z + offsetZ;
                            if (chunkData.getBlockTypeId(newX, newY, newZ) == Material.STONE.getId()) {
                                chunkData.setBlock(newX, newY, newZ, Material.DIAMOND_ORE);
                            }
                        }
                    } else if (noiseValue &lt; 0) {
                        // Decrease ore distribution
                        if (chunkData.getBlockTypeId(x, y, z) == Material.DIAMOND_ORE.getId()) {
                            chunkData.setBlock(x, y, z, Material.STONE);
                        }
                    }
                }
            }
        }
    }
}
</code></pre>
<p>Here's some pseudocode for a possible implementation of the bias algorithm:</p>
<pre><code class="language-java">// Define the parameters for generating biases
double latRange = mapDimensions.latMax - mapDimensions.latMin;
double longRange = mapDimensions.longMax - mapDimensions.longMin;
double centerLat = (mapDimensions.latMax + mapDimensions.latMin) / 2.0;
double centerLong = (mapDimensions.longMax + mapDimensions.longMin) / 2.0;
double maxBias = 2.0; // This is the maximum possible bias value for an ore type

// Loop through each chunk on the map
for (Chunk chunk : map.getChunks()) {
    // Calculate the latitudinal and longitudinal biases for this chunk
    double latBias = Math.sin((chunk.getCenter().getLatitude() - centerLat) * Math.PI / latRange);
    double longBias = Math.sin((chunk.getCenter().getLongitude() - centerLong) * Math.PI / longRange);

    // Calculate the biome bias for this chunk
    Biome biome = chunk.getBiome();
    double biomeBias = getBiomeBias(biome);

    // Loop through each ore type and calculate its total bias for this chunk
    for (OreType oreType : OreType.values()) {
        double depthBias = getDepthBias(chunk.getDepth(), oreType);
        double totalBias = latBias * longBias * biomeBias * depthBias * maxBias;
        chunk.setOreBias(oreType, totalBias);
    }
}
</code></pre>
<p>This pseudocode calculates the latitudinal and longitudinal biases for each chunk on the map, based on their distance from the center of the map. It then calculates the biome bias for each chunk, based on the type of biome it's in, and the depth bias for each ore type at that depth.</p>
<p>Finally, it calculates the total bias for each ore type in each chunk by multiplying these biases together, and sets the ore bias value for that ore type in that chunk. This value will be used later when generating ore deposits within the chunk.</p>
<p>To elaborate, the pseudocode sets up the parameters for generating biases. <code>latRange</code> and <code>longRange</code> represent the difference between the maximum and minimum latitude and longitude values for the map, while <code>centerLat</code> and <code>centerLong</code> represent the latitude and longitude of the center of the map. These values are used to calculate the latitudinal and longitudinal biases for each chunk, based on their distance from the center of the map.</p>
<p>The <code>maxBias</code> value represents the maximum possible bias value for an ore type. This value is used to ensure that biases are normalized and fall within a specific range.</p>
<p>Next, the pseudocode loops through each chunk on the map and calculates its latitudinal and longitudinal biases using the formula: <code>Math.sin((chunk.getCenter().getLatitude() - centerLat) * Math.PI / latRange)</code> and <code>Math.sin((chunk.getCenter().getLongitude() - centerLong) * Math.PI / longRange)</code>. These values are used to reflect the position of the chunk relative to the center of the map.</p>
<p>The pseudocode then calculates the biome bias for each chunk using the <code>getBiomeBias</code> function, which takes the chunk's biome as input and returns a bias value. Biome biases allow us to generate different types of ores in different biomes, depending on the environmental conditions and resources available.</p>
<p>After calculating the biome bias, the pseudocode loops through each ore type and calculates its total bias for this chunk. The depth bias for each ore type is determined using the <code>getDepthBias</code> function, which takes the depth of the chunk and the ore type as inputs and returns a bias value. Multiplying the latitudinal, longitudinal, biome, depth, and maximum biases together yields the total bias value for that ore type in that chunk.</p>
<p>Finally, the pseudocode sets the ore bias value for that ore type in that chunk using the <code>chunk.setOreBias</code> method. These ore biases will be used later when generating ore deposits within the chunk. By using bias algorithms, the ore generation process is made more dynamic and realistic, and can be customized to suit the specific needs of the game.</p>
<p>Here's an example implementation of a custom chunk generator that incorporates the ore bias algorithm:</p>
<pre><code class="language-java">public class CustomChunkGenerator extends ChunkGenerator {
    private final MapDimensions mapDimensions;
    private final double latRange;
    private final double longRange;
    private final double centerLat;
    private final double centerLong;
    private final double maxBias = 2.0;

    public CustomChunkGenerator(MapDimensions mapDimensions) {
        this.mapDimensions = mapDimensions;
        this.latRange = mapDimensions.latMax - mapDimensions.latMin;
        this.longRange = mapDimensions.longMax - mapDimensions.longMin;
        this.centerLat = (mapDimensions.latMax + mapDimensions.latMin) / 2.0;
        this.centerLong = (mapDimensions.longMax + mapDimensions.longMin) / 2.0;
    }

    @Override
    public ChunkData generateChunkData(World world, Random random, int chunkX, int chunkZ, BiomeGrid biome) {
        ChunkData chunkData = createChunkData(world);

        // Calculate the latitudinal and longitudinal biases for this chunk
        double latBias = Math.sin((chunkX * 16 + 8 - centerLat) * Math.PI / latRange);
        double longBias = Math.sin((chunkZ * 16 + 8 - centerLong) * Math.PI / longRange);

        // Loop through each ore type and calculate its total bias for this chunk
        for (OreType oreType : OreType.values()) {
            double depthBias = getDepthBias(chunkData.getMinHeight(), oreType);
            double biomeBias = getBiomeBias(biome.getBiome(8, 8));
            double totalBias = latBias * longBias * biomeBias * depthBias * maxBias;

            // Set the ore bias for this ore type in this chunk
            chunkData.setRegion(
                0, oreType.ordinal(), 0,
                16, oreType.getMaxHeight() - oreType.getMinHeight() + 1, 16,
                new MaterialData(oreType.getMaterial()),
                new double[16][oreType.getMaxHeight() - oreType.getMinHeight() + 1][16]
            );
            chunkData.setRegion(
                0, oreType.ordinal(), 0,
                16, oreType.getMaxHeight() - oreType.getMinHeight() + 1, 16,
                null,
                new double[16][oreType.getMaxHeight() - oreType.getMinHeight() + 1][16]
            );
            chunkData.setRegion(
                0, oreType.ordinal(), 0,
                16, oreType.getMaxHeight() - oreType.getMinHeight() + 1, 16,
                null,
                new double[16][oreType.getMaxHeight() - oreType.getMinHeight() + 1][16]
            );
            chunkData.setRegion(
                0, oreType.ordinal(), 0,
                16, oreType.getMaxHeight() - oreType.getMinHeight() + 1, 16,
                null,
                new double[16][oreType.getMaxHeight() - oreType.getMinHeight() + 1][16]
            );

            // Set the ore bias for this ore type in this chunk
            for (int x = 0; x &lt; 16; x++) {
                for (int z = 0; z &lt; 16; z++) {
                    for (int y = oreType.getMinHeight(); y &lt;= oreType.getMaxHeight(); y++) {
                        chunkData.setBlock(
                            x, y, z,
                            oreType.getMaterial(),
                            new double[]{totalBias}
                        );
                    }
                }
            }
        }

        return chunkData
    }
}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="api"><a class="header" href="#api">API</a></h1>
<p>The API portion of the Market system is used to hook all of the subsequent mechanics such as but not limited to the <a href="mech/economy/../cults.html">Cults</a> system, <a href="mech/economy/../nodes.html">Nations</a> system, and the <a href="mech/economy/../quests.html">Quests</a> system.</p>
<p>The Market API acts as an intermediary between consumer and provider plugins on the server, by allowing them to easily hook together using our API.</p>
<p>Provider plugins are those which offer a service within the server. Example providers would be something such as <code>LuckPerms</code> (permissions), <code>TheNewEconomy</code> (economy), and <code>VentureChat</code> (chat). Consumer plugins are those which utilize a provider plugin, such as <code>JobsReborn</code> (economy consumer).</p>
<h2 id="why-not-use-insert-name-here-economy-plugin"><a class="header" href="#why-not-use-insert-name-here-economy-plugin">Why not use [insert name here] economy plugin?</a></h2>
<p>There are various economy APIs already on the market such as Vault and, recently, Treasury (which we have been influenced heavily by) however these APIs are designed for wide use by the public. Therefore they are designed to fill a wide range of general purposes without any specialization for more niche or specific specialized use cases such as those that may arise with the nature of something like this project.</p>
<p><a href="https://github.com/MilkBowl/VaultAPI">Vault</a> served as (and currently still serving as) the leading Economy API for more than a decade now. However, that plugin hasn't been updated for the past several years besides simple maintenance updates and introduces no new features. It provides no support for something such as multiple currencies (i.e. <em>John has 9 coins and 4 tokens</em>), transactional history, more verbose economy responses (Vault simply states that a transaction has failed without providing a reason as to why it failed), or even transaction events.</p>
<p><a href="https://github.com/ArcanePlugins/Treasury/wiki/About-Treasury">Treasury</a> is a more recent API that hit the market at the start of 2022 and is (at the time of writing this page) currently going through a massive rewrite that has resulted in it being mostly unusable in its current state. However, it addresses a lot of the issues with Vault that were listed above. Our API is modeled heavily after Treasury which is reflected in the proposed <a href="mech/economy/api/hierarchy.html">hierarchy</a>.</p>
<p><a href="https://github.com/nikosgram/gringotts">Gringotts</a>, although not marketted as a standalone Economy API, does have functionality to act as one. It is the first (and iirc only) publically available plugin to use the concept of physical items translated into currency. We can use their repository as reference when building our system as their system is proven to work.</p>
<p><a href="https://github.com/coleweinman/HyperConomyX">HyperConomy</a> is the last plugin on this list that provides a decent API and infact already had a way of creating per-region markets as well as dynamic price changing. Our system is modeled similar to theirs in that aspect but HyperConomy suffered from countless bugs, was abandoned by its developers, and wasn't very user or server operator friendly. That being said, the concept was great and we can learn a lot from them and their shortcomings. You can consider our <code>Market</code> system as an upgraded, more refined version of <code>HyperConomy</code>.</p>
<h2 id="integration"><a class="header" href="#integration">Integration</a></h2>
<p>The main benefit of creating an Economy API from scratch is complete control over what goes into it. The goal of the API is to integrate seamlessly with projects such as <a href="mech/economy/../nodes.html"><code>Nodes</code></a> for example.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="class-hierarchy"><a class="header" href="#class-hierarchy">Class Hierarchy</a></h1>
<ul>
<li>java.lang.Object
<ul>
<li>java.util.AbstractCollection<E> (implements java.util.Collection<E>)
<ul>
<li>java.util.AbstractList<E> (implements java.util.List<E>)
<ul>
<li>java.util.AbstractSequentialList<E>
<ul>
<li>java.util.LinkedList<E> (implements java.lang.Cloneable, java.util.Deque<E>, java.util.List<E>, java.io.Serializable
<ul>
<li>tk.airshipcraft.market.api.common.misc.SortedList<T></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li>tk.airshipcraft.market.api.economy.events.AccountTransactionEvent (implements tk.airshipcraft.market.api.common.event.Cancellable)
<ul>
<li>tk.airshipcraft.market.api.economy.events.NonPlayerAccountTransactionEvent</li>
<li>tk.airshipcraft.market.api.economy.events.PlayerAccountTransactionEvent</li>
</ul>
</li>
<li>tk.airshipcraft.market.api.common.event.Completion</li>
<li>tk.airshipcraft.market.api.economy.transaction.EconomyTransaction</li>
<li>tk.airshipcraft.market.api.economy.transaction.TaxedTransaction (extends tk.airshipcraft.market.api.economy.transaction.EconomyTransaction)</li>
<li>tk.airshipcraft.market.api.economy.transaction.EconomyTransaction.Builder</li>
<li>tk.airshipcraft.market.api.common.event.EventBus.EventSubscriberBuilder<T></li>
<li>tk.airshipcraft.market.api.common.event.EventSubscriber<T> (implements java.lang.Comparable<T>)
<ul>
<li>tk.airshipcraft.market.api.common.event.SimpleEventSubscriber<T></li>
</ul>
</li>
<li>tk.airshipcraft.market.api.common.event.FireCompletion<T></li>
<li>tk.airshipcraft.market.api.common.misc.FutureHelper</li>
<li>tk.airshipcraft.market.api.common.service.Service<T> (implements java.lang.Comparable<T>, java.util.function.Supplier<T>)</li>
<li>tk.airshipcraft.market.api.common.service.event.ServiceRegisteredEvent</li>
<li>tk.airshipcraft.market.api.common.service.event.ServiceUnregisteredEvent</li>
<li>java.lang.Throwable (implements java.io.Serializable)
<ul>
<li>java.lang.Exception
<ul>
<li>tk.airshipcraft.market.api.common.response.TreasuryException
<ul>
<li>tk.airshipcraft.market.api.economy.response.EconomyException</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<h1 id="interface-hierarchy"><a class="header" href="#interface-hierarchy">Interface Hierarchy</a></h1>
<ul>
<li>tk.airshipcraft.market.api.economy.account.Account
<ul>
<li>tk.airshipcraft.market.api.economy.account.NonPlayerAccount</li>
<li>tk.airshipcraft.market.api.economy.account.PlayerAccount</li>
</ul>
</li>
<li>tk.airshipcraft.market.api.common.event.Cancellable</li>
<li>tk.airshipcraft.market.api.economy.currency.Currency</li>
<li>tk.airshipcraft.market.api.economy.EconomyProvider</li>
<li>tk.airshipcraft.market.api.economy.transaction.EconomyTransactionInitiator<T></li>
<li>tk.airshipcraft.market.api.common.response.FailureReason</li>
<li>tk.airshipcraft.market.api.common.response.Subscriber&lt;T,E&gt;
<ul>
<li>tk.airshipcraft.market.api.economy.response.EconomySubscriber<T></li>
</ul>
</li>
</ul>
<h1 id="enum-hierarchy"><a class="header" href="#enum-hierarchy">Enum Hierarchy</a></h1>
<ul>
<li>java.lang.Object
<ul>
<li>java.lang.Enum<E> (implements java.lang.Comparable<T>, java.lang.constant.Constable, java.io.Serializable)
<ul>
<li>tk.airshipcraft.market.api.economy.account.AccountPermission</li>
<li>tk.airshipcraft.market.api.economy.misc.EconomyAPIVersion</li>
<li>tk.airshipcraft.market.api.economy.response.EconomyFailureReason (implements tk.airshipcraft.market.api.common.response.FailureReason)</li>
<li>tk.airshipcraft.market.api.economy.transaction.EconomyTransactionImportance</li>
<li>tk.airshipcraft.market.api.economy.transaction.EconomyTransactionInitiator.Type</li>
<li>tk.airshipcraft.market.api.economy.transaction.EconomyTransactionType</li>
<li>tk.airshipcraft.market.api.common.event.EventBus</li>
<li>tk.airshipcraft.market.api.common.event.EventPriority</li>
<li>tk.airshipcraft.market.api.economy.misc.OptionalEconomyApiFeature</li>
<li>tk.airshipcraft.market.api.common.service.ServicePriority</li>
<li>tk.airshipcraft.market.api.common.service.ServiceRegistry</li>
<li>tk.airshipcraft.market.api.common.misc.TriState</li>
</ul>
</li>
</ul>
</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="npcs"><a class="header" href="#npcs">NPCs</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="combat"><a class="header" href="#combat">Combat</a></h1>
<blockquote>
<p>Authors: <a href="https://github.com/Locutusque">Locutusque</a> and <a href="https://github.com/eerieXanthic">SupremeNoob</a></p>
</blockquote>
<p>Massive overhaul to how combat will be handled on the server. Throws default vanilla META out the window and instead introduces a robust new system.</p>
<blockquote>
<p>A frankenstein monster I have created taking inspiration from various games. <a href="mech/cults/transmutations.html">Transmutations</a> are not mentioned too much but should go fine with the proposal.</p>
<ul>
<li>SupremeNoob</li>
</ul>
</blockquote>
<h2 id="damage-types"><a class="header" href="#damage-types">Damage Types</a></h2>
<p>In-order to differentiate armor types an weapon types and to make each one unique in its own way, we will be introducing different damage types. Each different damage type can be countered by something else so it adds a fun and interesting layer to combat especially since you can set up your loadout depending on the kind of item &quot;synergy&quot; you want.</p>
<blockquote>
<p>See <a href="mech/combat/damagetypes.html">Damage Types</a> for a list of all damage types.</p>
</blockquote>
<h2 id="protection-speed-and-penetration"><a class="header" href="#protection-speed-and-penetration">Protection, Speed and Penetration</a></h2>
<h3 id="protection"><a class="header" href="#protection">Protection</a></h3>
<p>Each type of armor will give different protection depending on the toughness of the armor in vanilla. (<em>The detailed numbers are yet to be determined.</em>)</p>
<ul>
<li>The higher the toughness, the higher your protection becomes, and the slower you will move</li>
<li>Protection, speed and penetration are all percentage numbers</li>
<li>The base speed of a player will be increased to make sure that having heavy armor doesn't slow the player down too much/ does not go lower than vanilla movement speed.</li>
</ul>
<h3 id="penetration"><a class="header" href="#penetration">Penetration</a></h3>
<p>Unprotected damage = 100% + ( (Penetration - Protection) </p>
<p>Unprotected damage will not go high than 100% and lower than 0%</p>
<p>For example, leather boots give you 10% protection, iron pants give you 30%, diamond chestplate gives you 60%, netherite helmets give you 40%.</p>
<p><code>Total of protection</code> = 10% + 30% + 60% + 40% = 140%</p>
<p>If you are being hit with a penetration value of 30%:</p>
<p><code>Unprotected damage</code> = 100% + 30% - 140% = -10% = 0%</p>
<p>If you are being hit with a penetration value of 150%:</p>
<p><code>Unprotected damage</code> = 100% + 150% - 140% = 110% = 100%</p>
<p>Weapons will have their own penetration value for each of their moves, affected by the artifact modifiers.</p>
<p>Heavy attacks will grant the weapon an extra 50% (affected by the artifact modifiers) penetration, while light attacks will have bonus on penetration (also affected by the artifact modifiers).</p>
<h3 id="speed"><a class="header" href="#speed">Speed</a></h3>
<p>Speed currently only affects movement. If the movement speed is not enough to dodge entities’ attack and speed builds turn out too weak, a dodge and accuracy mechanic can be implemented, but that is to be determined.</p>
<h2 id="weapon-total-damage-calculation"><a class="header" href="#weapon-total-damage-calculation">Weapon Total Damage Calculation</a></h2>
<p>Here we will discuss how damage will be calculated.</p>
<h3 id="critical-hit"><a class="header" href="#critical-hit">Critical Hit</a></h3>
<p>All weapons will have a base crit chance of 5% and a base crit damage of 200%</p>
<p>This can be increased with artifact modifiers.</p>
<h3 id="total-damage"><a class="header" href="#total-damage">Total Damage</a></h3>
<p><code>Weapon Total Damage</code> =</p>
<p>( (<code>Base Damage</code> * <code>Special Damage %</code>) + Bonus from <a href="mech/cults/transmutations.html">Transmutations</a>) * <code>Crit</code> * <code>Unprotected Damage</code></p>
<blockquote>
<p>Note for clarity: Critical damage is <strong>only</strong> factored in on a critical hit.
&quot;Special Damage&quot; refers to the damage from a weapon's special move.</p>
</blockquote>
<h2 id="damage-composition"><a class="header" href="#damage-composition">Damage Composition</a></h2>
<p>The damage composition is affected by element convert value, which is a percentage (0% - 100%).</p>
<p>After calculating the weapon total damage, it will split into two:</p>
<ol>
<li><strong>Physical damage</strong> = Weapon total damage * (1 - Element convert value)</li>
<li><strong>Elemental damage</strong> = Weapon total damage * Element convert value</li>
</ol>
<h2 id="damage-weakness"><a class="header" href="#damage-weakness">Damage Weakness</a></h2>
<p>The final damage is affected by how weak the entity is to the damage type.</p>
<p>Weakness will be a percentage:</p>
<ul>
<li>At 100%, the entity will take full damage</li>
<li>At 200%, the entity will take double damage </li>
<li>At 50%, the entity will take half damage</li>
<li>At -100%, the entity will be healed using the full damage value</li>
</ul>
<h2 id="final-damage-calculation"><a class="header" href="#final-damage-calculation">Final Damage Calculation</a></h2>
<p><code>Final Damage</code> = (<code>Physical damage</code> * <code>Damage Type Weakness</code>) + (<code>Elemental damage</code> * <code>Damage Type Weakness</code>)</p>
<h2 id="status-effects"><a class="header" href="#status-effects">Status Effects</a></h2>
<p>Status effects will have a chance to proc, which depends on the damage composition of the weapon.</p>
<p>Proc chance = Element convert value</p>
<p>Proc damage = Weapon base damage * Weapon proc damage * Damage Type Weakness</p>
<p>Weapon proc damage will have base percentage of 5%, which can be increased with artifact modifier.</p>
<h2 id="final-thoughts"><a class="header" href="#final-thoughts">Final Thoughts</a></h2>
<p>This proposal will massively increase the scope of the project. Expect ~8-12 artifacts (4 x 8 or 4 x 12 = 32 or 48 moves) or less at launch. More people can join to help make more artifacts, but it will also increase the balancing work.</p>
<blockquote>
<p>See <a href="mech/combat/artifacts.html">Artifacts</a></p>
</blockquote>
<div style="break-before: page; page-break-before: always;"></div><h1 id="movecraft"><a class="header" href="#movecraft">Movecraft</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="damage-types-1"><a class="header" href="#damage-types-1">Damage Types</a></h1>
<ul>
<li>
<p>Physical (Basic damage)</p>
<ul>
<li>Status effect
<ul>
<li>None</li>
</ul>
</li>
<li>Represents
<ul>
<li>Slashing, piercing, bludgeoning </li>
</ul>
</li>
</ul>
</li>
<li>
<p>Heat</p>
<ul>
<li>Status effect
<ul>
<li>Melt (Useful against entities with high armor)
<ul>
<li>Decrease enemy defense</li>
<li>DoT</li>
</ul>
</li>
</ul>
</li>
<li>Represents
<ul>
<li>Radiation</li>
<li>Radiant</li>
<li>Fire</li>
</ul>
</li>
</ul>
</li>
<li>
<p>Cold</p>
<ul>
<li>Status effect
<ul>
<li>Freeze (Useful for slowing down entities with high speed)
<ul>
<li>Increase weapons cooldown</li>
<li>Decrease swing speed</li>
<li>Slow movement speed</li>
<li>DoT</li>
</ul>
</li>
</ul>
</li>
<li>Represents
<ul>
<li>Freezing</li>
</ul>
</li>
</ul>
</li>
<li>
<p>Electricity</p>
<ul>
<li>Status effect
<ul>
<li>Shock (Useful for clearing hordes of enemies)
<ul>
<li>Take DoT, each time spreads the damage to a random nearby enemy</li>
</ul>
</li>
</ul>
</li>
<li>Represents
<ul>
<li>Shocking</li>
</ul>
</li>
</ul>
</li>
<li>
<p>Necrotic</p>
<ul>
<li>Status effect
<ul>
<li>Rot (Useful for debuffing entities in general)
<ul>
<li>DoT</li>
<li>Increase enemy’s damage intake</li>
</ul>
</li>
</ul>
</li>
<li>Represents
<ul>
<li>Disease</li>
<li>Poison</li>
<li>Corrosion </li>
<li>Radiation</li>
</ul>
</li>
</ul>
</li>
<li>
<p>Natural damage</p>
<ul>
<li>Any damage type from minecraft I haven't thought of
<ul>
<li>Fall damage</li>
<li>$etc...$</li>
</ul>
</li>
</ul>
</li>
</ul>
<p><em>(Damage over time (DoT) will be using the weapon's base damage as a reference.)</em></p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="artifacts"><a class="header" href="#artifacts">Artifacts</a></h1>
<blockquote>
<p>Authors: <a href="https://github.com/Locutusque">Locutusque</a> and <a href="https://github.com/eerieXanthic">SupremeNoob</a></p>
</blockquote>
<blockquote>
<p>See <a href="mech/combat/combat/artifact-list.html">Artifact List</a> for a full list of items with descriptions.</p>
</blockquote>
<p>Artifacts are special items on this server, in the form of weapons or armor. The weapon could be a sword, an axe, a bow, a gun (musket/rifle), a wand, etc, while the armors are randomly generated.</p>
<p>The damage type of the weapons can be switched by the players. Changing the projectile color/block in the process.</p>
<p>Players are limited to equipping/attuning 2 artifacts.</p>
<h2 id="weapons-design-philosophy"><a class="header" href="#weapons-design-philosophy">Weapons Design Philosophy:</a></h2>
<p>Each weapons will be given 4 types of moves, each triggered with left clicks, shift left clicks, right clicks and shift right clicks.</p>
<p>For a <code>melee</code> artifact:</p>
<ul>
<li>Left click: Light melee attack</li>
<li>Shift left click: Heavy melee attack</li>
<li>Right click: Movement/defense utilities</li>
<li>Shift right click: Special move
For a <code>range</code> artifact:</li>
<li>Left click: Movement/defense utilities</li>
<li>Shift left click: Special move</li>
<li>Right click: Light ranged attack</li>
<li>Shift right click: Heavy range attack
For a <code>magic</code> artifact:</li>
<li>Left click: Light spell attack</li>
<li>Shift left click: Heavy spell attack</li>
<li>Right click: Movement/defense utilities
-Shift right click: Special attack
For a <code>hybrid</code> artifact:</li>
<li>Left click: Light melee/ranged/spell attack</li>
<li>Shift left click: Heavy melee/ranged/spell attack</li>
<li>Right click: Movement/defense utilities</li>
<li>Shift right click: Special attack</li>
</ul>
<p>For melee/magic/hybrid weapons, light and heavy attacks are mostly on left click and right click respectively. These are switched with right click and shift right click with range weapons (Bows/Crossbows)</p>
<p>Each move will give a cooldown (CD) for the weapons. No other moves can be used if the cooldown is not over.</p>
<p>To perform a special move, the player needs to fulfill some special requirement. Before using the special move, the weapons may need to:</p>
<ul>
<li>Be charged with left clicking </li>
<li>Hit an enemy with 3 light/heavy attack </li>
<li>$etc...$</li>
</ul>
<h2 id="damage-of-each-move"><a class="header" href="#damage-of-each-move">Damage of each move</a></h2>
<p>The damage of each move will be represented with percentage, here is 4 moves for example:</p>
<ol>
<li>Left click: Triggers a light melee attack that deals 70%</li>
<li>Shift left click: Triggers a heavy melee attack that deals 150% damage</li>
<li>Right click: Triggers a short leap (Deals no damage)</li>
<li>Shift right click: Shoot a projectile that deals 250% damage</li>
</ol>
<p>If the base damage of the weapon is 10, the moves would respectively deal: </p>
<ol>
<li>10 * 70% = 7 damage</li>
<li>10 * 150% = 15 damage</li>
<li>No damage</li>
<li>10 * 250% = 25 damage</li>
</ol>
<h2 id="artifact-modifier"><a class="header" href="#artifact-modifier">Artifact Modifier</a></h2>
<p>Each artifact will have their base stats, but also come with 1 - 3 random modifiers that gives buff to the player/item:</p>
<ul>
<li>Buffs:
<ul>
<li>Decreased Heavy attack cooldown</li>
<li>Increased multishot</li>
<li>Increased heat damage</li>
<li>$etc...$</li>
</ul>
</li>
</ul>
<p>But with more than one buffs comes debuffs, it could be a single massive debuff or multiple small debuffs:</p>
<ul>
<li>Debuffs:
<ul>
<li>Decreased Heavy attack damage</li>
<li>Decreased range</li>
<li>Increase cold weakness</li>
<li>$etc...$</li>
</ul>
</li>
</ul>
<p>The armor modifier and the weapon modifier will stack together.</p>
<h2 id="weapon-element"><a class="header" href="#weapon-element">Weapon Element</a></h2>
<p>Weapons will have a randomly applied element to it. It will also have an element convert value attached to it (0% to 100%). This will affect how much of the damage is converted into the element of the artifact as well as the status effect proc chance.</p>
<blockquote>
<p>See also [Damage Composition] and [Status Effect].</p>
</blockquote>
<h1 id="player-progression"><a class="header" href="#player-progression">Player Progression</a></h1>
<p>Player progression is an important core concept of the project as outlined on the <a href="mech/combat/../README.html">introductory pages</a>. </p>
<h2 id="obtaining-items"><a class="header" href="#obtaining-items">Obtaining Items:</a></h2>
<p>There shall be ruins and dungeons scattered across the map. Inside these structures are chests, and inside these chests are armor/weapons/riches. </p>
<p>Dungeons are to be determined, but here is my suggestion for ruins:</p>
<ol>
<li>Players explore the map for ruins</li>
<li>Players could start a raid on the ruins by entering it</li>
<li>Custom mobs starts spawning as soon as the raid begins</li>
<li>Players can crack open a chest by clicking it, but have to stay for a certain period of time until it opens, spawn rate increases</li>
<li>Players can leave the ruins to end the raid at any time</li>
</ol>
<h2 id="deconstructing-items"><a class="header" href="#deconstructing-items">Deconstructing items:</a></h2>
<p>Weapons and armor can be deconstructed into predefined/random materials:</p>
<ul>
<li>Iron</li>
<li>Diamonds</li>
<li>Redstone</li>
<li>Bones</li>
<li>Other tradable items... $etc...$</li>
</ul>
<p>This will get rid of the players’ unwanted artifact and grant them resources, but also give an artifact component that can be used to reroll artifacts.</p>
<h2 id="modifying-items"><a class="header" href="#modifying-items">Modifying items</a></h2>
<p>Artifacts can be rerolled with artifact components. Changing its modifiers into another group of random modifiers. </p>
<p>Players can also use artifact components to reroll the element to get a more ideal element or damage composition.</p>
<h2 id="gameplay-loop"><a class="header" href="#gameplay-loop">Gameplay Loop</a></h2>
<p>This proposal can create a gameplay loop in which:</p>
<ol>
<li>Players look for cheap cargos to buy.</li>
<li>Players leave on an airship and head to a destination city</li>
<li>On the way players can look for ruins/dungeon on the ground</li>
<li>Raid the ruins for items</li>
<li>Extract with the goods via their airship</li>
<li>Arrive at the destination city and sell the cargos</li>
<li>Deconstruct the unwanted items and equip their new items/reroll their old items</li>
<li>Repeat</li>
</ol>
<p>Could be a little bit of a grind but I highly recommend having this system (+ <a href="mech/combat/cults/transmutations.html">transmutations</a>) instead of a regular leveling system since having level difference can have a massive balancing issue in a server that simulates geo politics. This way, players can at least get combat ready gears in a short time, only to grind for combat optimized gear when they are ready.</p>
<p>To reduce the grind, we can introduce these mechanic:</p>
<ul>
<li>During reroll, we can allow players to keep the original modifiers after rerolling.</li>
<li>While opening a chest in raid, we can allow players to choose if they want helmets, chestplate, pants, boots or a weapon.</li>
</ul>
<h3 id="problem"><a class="header" href="#problem"><strong>Problem</strong></a></h3>
<p>It could be little to no time before the market is saturated with artifacts, therefore we might need to:</p>
<ol>
<li>Force the players to store the artifact in a special storage, limiting the number of artifacts a player can have 
<ul>
<li>The number of artifact slots can be scaled with how many items we have implemented in total</li>
</ul>
</li>
<li>Instead of giving the artifacts straight away, give an “artifact token” instead, players will go back to town and trade the token for a random artifact (Others can kill the player to take the token for themselves)</li>
<li>If a player runs out of artifact slots, they can choose to immediately deconstruct either the new item or an old item they have.</li>
</ol>
<p>With these mechanics, we should be able to allow free trading between players with artifacts. Of course, the most ideal situation is that we have enough variety for artifacts to not be saturated easily.</p>
<p>Alternatively, we can do this instead:</p>
<ul>
<li>Artifacts can have custom durability abd can only regain a certain amount by sacrificing the same type of artifact
<ul>
<li>Reaching 0 durability will not break the item, only making it temporarily unusable</li>
<li>This can have a constant drain on artifacts, creating a demand in the market</li>
</ul>
</li>
</ul>
<p>This would create artifact merchants within the player base and there should be no need to limit the number of artifacts a player can have.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="artifacts-1"><a class="header" href="#artifacts-1">Artifacts</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="skills"><a class="header" href="#skills">Skills</a></h1>
<div style="break-before: page; page-break-before: always;"></div><blockquote>
<p><span style="color:yellow">Currently being developed as of 2023-01-28.</span></p>
</blockquote>
<blockquote>
<p>⚠️ <strong>Warning:</strong> This page is still under construction!</p>
</blockquote>
<h1 id="cults"><a class="header" href="#cults">Cults</a></h1>
<p>The purpose of the cults plugin is to provide another layer to gameplay. By allowing players to be creative in creating these fictitious sects and design their own ideologies within the confines of the server, we open up avenues for player creativity and roleplay opportunities. As we have discussed in the introductory pages of this documentation, increasing player engagement is one of our main goals in designing this project.</p>
<h2 id="overview-6"><a class="header" href="#overview-6">Overview</a></h2>
<p>The proposed plan for the cult's system has many moving parts to it. This page was written in hopes to clarify the vision for the plugin and its integration within the project, including how it will interact with the other plugins/mechanics of the server. Each feature and mechanic of the plugin will be broken down further on this page and subsequent pages within this section.</p>
<blockquote>
<p>📝 <strong>Note:</strong> The terms &quot;deity&quot; and &quot;god&quot; are also interchangeable, as there is no difference between the two terms besides semantics.  God and deity are synonymous. According to their basic definitions, they both represent a supreme power. However, sometimes God as a term is used to represent the only supreme power, whereas deity can be used to refer to any of the forms of this supreme power and thus, can be multiple in number. God is generally used in the context of male gods, whereas deity can be used to refer to both god and goddess (female god).</p>
</blockquote>
<p>The following is a quick ten-point summary of the plugin: </p>
<ol>
<li>A player creates an <a href="mech/cults/altars.html">altar</a> in-order to pray to a deity. </li>
<li>If the deity doesn't exist, then a new religion (cult) is formed and that deity is registered, and the player who created the altar becomes the head priest for that cult.</li>
<li>If another player &quot;prays&quot; to that altar and they do not belong to a cult yet, they will join that cult and become a follower of that deity they just prayed to.</li>
<li>A &quot;pantheon&quot; can be created, which is essentially a grouping of different cults/deities together. Members within a cult who are also part of a pantheon can pray to other deities within the pantheon.5. The opposite holds true, and cults can label other cults as &quot;enemies&quot; or &quot;heretics&quot;, making their deities forbidden to their worshippers.</li>
<li>As time goes on and the cult gains more of a following, head priests gain more power and can set laws for their religion, called &quot;canon&quot;.</li>
<li>Canon laws can include things such as what kind of actions are forbidden by their followers, such as food that is forbidden or actions that are encouraged, e.g. killing. </li>
<li>Followers of the cult can lose or gain favor with their god/deity.</li>
<li>Head priests can appoint fellow worshipers as priests.</li>
<li>Head priests and priests can pray to their deity for &quot;miracles&quot; or to place &quot;curses&quot;.</li>
</ol>
<p>This summary, although crude, is the simplest explanation of the plugin and how it functions. A more in-depth explanation of how the plugin works under the <a href="mech/cults.html#basic-usage">Basic Usage</a> section below.</p>
<p>For a better understanding, start reading from <a href="mech/cults/objects.html">this</a> page to be able to visualize the internal object classes:&gt; See <a href="mech/cults/objects.html">Objects</a>.</p>
<h2 id="basic-usage"><a class="header" href="#basic-usage">Basic Usage</a></h2>
<p>To create a <code>Cult</code>, one must first build an <code>Altar</code>. Upon right-clicking the sign, the plugin uses a regex search to make sure that the deity being attempted does not match an existing <code>Deity</code> from the database. If the name is too similar or the deity already exists, it will return an error letting the user know what happened.</p>
<p>If the cult is successfully created, then the <code>Believer</code> (or Player) who created the cult automatically becomes the <code>Head Priest</code>. Others can join the cult by &quot;praying&quot; at either a <code>Shrine</code> or the altar. The head priest can promote these other believers to become priests. The <code>Priest</code> and the head priest can perform prayers at the altar to grant blessings upon their cult or curses against a group of people.</p>
<p>In order to perform these rituals, a good rapport must be built with the deity. To become on good terms with the deity, the cult's believers must &quot;pray&quot; to the Deity (right-click the sign) at shrines or altars. As their relationship with the deity improves, the head priest can start to put together a <code>Holy Book</code>. </p>
<p>The holy book is a set of &quot;laws&quot; known as <code>Canon</code> which are determined through a series of random pre-generated questions that the deity will ask the head priest. The answers given will shape the type of deity for that cult and will define what actions to take that allows a believer to either gain or lose favour.</p>
<div style="break-before: page; page-break-before: always;"></div><blockquote>
<p>⚠️ <strong>Warning:</strong> This page is still under construction!</p>
</blockquote>
<h1 id="objects"><a class="header" href="#objects">Objects</a></h1>
<p>This page details and outlines the object classes in the plugin, attempting to give a detailed explanation of their functionality, both from a programming perspective and an in-game perspective.</p>
<h2 id="object-hierarchy"><a class="header" href="#object-hierarchy">Object Hierarchy</a></h2>
<blockquote>
<p>📝 <strong>Note:</strong> This diagram is mainly just a placeholder for now but should give the general sense of the object-class hierarchy.</p>
</blockquote>
<pre><code>          ┌────────┐
          │Nameable│
          └───┬────┘
              │
              │
              ▼
         ┌───────────┐
         │CultsObject│
         ├───────────┤
         ├──────────┼┴───────────┐
         │          │            │
         │          │            │
         │          ▼            │
         │        ┌────┐         │
         │        │Cult│         │
         │        └────┘         │
         │         ▲ ▲           │
         ▼         │ │           ▼
   ┌────────┐      │ │        ┌─────┐
   │Believer├───┬──┘ └────────┤Deity│
┌──┴────────┴───┤             └─────┘
│               │
│  Believer     │
│               │
│  Head Priest  │
│               │
│  Priest       │
│               │
└───────────────┘
</code></pre>
<h3 id="nameable"><a class="header" href="#nameable">Nameable</a></h3>
<p>A simple interface to show that a class can be named, agnostic if it's a <code>CultsObject</code> or not.</p>
<pre><code class="language-java">public interface Nameable {
    /**
     * Get the name of the specified object
     * @return A String representing the name of the object.
     */
    String getName();

    /**
     * Gets the formatted name of the object.
     * @return The formatted name.
     */
    default String getFormattedName() {
        return getName().replace('_', ' ');
    }
}
</code></pre>
<h3 id="cultsobject"><a class="header" href="#cultsobject">CultsObject</a></h3>
<p>The <code>CultsObject</code> class is the main class that implements <code>Nameable</code>, all other object classes should extend this one.</p>
<pre><code class="language-java">public abstract class CultsObject implements Nameable {

    String name;
    UUID id;
    protected CultsObject(String name) { 
        this.name = name; 
    }

    public void setName(String name) { 
        this.name = name; 
    }

    public String getName() { 
        return name; 
    }

    public void setId(UUID id) { 
        this.id = id; 
    }

    public UUID getId() { 
        return id; 
    }

    @Override
    public String toString() { 
        return getName(); 
    }
}
</code></pre>
<h3 id="believer"><a class="header" href="#believer">Believer</a></h3>
<p>The <code>Believer</code> class is a simple class that extends <code>CultsObject</code> and its main purpose is to register the player as a &quot;believer&quot; entity.</p>
<pre><code class="language-java">public class Believer extends CultsObject {

    String name;

    protected Believer(String name) { 
        super(name); 
    }

    @Override
    public String getName() { 
        return name; 
    }

    @Override
    public UUID getId() { 
        return super.getId(); 
    }
}
</code></pre>
<h3 id="deity"><a class="header" href="#deity">Deity</a></h3>
<p>The <code>Deity</code> class also extends <code>CultsObject</code>. The purpose of this class is to represent a &quot;deity/god&quot; entity which is created upon interaction with an <code>Altar</code> for the first time. </p>
<h3 id="cult"><a class="header" href="#cult">Cult</a></h3>
<p>Finally, we reach the <code>Cult</code> object. A cult takes a list of <code>Believers</code> as its members, a single <code>Believer</code> as its <code>Head Priest</code> and a single <code>Diety</code> as it's main deity (agnostic of whether it's part of a <code>Pantheon</code> or not). Believers can be promoted to <code>Priest</code>, which functions as a sort of &quot;officer&quot; or moderator of the cult. It also records the coords of its <code>Altar</code> and saves that as its &quot;holy land&quot;.</p>
<h3 id="holy-land"><a class="header" href="#holy-land">Holy Land</a></h3>
<p>The <code>Holy Land</code> is the chunk containing the <code>Altar</code>. This creates a geographical &quot;home&quot; for the cult. This is to help track a series of cult-specific events, such as but not limited to a <code>Sacrafice</code>.</p>
<h3 id="transmutation"><a class="header" href="#transmutation">Transmutation</a></h3>
<blockquote>
<p>See <a href="mech/cults/transmutations.html">Transmutations</a>
<code>Transmutations</code> are a mechanic of the cults system that allows for believers of a cult to recieve &quot;supernatural&quot; powers from being devout worshippers of their deity. This includes various things such as increased strength buff, jump boost, mining speed etc. </p>
</blockquote>
<div style="break-before: page; page-break-before: always;"></div><h1 id="configuration"><a class="header" href="#configuration">Configuration</a></h1>
<div style="break-before: page; page-break-before: always;"></div><blockquote>
<p>⚠️ <strong>Warning:</strong> This page is still under construction!</p>
</blockquote>
<h1 id="altars"><a class="header" href="#altars">Altars</a></h1>
<h2 id="overview-7"><a class="header" href="#overview-7">Overview</a></h2>
<p>Altars are the core of a <code>Cult</code> as they are the only way to create a cult and the only way to perform certain rituals such as <code>Sacrifices</code>. Altars are meant to be kept safe since t he destruction of an <code>Altar</code> triggers a configurable timer that will dissolve the <code>Cult</code> if the <code>Altar</code> is not rebuilt in time.</p>
<p>An altar is defined as a multi-block structure with three (3) main components:</p>
<ol>
<li>The altar block - The central piece to the altar.</li>
<li>The altar sign - The sign attached to the altar. Has <code>[Altar]</code> on the first line. Right clicking it creates the altar and allows the player to pray to the altar.</li>
<li>Candles - Light up as a status indicator to show that the altar is properly registered.</li>
</ol>
<p>Here is an example of an altar:
<img src="mech/cults/../../images/altar_example.png" alt="Example of an Altar" /></p>
<p>Altars are contained within a <code>Holy Site</code> which is the chunk that is defined upon the registration of an altar.</p>
<blockquote>
<p>📝 <strong>Note:</strong> The terms <code>Holy Site</code> and <code>Holy Land</code> may be used interchangeably as they are defined as essentially the same thing. The only difference is that the <code>Site</code> specifically refers to the <code>Altar Block</code> while the <code>Land</code> refers to it's encompassing chunk in general.</p>
</blockquote>
<h2 id="usage"><a class="header" href="#usage">Usage</a></h2>
<p>The altar, as stated previously, serves as a marker for where and when the <code>Cult</code> was registered/formed and is the primary and direct connection between a <code>Believer</code> and a <code>Deity</code>.</p>
<p>Altars have some functionality outside of being &quot;prayer sites&quot; as they can also function similar to the vanilla beacon, giving buffs to believers within a radius of the holy site.</p>
<p>Altars will also give a base modifier when calculating the reputation change of a believer and their respective deity. The current modifier is <code>1.5x</code> but can be upgraded as the cult grows and more unique believers visit the altar.</p>
<p>An <code>Offering</code> is an item that a player &quot;sacrifices&quot; to the altar by right-clicking the altar sign with an item in hand. A configurable list of items with their &quot;value&quot; can be found within the <a href="mech/cults/config.html">config</a>. The plugin makes a distinction between valuable/ desireable items and undesireable items by assigning positive and negative values to the items. These values are then multiplied by whatever modifiers might be in effect in order to calculate the gain or loss of reputation within a transaction.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="shrines"><a class="header" href="#shrines">Shrines</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="transmutations"><a class="header" href="#transmutations">Transmutations</a></h1>
<p>Transmutations are another aspect of <code>Cults</code> that has been planned (as of 02/10/2023) to add more depth to the system as well as incentivizing participation in the system.</p>
<p>The way transmutations work is by allowing the <code>Cult</code> to be upgraded based on factors such as prayer count and <code>Believer</code> count. This rewards both active cults and large cults and keeping them as independent factors.</p>
<p>Transmutations can be unlocked by only the <code>Head Priest</code> and can only be changed or modified after another succesfful upgrade. Transmutations serve as ways to enhance the player themselves through adding small modifiers to aspects such as but not limited to: </p>
<ul>
<li>Jumpheight</li>
<li>Movement speed</li>
<li>Mining speed</li>
<li>Nightvision</li>
<li>Strength</li>
</ul>
<p>This upgrade system is similar to the vanilla Minecraft's beacon system where modifiers can be selected based on beacon &quot;level&quot;. The same concept is applied here for cults except that the modifiers can only be changed upon successfully levelling the cult.</p>
<p><img src="mech/cults/images/../../../images/beacon_levels.png" alt="Beacon Levels" /> </p>
<!-- <img src="mech/cults/book/images/beacon_levels.png" alt="Beacon Levels" width="400"/> -->
<p>Instead of having players choose what race they want to pick, the “traditional” race system (dwarves, elves, etc) would be replaced with a &quot;transmutation&quot; (alternatively called a transfiguration, the terms can be used interchangeably in this context) mechanic that ties into the cults system. Players can therefore change their “race” by praying to different deities in-order to achieve non-human abilities (think: werewolf, vampire type “races”)</p>
<p>An explanation of how this mechanic could work is outlined below:</p>
<ul>
<li>By changing the subject of worship (deity), players are granted traits that will give them increased player attributes </li>
<li>Traits can be defined by the worshipers / Head priest: 
<ul>
<li>It could be spells (giving player a set of spells to cast depending on who their worship)</li>
<li>Or enhancing player’s capability: faster walk speed, higher jump height, melee damage increase, range damage increase, health increase, regen increase</li>
<li><strong>Special traits</strong>: free frost walker, slows entities that you hit, free fire aspect, fire immunity, regen on hitting an entity, explode on death, see players through walls, natural armor, claws, no fall damage, short teleport</li>
</ul>
</li>
<li>Traits will come at a cost and the worshipers / Head priest will have to pick the drawbacks 
<ul>
<li><strong>Regular drawbacks</strong>: slower walk speed, lower jump height, melee damage decrease, range damage decrease, health decrease, regen decrease</li>
<li><strong>Critical drawbacks</strong>: burning in sunlight, golden sword, holy symbol, carnivore, can only drink blood, weak to fire, aquaphobia, unable to cast magic, intensified/constant hunger, posion weakness, can only eat metal, unable to wear armor, unable to use weapons, unable to move if being stared at, Frigophobia (take damage when snowing or standing on ice/snow)</li>
</ul>
</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><blockquote>
<p><span style="color:red">Currently unimplemented.</span></p>
</blockquote>
<h1 id="nodes"><a class="header" href="#nodes">Nodes</a></h1>
<p>The nodes system is a claim system that essentially combines aspects of Towny and a plugin called, &quot;Nodes&quot; by <a href="https://github.com/phonon/minecraft-nodes">phonon</a> (See his documentation for it <a href="https://nodes.soy/4-1-territories.html">here</a> for a better overview of what it does, I will be summarizing most of it here). We will be working off the fork by <a href="https://github.com/crusalis/multi-nodes/tree/master/nodes/src/main/kotlin/phonon/nodes">crusallis</a> as it's more updated.</p>
<h2 id="overview-8"><a class="header" href="#overview-8">Overview</a></h2>
<p>The nodes system can be summarized below in seven main points:</p>
<ol>
<li>The map is segmented into pre-created territories which are groups of contiguous Minecraft chunks.</li>
<li>Territories have different resource nodes which provide different resource yields from mining and different rates for farming, animal breeding, etc...</li>
<li>Players form a town which controls territories. Initial territory claims must be connected.</li>
<li>War is capturing territory from another town.</li>
<li>Towns choose 1 territory to be their capital, which cannot be taken until all other territories are captured.</li>
<li>A resource chest can be built in the capital which will periodically spawn some resources dependent on the resource yield for that territory.</li>
<li>A captured territory is occupied and provides resource benefits for the occupier. The occupier has the option to annex territory and add it to their town.</li>
</ol>
<h3 id="how-is-this-better-than-towny"><a class="header" href="#how-is-this-better-than-towny">How is this better than Towny?</a></h3>
<p>Towny doesn't offer much in terms of any resource/economic differentiation between towns, so there's no economy or trade and a lack of justification for waging war. With this resource node system, we aim to change that by giving incentives for players to be strategic about what land they decide to conquer, where they choose to settle, and how they conduct themselves diplomatically (such as by building or breaking trade relations with other nations).</p>
<h2 id="territories"><a class="header" href="#territories">Territories</a></h2>
<p>As opposed to Towny's basic land unit being the &quot;Townblock&quot;, the Node's system uses &quot;Territories&quot;.</p>
<ul>
<li>Territories have unique resources.</li>
<li>Towns have &quot;power&quot;, which are points they spend on claiming territories</li>
<li>Each territory has a different &quot;power&quot; cost that a town must pay in order to claim.</li>
<li>A territory's power cost depends on its size and resources</li>
<li>More players in a town increases the town's power.</li>
<li>Each player's power contribution to their town increases over playtime (to a maximum value)</li>
</ul>
<p>The territories will also have a web editor that hooks into dynmap in order to better map out where the territories should go using JSON objects.</p>
<blockquote>
<p>See <a href="mech/nodes/territories.html">Territories</a></p>
</blockquote>
<h1 id="resource-nodes"><a class="header" href="#resource-nodes">Resource Nodes</a></h1>
<p>Territory resources are defined by <strong>resource nodes</strong>. This allows
unique resources in different regions of the world (to facilitate
trade and economic differentiation). Territories have four main
resource components:</p>
<ul>
<li><strong>Income</strong>: items/blocks given on a periodic income schedule</li>
<li><strong>Ore</strong>: item drop rates when mining stone</li>
<li><strong>Crops</strong>: farm crops that can grow in a region and their growth speed</li>
<li><strong>Animals</strong>: animals that can breed in a region and their breed success rate</li>
</ul>
<p>Territories contain multiple <strong>Resource nodes</strong> which contribute to
the final territory resource components.</p>
<p>Each resource node must have a unique name to identify it (e.g. <strong>wheat</strong> or <strong>iron</strong>).</p>
<h2 id="format"><a class="header" href="#format">Format</a></h2>
<p>Resource nodes are described by JSON objects. Below is an example <strong>with all possible fields.</strong> Only <code>priority</code> and <code>cost</code> are required, other field are all optional. The next sections detail each component.</p>
<pre><code class="language-json">{
    &quot;icon&quot;: &quot;gold_ingot&quot;,
    &quot;priority&quot;: 50,
    &quot;cost&quot;: {
        &quot;scale&quot;: 1.4,
        &quot;constant&quot;: 10
    },

    &quot;income&quot;: {
        &quot;gold_ingot&quot;: 64,
        &quot;wheat&quot;: 32,
        &quot;diamond&quot;: 0.5,
        &quot;spawn_egg_cow&quot;: 1,
        &quot;spawn_egg_sheep&quot;: 0.5
    },
    &quot;ore&quot;: {
        &quot;coal&quot;: 0.5,
        &quot;gold_ore&quot;: [0.2, 2, 4]
    },
    &quot;crops&quot;: {
        &quot;wheat&quot;: 1.0,
        &quot;potato&quot;: 0.5,
        &quot;pumpkin&quot;: 0.8
    },
    &quot;animals&quot;: {
        &quot;sheep&quot;: 1.0,
        &quot;cow&quot;: 1.0,
        &quot;horse&quot;: 0.5
    },

    &quot;income_total_multiplier&quot;: 1.25,
    &quot;income_multiplier&quot;: {
        &quot;diamond&quot;: 1.5,
        &quot;spawn_egg_cow&quot;: 2.0
    },
    &quot;ore_total_multiplier&quot;: 1.25,
    &quot;ore_multiplier&quot;: {
        &quot;gold_ore&quot;: 1.5
    },
    &quot;crops_total_multiplier&quot;: 1.25,
    &quot;crops_multiplier&quot;: {
        &quot;wheat&quot;: 1.5,
        &quot;potato&quot;: 1.5
    },
    &quot;animals_total_multiplier&quot;: 1.25,
    &quot;animals_multiplier&quot;: {
        &quot;cow&quot;: 1.5,
        &quot;horse&quot;: 2.0
    },

    &quot;neighbor_income&quot;: {
        &quot;gold_ingot&quot;: 64,
        &quot;diamond&quot;: 0.5,
        &quot;spawn_egg_cow&quot;: 1,
    },
    &quot;neighbor_ore&quot;: {
        &quot;coal&quot;: 0.5,
        &quot;gold_ore&quot;: [0.2, 2, 4]
    },
    &quot;neighbor_crops&quot;: {
        &quot;wheat&quot;: 1.0,
        &quot;potato&quot;: 0.5,
        &quot;pumpkin&quot;: 0.8
    },
    &quot;neighbor_animals&quot;: {
        &quot;sheep&quot;: 1.0,
        &quot;cow&quot;: 1.0,
        &quot;horse&quot;: 0.5
    },

    &quot;neighbor_income_total_multiplier&quot;: 1.25,
    &quot;neighbor_income_multiplier&quot;: {
        &quot;diamond&quot;: 1.5,
        &quot;spawn_egg_cow&quot;: 2.0
    },
    &quot;neighbor_ore_total_multiplier&quot;: 1.25,
    &quot;neighbor_ore_multiplier&quot;: {
        &quot;gold_ore&quot;: 1.5
    },
    &quot;neighbor_crops_total_multiplier&quot;: 1.25,
    &quot;neighbor_crops_multiplier&quot;: {
        &quot;wheat&quot;: 1.5,
        &quot;potato&quot;: 1.5
    },
    &quot;neighbor_animals_total_multiplier&quot;: 1.25,
    &quot;neighbor_animals_multiplier&quot;: {
        &quot;cow&quot;: 1.5,
        &quot;horse&quot;: 2.0
    }
}
</code></pre>
<p>All Minecraft item names (used in <code>income</code> and <code>ore</code> keys) must be in all
lowercase with spaces replaced by _.</p>
<h3 id="icon"><a class="header" href="#icon">icon</a></h3>
<p><strong>Format</strong>: <code>&quot;icon&quot;: &quot;icon_name&quot;</code></p>
<p>Name of the icon displayed in the dynmap editor. Most icons are Minecraft
item names. Animal icons are in format <code>mob_name</code>, such as <code>mob_cow</code> or <code>mob_sheep</code>.
This has no in-game behavior, this is purely for web editor/viewer.</p>
<h3 id="priority-required"><a class="header" href="#priority-required">priority (required)</a></h3>
<p><strong>Format</strong>: <code>&quot;priority&quot;: Number</code></p>
<p>This is order that resource node properties are applied to a territory.
Lower priority resource nodes are applied first.</p>
<h3 id="cost-required"><a class="header" href="#cost-required">cost (required)</a></h3>
<p><strong>Format 1</strong>: <code>&quot;scale&quot;: Number</code><br />
<strong>Format 2</strong>: <code>&quot;const&quot;: Number</code></p>
<pre><code>&quot;cost&quot;: {
    &quot;scale&quot;: 1.4,
    &quot;constant&quot;: 10
}
</code></pre>
<p>This defines the resource power cost applied to the territory.
<a href="mech/./4-1-territories.html#territory-cost">See territory cost model.</a></p>
<p>&quot;scale&quot; (or <strong>rs</strong>) is the power cost per chunk. &quot;const&quot; (or <strong>rc</strong>) is
the constant power cost for having this resource.</p>
<p><strong>total cost = base + rc + rs * a * chunks</strong></p>
<ul>
<li><strong>base</strong> = base cost</li>
<li><strong>chunks</strong> = size of territory</li>
<li><strong>a</strong> = fixed scale factor per chunk (so larger territories cost more)</li>
<li><strong>rs</strong> = resource scale factor (e.g. shitty resource wheat rs = 1, rare resource diamond rs = 2)</li>
<li><strong>rc</strong> = resource constant factor</li>
</ul>
<p>For territories with multiple resources, <strong>rs</strong> and <strong>rc</strong> are the total
from all resources: <strong>rs = rs1 * rs2 * ...</strong> and <strong>rc = rc1 + rc2 + ...</strong>.</p>
<p>Resource scale factors enforce that a large territory with a rare resource
is more expensive than small territory with same resource</p>
<h3 id="income"><a class="header" href="#income">income</a></h3>
<p><strong>Format 1</strong>: <code>&quot;item_name&quot;: amount</code><br />
<strong>Format 2</strong>: <code>&quot;spawn_egg_monster&quot;: amount</code></p>
<pre><code>&quot;income&quot;: {
    &quot;gold_ingot&quot;: 64,
    &quot;spawn_egg_cow&quot;: 1
}
</code></pre>
<p>These define items/blocks given to towns during every income cycle
(found in town income chest using <code>/town income</code>). Each <code>item_name</code> is a
normal Minecraft item name. To give spawn eggs, the name must be
<code>&quot;spawn_egg_monster&quot;</code> (e.g. <code>&quot;spawn_egg_sheep&quot;</code>).</p>
<p>The amount can either be a <code>Double</code> &lt;1.0 or <code>Integer</code> &gt;1, with following effects on income:</p>
<ul>
<li><strong>Amount &lt;1.0</strong>: Performs a random roll, gives 1 item if <code>random() &lt; amount</code></li>
<li><strong>Amount &gt;1.0</strong>: Gives the amount as an integer (casts to <code>Integer</code>)</li>
</ul>
<p>For occupation taxes, fractional amounts given to the occupier
are always rounded up using <code>Math.ceil()</code>.
So if the income amount &lt;= 1, for taxes it will always go to the occupier.</p>
<h3 id="ore"><a class="header" href="#ore">ore</a></h3>
<p><strong>Format 1</strong>: <code>&quot;item_name&quot;: drop_rate</code><br />
<strong>Format 2</strong>: <code>&quot;item_name&quot;: [drop_rate, min_amount, max_amount]</code></p>
<pre><code>&quot;ore&quot;: {
    &quot;coal&quot;: 0.5,
    &quot;gold_ore&quot;: [0.2, 2, 4]
}
</code></pre>
<p>These define probabilities for items to drop when mining stone or
other blocks set in config (often referred to as
<a href="https://github.com/DevotedMC/HiddenOre">&quot;hidden ore&quot;</a>). </p>
<p><code>drop_rate</code> is the probability that the item will drop. <code>min_amount</code>
and <code>max_amount</code> are the min and max items that drop when the event
triggers. The shorthand Format 1 <code>&quot;item_name&quot;: drop_rate</code> defaults
both <code>min_amount = max_amount = 1</code>.</p>
<h3 id="crops-1"><a class="header" href="#crops-1">crops</a></h3>
<p><strong>Format</strong>: <code>&quot;crop_type&quot;: growth_rate</code></p>
<pre><code>&quot;crops&quot;: {
    &quot;wheat&quot;: 1.0,
    &quot;potato&quot;: 0.5
}
</code></pre>
<p>By default, no crops will grow in a territory without adding specific crops
here. An entry here enables crops of that type to grow. The <code>growth_rate</code> sets
the probability the crop will grow during normal crop tick. Setting
<code>growth_rate = 1.0</code> means normal growth rate. Setting <code>&lt; 1.0</code> means
crops will grow slower.</p>
<p>Crops can be any growable block, e.g. wheat, sugar cane, pumpkin, melon, cactus, etc...</p>
<h3 id="animals"><a class="header" href="#animals">animals</a></h3>
<p><strong>Format</strong>: <code>&quot;animal_type&quot;: breed_success_rate</code></p>
<pre><code>&quot;animals&quot;: {
    &quot;sheep&quot;: 1.0,
    &quot;horse&quot;: 0.5
}
</code></pre>
<p>By default, when animals breed, there will be no child in territories without
animal settings here. An entry here enables animals of that type to breed.
The <code>breed_success_rate</code> sets the probability that a child will be created.
Setting <code>breed_success_rate = 1.0</code> means normal breeding. Setting <code>&lt; 1.0</code> means
some breed events will fail to produce offspring.</p>
<h3 id="income_total_multiplier"><a class="header" href="#income_total_multiplier">income_total_multiplier</a></h3>
<p><strong>Format</strong>: <code>&quot;income_total_multiplier&quot;: Number</code></p>
<p>Multiplies all territory income values by this number.</p>
<h3 id="income_multiplier"><a class="header" href="#income_multiplier">income_multiplier</a></h3>
<p><strong>Format</strong>: <code>&quot;item_name&quot;: Number</code></p>
<pre><code>&quot;income_multiplier&quot;: {
    &quot;diamond&quot;: 1.5,
    &quot;iron_ore&quot;: 1.2
}
</code></pre>
<p>Multiplies specific territory income items by value specified.
e.g. above, <code>diamond</code> income gets 1.5x multiplier, <code>iron_ore</code> income
gets 1.2x multiplier.</p>
<h3 id="ore_total_multiplier"><a class="header" href="#ore_total_multiplier">ore_total_multiplier</a></h3>
<p><strong>Format</strong>: <code>&quot;ore_total_multiplier&quot;: Number</code></p>
<p>Multiplies all territory hidden ore drop probability by this number.</p>
<h3 id="ore_multiplier"><a class="header" href="#ore_multiplier">ore_multiplier</a></h3>
<p><strong>Format</strong>: <code>&quot;item_name&quot;: Number</code></p>
<pre><code>&quot;ore_multiplier&quot;: {
    &quot;gold_ore&quot;: 1.5,
    &quot;coal&quot;: 1.25
}
</code></pre>
<p>Multiplies specific territory hidden ore drop probability by value specified.
e.g. above, <code>gold_ore</code> probability gets 1.5x multiplier, <code>coal</code> probability
gets 1.25x multiplier. <strong>This does not affect min/max item drop count.</strong></p>
<h3 id="crops_total_multiplier"><a class="header" href="#crops_total_multiplier">crops_total_multiplier</a></h3>
<p><strong>Format</strong>: <code>&quot;crops_total_multiplier&quot;: Number</code></p>
<p>Multiplies all territory crop growth probability by this number.</p>
<h3 id="crops_multiplier"><a class="header" href="#crops_multiplier">crops_multiplier</a></h3>
<p><strong>Format</strong>: <code>&quot;crop_type&quot;: Number</code></p>
<pre><code>&quot;crops_multiplier&quot;: {
    &quot;wheat&quot;: 1.5,
    &quot;potato&quot;: 1.25
}
</code></pre>
<p>Multiplies specific territory crop growth probability by value specified.
e.g. above, <code>wheat</code> growth probability gets 1.5x multiplier,
<code>potato</code> growth probability gets 1.25x multiplier.</p>
<h3 id="animals_total_multiplier"><a class="header" href="#animals_total_multiplier">animals_total_multiplier</a></h3>
<p><strong>Format</strong>: <code>&quot;animals_total_multiplier&quot;: Number</code></p>
<p>Multiplies all territory animal breed success probability by this number.</p>
<h3 id="animals_multiplier"><a class="header" href="#animals_multiplier">animals_multiplier</a></h3>
<p><strong>Format</strong>: <code>&quot;animal_type&quot;: Number</code></p>
<pre><code>&quot;animals_multiplier&quot;: {
    &quot;cow&quot;: 1.5,
    &quot;horse&quot;: 2.0
}
</code></pre>
<p>Multiplies specific territory animal breed success probability by value specified.
e.g. above, <code>cow</code> breed success probability gets 1.5x multiplier,
<code>horse</code> breed success probability gets 2.0x multiplier.</p>
<h3 id="neighbor_income"><a class="header" href="#neighbor_income">neighbor_income</a></h3>
<p><strong>Format 1</strong>: <code>&quot;item_name&quot;: amount</code><br />
<strong>Format 2</strong>: <code>&quot;spawn_egg_monster&quot;: amount</code></p>
<pre><code>&quot;neighbor_income&quot;: {
    &quot;gold_ingot&quot;: 4,
    &quot;spawn_egg_cow&quot;: 1,
}
</code></pre>
<p>Same format as <code>income</code>, except this adds values to the territory's neighbor
territories (NOT the territory itself).</p>
<h3 id="neighbor_ore"><a class="header" href="#neighbor_ore">neighbor_ore</a></h3>
<p><strong>Format 1</strong>: <code>&quot;item_name&quot;: drop_rate</code><br />
<strong>Format 2</strong>: <code>&quot;item_name&quot;: [drop_rate, min_amount, max_amount]</code></p>
<pre><code>&quot;neighbor_ore&quot;: {
    &quot;coal&quot;: 0.5,
    &quot;gold_ore&quot;: [0.2, 2, 4]
}
</code></pre>
<p>Same format as <code>ore</code>, except this adds values to the territory's neighbor
territories (NOT the territory itself).</p>
<h3 id="neighbor_crops"><a class="header" href="#neighbor_crops">neighbor_crops</a></h3>
<p><strong>Format</strong>: <code>&quot;crop_type&quot;: growth_rate</code></p>
<pre><code>&quot;neighbor_crops&quot;: {
    &quot;wheat&quot;: 0.5,
    &quot;potato&quot;: 0.5
}
</code></pre>
<p>Same format as <code>crops</code>, except this adds values to the territory's neighbor
territories (NOT the territory itself).</p>
<h3 id="neighbor_animals"><a class="header" href="#neighbor_animals">neighbor_animals</a></h3>
<p><strong>Format</strong>: <code>&quot;animal_type&quot;: breed_success_rate</code></p>
<pre><code>&quot;neighbor_animals&quot;: {
    &quot;sheep&quot;: 1.0,
    &quot;horse&quot;: 0.5
}
</code></pre>
<p>Same format as <code>animals</code>, except this adds values to the territory's neighbor
territories (NOT the territory itself).</p>
<h3 id="neighbor_income_total_multiplier"><a class="header" href="#neighbor_income_total_multiplier">neighbor_income_total_multiplier</a></h3>
<p><strong>Format</strong>: <code>&quot;neighbor_income_total_multiplier&quot;: Number</code></p>
<p>Multiplies all neighbor territory income values by this number.
Only affects neighbor, NOT territory itself.</p>
<h3 id="neighbor_income_multiplier"><a class="header" href="#neighbor_income_multiplier">neighbor_income_multiplier</a></h3>
<pre><code>&quot;neighbor_income_multiplier&quot;: {
    &quot;diamond&quot;: 1.5,
    &quot;spawn_egg_cow&quot;: 2.0
}
</code></pre>
<p>Multiplies specific neighbor territory income items by value specified.
Same as <code>income_multiplier</code> except applies to neighbor territories, NOT
the territory itself.</p>
<h3 id="neighbor_ore_total_multiplier"><a class="header" href="#neighbor_ore_total_multiplier">neighbor_ore_total_multiplier</a></h3>
<p><strong>Format</strong>: <code>&quot;neighbor_ore_total_multiplier&quot;: Number</code></p>
<p>Multiplies all neighbor territory hidden ore drop probability by this number.
Only affects neighbor, NOT territory itself.</p>
<h3 id="neighbor_ore_multiplier"><a class="header" href="#neighbor_ore_multiplier">neighbor_ore_multiplier</a></h3>
<p><strong>Format</strong>: <code>&quot;item_name&quot;: Number</code></p>
<pre><code>&quot;neighbor_ore_multiplier&quot;: {
    &quot;gold_ore&quot;: 1.5,
    &quot;coal&quot;: 1.25
}
</code></pre>
<p>Multiplies specific neighbor territory hidden ore drop probability by
value specified. Same as <code>ore_multiplier</code> except applies to neighbor
territories, NOT the territory itself. Only affects probability,
not item drop min/max count.</p>
<h3 id="neighbor_crops_total_multiplier"><a class="header" href="#neighbor_crops_total_multiplier">neighbor_crops_total_multiplier</a></h3>
<p><strong>Format</strong>: <code>&quot;neighbor_crops_total_multiplier&quot;: Number</code></p>
<p>Multiplies all neighbor territory crop growth probability by this number.
Only affects neighbor, NOT territory itself.</p>
<h3 id="neighbor_crops_multiplier"><a class="header" href="#neighbor_crops_multiplier">neighbor_crops_multiplier</a></h3>
<pre><code>&quot;neighbor_crops_multiplier&quot;: {
    &quot;wheat&quot;: 1.5,
    &quot;potato&quot;: 1.5
}
</code></pre>
<p>Multiplies specific neighbor territory crops growth probability by value.
Same as <code>crops_multiplier</code> except applies to neighbor territories, NOT
the territory itself.</p>
<h3 id="neighbor_animals_total_multiplier"><a class="header" href="#neighbor_animals_total_multiplier">neighbor_animals_total_multiplier</a></h3>
<p><strong>Format</strong>: <code>&quot;neighbor_animals_total_multiplier&quot;: Number</code></p>
<p>Multiplies all neighbor territory animal breed success probability by this number.
Only affects neighbor, NOT territory itself.</p>
<h3 id="neighbor_animals_multiplier"><a class="header" href="#neighbor_animals_multiplier">neighbor_animals_multiplier</a></h3>
<pre><code>&quot;neighbor_animals_multiplier&quot;: {
    &quot;cow&quot;: 1.5,
    &quot;horse&quot;: 2.0
}
</code></pre>
<p>Multiplies specific neighbor territory animal breed success probability
by value specified. Same as <code>animals_multiplier</code> except applies to neighbor
territories, NOT the territory itself.</p>
<h2 id="intended-usage"><a class="header" href="#intended-usage">Intended Usage</a></h2>
<p>Resource nodes are intended as <em>composable units.</em> This means that instead
of making very specific resource nodes for each territory, it's best to make
generic nodes such as a <strong>wheat</strong>, <strong>coal</strong>, <strong>horses</strong>, or <strong>iron</strong> and attach
them to many different territories. Territories are intended to have multiple
resource nodes. Examples of intended usage:</p>
<ul>
<li><strong>Agriculture territory</strong>: this could have <strong>wheat</strong>, <strong>potato</strong> and <strong>sheep</strong> nodes</li>
<li><strong>Iron territory</strong>: this could have an <strong>iron</strong> node</li>
<li><strong>Mongolian horse steppe</strong>: this could have a <strong>horses</strong> nodes</li>
<li><strong>Coal-rich territory</strong>: because resource node names are unique, have several coal nodes: <strong>coal</strong>, <strong>coal2</strong>, <strong>coal3</strong> with similar properties attached to this territory (can have <strong>coal</strong> and <strong>coal2</strong> set ore mining rates while <strong>coal3</strong> simply provides additional fixed income)</li>
</ul>
<h2 id="combined-resource-node-rate-calculations"><a class="header" href="#combined-resource-node-rate-calculations">Combined Resource Node Rate Calculations</a></h2>
<ul>
<li>Rates for the same property are summed together.</li>
<li>Properties are added together sequentially in order of priority (low to high)</li>
<li>Multipliers are applied to properties that exist when it is
applied. So in general, make resource nodes with multipliers separate
and with higher priority value.</li>
</ul>
<p><strong>Example:</strong></p>
<pre><code>resources = {
    &quot;iron&quot;: {
        &quot;priority&quot;: 0,
        &quot;ore&quot;: { &quot;iron_ore&quot;: 0.5 }
    },
    &quot;gold&quot;: {
        &quot;priority&quot;: 0,
        &quot;ore&quot;: { &quot;gold_ore&quot;: 0.5 }
    },
    &quot;diamond&quot;: {
        &quot;priority&quot;: 100,
        &quot;ore:&quot; { &quot;diamond_ore&quot;: 0.5 }
    },
    &quot;bonus_ore&quot;: {
        &quot;priority&quot;: 50,
        &quot;ore_total_multiplier&quot;: 1.5
    }
}
</code></pre>
<p>The sorted order will be <code>[&quot;iron&quot;, &quot;gold&quot;, &quot;bonus_ore&quot;, &quot;diamond&quot;]</code>
(from sorting by priority low to high). The territory resources is
calculated as:</p>
<ol>
<li>Apply &quot;iron&quot;:</li>
</ol>
<pre><code>resources = {
    ore = {
        iron_ore: 0.5,
    }
}
</code></pre>
<ol start="2">
<li>Apply &quot;gold&quot;:</li>
</ol>
<pre><code>resources = {
    ore = {
        iron_ore: 0.5,
        gold_ore: 0.5,
    }
}
</code></pre>
<ol start="3">
<li>Apply &quot;bonus_ore&quot; (1.5x multipler on all ore):</li>
</ol>
<pre><code>resources = {
    ore = {
        iron_ore: 0.75,
        gold_ore: 0.75,
    }
}
</code></pre>
<ol start="4">
<li>Apply &quot;diamond&quot;:</li>
</ol>
<pre><code>resources = {
    ore = {
        iron_ore: 0.75,
        gold_ore: 0.75,
        diamond_ore: 0.5,
    }
}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><blockquote>
<p><span style="color:red">Currently unimplemented.</span></p>
</blockquote>
<h1 id="territories-1"><a class="header" href="#territories-1">Territories</a></h1>
<p>Territories are the core unit in Nodes. These are a group of
chunks with some &quot;resource&quot; properties attached. Territories
also form a graph with adjacent territories. Below is a simplified
high-level example of a territory. <strong>This design document describes
how territories and resources are loaded and created in the Nodes engine.</strong></p>
<pre><code class="language-json">Territory {
    // fixed structural properties
    id: 420,
    chunks: [(x0, z0), (x1, z1), (x2, z2)]
    neighbors: [TerritoryId(69), TerritoryId(9000)]

    // resource properties
    resources: [&quot;town&quot;, &quot;diamond&quot;]
    income: [DIAMOND],
    crops: [WHEAT, CARROT]
    animals: [PIG]
    ore: [DIAMOND, GOLD]
    customProperties: {
        manpower: 5,
    }
}
</code></pre>
<p><strong>Properties:</strong></p>
<ul>
<li>Territory is a set of chunks. Chunks must map to a single territory.
<strong>No territories should share chunks.</strong></li>
<li>Territories form a graph with edges between territories bordering
each other. The <code>neighbors</code> objects contains just territory ids
to avoid territory pointer graph dependencies. This makes it easier
to swap in / recreate territory objects on the fly (so long as overall
world territory graph unchanged).</li>
<li>Territory fixed and resource properties should be immutable after
territory is created. If these need to change, create a new Territory
object.</li>
<li>Territory resource properties are &quot;fixed function&quot;: these are hard-coded
properties for the most common game behaviors.</li>
<li>External addons can add additional functionality using the
<code>customProperties: Map&lt;String, Any&gt;</code>.</li>
</ul>
<h2 id="territory-creation-process"><a class="header" href="#territory-creation-process">Territory creation process</a></h2>
<p>Territory creation/initialization itself can be expensive (due to
creating potentially expensive data structures during initialization).
Our goals:</p>
<ul>
<li>Territory created is immutable</li>
<li>Multiple passes of resource node modification by main plugin
and external addon plugins before creating final ResourceNode.</li>
<li>Territory resource graph neighbor-neighbor interactions.
(e.g. neighbor bonuses).</li>
</ul>
<pre><code>           [world.json]
                |_____________________________________
                |                                    |
                v                                    v
           Territories                           Resources
              Json                                 Json
                |____________________                |
                |                   |                |
                v                   v                |
    territoriesToBuild:      territoryResources:     |
    Map&lt;Id, FixedProperties&gt;  Map&lt;Id, List&lt;String&gt;&gt;  |
                |                   |           _____v______
                |                   |           | Default  |
                |                   |           | Resource |
                |                   |           |  Loader  |
                |                   |           |__________|
                |                   |                |
                |                   |           _____v______
                |                   |           | External | (Can be
                |                   |           | Resource |  multiple
                |                   |           |  Loaders |  external
                |                   |           |__________|  loaders)
                |                   |                |
                |                   |               ...
                |                   |                |
                |                   |                v
                |                   |   resources: Map&lt;String, ResourceNode&gt;
                |                   |                |
                |                   |                |
                |            _______v_________       |
                |           | Build Territory |      |
                |           | Resource Graph  |&lt;-----|
                |           |_________________|
                |                   |
                |                   v
                |             resourceGraph:
                |            Map&lt;Id, Resources&gt;
                |                   |
                |            _______v_________
                |           | Graph           | (e.g. neighbor-neighbor
                |----------&gt;| Message passing |  modifiers)
                |           |_________________|
                |                   |
                |                   v
                |           finalResourceGraph:
                |           Map&lt;Id, Resources&gt;
                |                   |
                |        ___________v_________________________
                |       | Combine territory fixed properties | 
                |------&gt;| and resources and compile          | 
                        |____________________________________|
                                    |
                                    v
                                territories:
                             Map&lt;Id, Territory&gt;
</code></pre>
<h2 id="territory-resources-compilation"><a class="header" href="#territory-resources-compilation">Territory Resources Compilation</a></h2>
<p><strong>Resources are groups of &quot;attribute&quot; functions: <code>A(T) -&gt; T</code></strong></p>
<p>Resource nodes are composed of a list of <code>ResourceAttribute</code> interface 
objects. These are functions applied to a <code>TerritoryResources</code> to create a
new <code>TerritoryResources</code> (e.g. to add resources, or apply modifiers).</p>
<pre><code>TerritoryResources {
    income: List&lt;Item&gt;,
    crops: List&lt;Crop&gt;
    animals: List&lt;Animal&gt;,
    ore: List&lt;Item&gt;,
    customProperties: Map&lt;String, Any&gt;,
}

ResourceAttribute {
    apply(t: TerritoryResources) -&gt; TerritoryResources
}

ResourceNode {
    attributes: List&lt;ResourceAttribute&gt;
    priority: 69
}
</code></pre>
<p>A single <code>TerritoryResources</code>'s &quot;compilation&quot; process is shown below:</p>
<ol>
<li>Start with a blank <code>TerritoryResources</code> (or default properties).</li>
<li>Sort a list of resource nodes by priority (e.g. so that modifiers like bonus
ore percent is applied after base ore rates are added).</li>
<li>Foreach resource node, foreach attribute, apply the attribute function
to the <code>TerritoryResources</code>.</li>
</ol>
<pre><code>t = TerritoryResources.default()

resources = [
    ResourceNode { [BonusOreAttribute], priority: 69 },
    ResourceNode { [IncomeAttribute, OreAttribute], priority: 0 },
]

for r in sort(resources, key = resource.priority()):
    for attribute in r.attributes:
        t = t.apply(attribute)
</code></pre>
<h2 id="resource-attribute-priority"><a class="header" href="#resource-attribute-priority">Resource Attribute Priority</a></h2>
<p>Default in nodes plugin:</p>
<ul>
<li><strong>Regular properties (income, crops, ore, etc.):</strong> 0</li>
<li><strong>Bonus modifiers (+10% income, +10% ore, etc.):</strong> 50</li>
<li><strong>Neighbor modifiers (+10% neighbor ore, etc.):</strong> 100</li>
</ul>
<h2 id="resource-loaders-and-addons"><a class="header" href="#resource-loaders-and-addons">Resource Loaders and Addons</a></h2>
<p><code>ResourceLoader</code> interface loads json resource object tree into
resource attributes. Intermediate <code>ResourceBuilder</code> state is passed
through all loader systems before finishing compiling into
immutable <code>ResourceNode</code> object definitions.</p>
<pre><code>ResourceBuilder {
    attributes: List&lt;ResourceAttribute&gt;

    build() -&gt; ResourceNode
}

ResourceBuilderLibrary {
    resources: Map&lt;String, ResourceBuilder&gt;

    build() -&gt; Map&lt;String, ResourceNode&gt;
}

ResourceLoader {
    apply(resources: ResourceBuilderLibrary, json: Json) -&gt; ResourceBuilderLibrary
}

// load resources
loaders: List&lt;ResourceLoader&gt; = [
    ResourceLoaderBuiltin,
    ResourceLoaderAddon1,
    ResourceLoaderAddon2,
]

jsonResourceLibrary = loadJsonResourceSection(&quot;world.json&quot;)

resourcesToBuild = ResourceBuilderLibrary()

for resourceLoader in loaders:
    resourcesToBuild = resourceLoader.apply(resourcesToBuild, jsonResourceLibrary)

resources = resourcesToBuild.build()
</code></pre>
<h2 id="external-resource-loader-jar-files"><a class="header" href="#external-resource-loader-jar-files">External Resource Loader <code>.jar</code> Files</a></h2>
<p>This system must support loading <code>ResourceLoader</code> objects from
other <code>.jar</code> files in <code>nodes/addons/resources</code>. This allow external
addons to write custom resources (e.g. resources with more customized
behavior or that modify territory <code>customProperites</code>).</p>
<h2 id="reloading-resourcesterritories"><a class="header" href="#reloading-resourcesterritories">Reloading Resources/Territories</a></h2>
<ul>
<li>Reloading resources requires repeating resource loader steps and all
territory re-calculations. <strong>This is expensive (full map re-calculation).</strong></li>
<li>Reloading territories requires re-calculating a territory, then
recalculating all neighbors (to propagate neighbor bonuses).
<strong>This requires recalculating Territory resources for reloaded territories,
neighbors, AND neighbors' neighbors (two edges away).</strong> This is to make
sure neighbors' neighbors modifiers are all calculated. But only direct
neighbors would be updated in this process.</li>
</ul>
<h2 id="why-no-territoryattribute"><a class="header" href="#why-no-territoryattribute">Why No <code>TerritoryAttribute</code>?</a></h2>
<p>Currently territories are fixed functionality with an additional 
<code>customProperties&lt;String, Any&gt;</code> map for implementing external features:</p>
<pre><code>Territory {
    income: [DIAMOND],
    crops: [WHEAT, CARROT]
    animals: [PIG]
    ore: [DIAMOND, GOLD]
    customProperties: {
        manpower: 5,
    }
}
</code></pre>
<p>An alternative would be to decompose territory resource properties as
a set of <code>TerritoryAttribute</code> properites, similar to resources.
The territory above would become:</p>
<pre><code>Territory {
    attributes: [
        IncomeAttribute { [DIAMOND] }
        CropsAttribute { [WHEAT, CARROT] },
        AnimalsAttribute { [PIG] },
        OresAttribute { [DIAMOND, GOLD] },
        ManpowerAttribute { 5 },
    ]
}
</code></pre>
<p>While this is more flexible, it incurs more development and runtime cost for checking which attributes exist in a territory. For my targeted use case, the majority of required territory functionality is just income, crops, animals, and ore. The flexibility in the above &quot;Entity-Component&quot; style of territory did not seem worth it.</p>
<h3 id="fixed-function-territories"><a class="header" href="#fixed-function-territories"><strong>Fixed Function Territories:</strong></a></h3>
<p><strong>Pros:</strong></p>
<ul>
<li>Development easier for main use cases (less checks for
attribute existence).</li>
<li>Less runtime cost for checking attribute existence in
main use cases.</li>
</ul>
<p><strong>Cons:</strong></p>
<ul>
<li>External addons must share a <code>customProperties&lt;String, Any&gt;</code>
which can be annoying to use and unsafe.</li>
</ul>
<h3 id="attribute-based-territories"><a class="header" href="#attribute-based-territories"><strong>Attribute Based Territories:</strong></a></h3>
<p><strong>Pros:</strong></p>
<ul>
<li>Well defined territory API, allows more external addon
flexibility.</li>
<li>Lower memory usage: most territories do not need data
structures for all functionalities.</li>
</ul>
<p><strong>Cons:</strong></p>
<ul>
<li>Runtime and development cost for checking which attributes
exist in territories.</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="prefer-handlesids-over-references"><a class="header" href="#prefer-handlesids-over-references">Prefer Handles/IDs over References</a></h1>
<blockquote>
<p><strong>tl;dr prefer storing handles like <code>TerritoryId</code> instead of direct
<code>Territory</code> pointer references. Avoid forming pointer dependencies.</strong></p>
</blockquote>
<h2 id="problem-cancerous-dependency-web"><a class="header" href="#problem-cancerous-dependency-web">Problem: Cancerous dependency web</a></h2>
<p>Territories in particular are intended to be swapped out in real-time in order to easily modify resource attributes, e.g. Players build structures in their territory that reward new resource nodes.</p>
<p>To handle swapping out or modifying territories we have two options:</p>
<ol>
<li><strong>Make territories fully mutable, modify or re-build resource
properties in real time.</strong>
<ul>
<li><strong>Pros:</strong> &quot;Non-invasive&quot;. Pointer stability.</li>
<li><strong>Cons:</strong> Need to enforce that only certain systems actually modify.
Can potentially become difficult to enforce.</li>
</ul>
</li>
<li><strong>Keep territories mostly immutable. Re-create entire territory
when resources need to be updated.</strong>
<ul>
<li><strong>Pros:</strong> Systems cannot modify territory properties.
Easier to reduce surface area for unknown state modifications
(not guaranteed, but easier). References to object have
stable properties (though not critical since codebase is
currently single-threaded).</li>
<li><strong>Cons:</strong> Re-creating objects requires updating all pointer
dependencies in other objects. More difficult to enforce
memory safety.</li>
</ul>
</li>
</ol>
<p>We opt for the 2nd option of mainly immutable objects and re-creating the object when properties need to change. This architecture, however, makes holding direct references difficult, since all these need to be updated when the object is re-created. This creates a bigger surface area for memory leaks:</p>
<pre><code>Town {
    capital: Territory
    territories: ArrayList&lt;Territory&gt;
}

Territory {
    owner: Town
    neighbors: List&lt;Territory&gt;
}
</code></pre>
<p>If a territory is swapped out, all references to the old <code>Territory</code> object must be replaced with the <code>Town</code> and <code>Territory</code>. The alternative representation is the central storage of objects while enforcing only handle references:</p>
<pre><code>TownId = int

Town {
    capital: TerritoryId
    territories: ArrayList&lt;TerritoryId&gt;
}

TerritoryId = int

Territory {
    owner: TownId
    neighbors: List&lt;TerritoryId&gt;
}

// central storages
towns = Map&lt;TownId, Town&gt;
territories = Map&lt;TerritoryId, Territory&gt;
</code></pre>
<h2 id="handles-over-pointers"><a class="header" href="#handles-over-pointers">Handles over Pointers</a></h2>
<ul>
<li><strong>Pointer stability through indirection.</strong> This adds a layer of 
indirection to provide pointer stability. A territory can be
swapped in without affecting any other state since all
access must use the central storage. This assumes overall world
structure is unchanged and ids remain the same. Client must
ensure these invariants are upheld.</li>
<li><strong>Additional indirection cost.</strong> However, indirection adds
a map lookup to get the underlying object. This may not be
great in a hot path. Need to profile/benchmark if this
becomes a concern. Likely not an issue since Nodes does not
run big tasks each server tick.</li>
</ul>
<h2 id="when-handles"><a class="header" href="#when-handles">When Handles</a></h2>
<p>Prefer handles for</p>
<ul>
<li>Long lived storage with interlocked dependencies (e.g. Town-Territory
object dependencies). In this case, Territories are intended to be
re-created in real time, while Towns are not, so use TerritoryId,
but TownId not as necessary.</li>
</ul>
<p>Ok direct references:</p>
<ul>
<li>Hot paths (getting Territory from TerritoryChunk, very common)</li>
<li>Short lived objects that are not stored (e.g. events)</li>
</ul>
<h2 id="type-safe-handles"><a class="header" href="#type-safe-handles">Type safe handles</a></h2>
<blockquote>
<p>📝 <strong>Note</strong>: This section is deprecated as we are moving back to JDK in-order to keep uniformity for collaboration sake.</p>
</blockquote>
<p>Kotlin allows type safe wrappers around basic identifiers with <a href="https://kotlinlang.org/docs/inline-classes.html">value
classes</a>:</p>
<pre><code class="language-kotlin">@JvmInline
value class TerritoryId(private val id: Int)
</code></pre>
<ul>
<li><a href="https://kotlinlang.org/docs/inline-classes.html">https://kotlinlang.org/docs/inline-classes.html</a></li>
<li><a href="https://typealias.com/guides/inline-classes-and-autoboxing/">https://typealias.com/guides/inline-classes-and-autoboxing/</a></li>
</ul>
<h2 id="see-also"><a class="header" href="#see-also">See Also</a></h2>
<p><a href="https://floooh.github.io/2018/06/17/handles-vs-pointers.html">https://floooh.github.io/2018/06/17/handles-vs-pointers.html</a></p>
<div style="break-before: page; page-break-before: always;"></div><blockquote>
<p><span style="color:red">Currently unimplemented.</span></p>
</blockquote>
<h1 id="claiming-system"><a class="header" href="#claiming-system">Claiming System</a></h1>
<p>The claiming system, as mentioned in the <a href="mech/nodes/nodes.html">Nodes</a> page, will be essentially a fork of <a href="https://github.com/TownyAdvanced/Towny">Towny</a> with a few elements from other plugins.</p>
<p>If you are not familiar with Towny, then to put it simply, it is one of those claim management plugins that allows players to claim land that other players can not access, break or modify and also allows players to invite other players to a “group” that has access to said land so that way only people within the group can use that land.</p>
<p>In vanilla Towny, there exists something called “Objects”. Objects can be defined as one of a few things, and follow a hierarchy:</p>
<ol>
<li>Resident (Player) - The lowest level of object.</li>
<li>Town (Group of players, lead by a “mayor”)</li>
<li>Plot (Chunk that is owned by a resident or Town)</li>
<li>Nation (Group of towns, led by a “king”, all towns within a nation can modify other towns within the same nation. Nations can ally and enemy each other and wage war with one another)</li>
</ol>
<blockquote>
<p>Developer Note: See <a href="https://github.com/TownyAdvanced/Towny/blob/master/src/com/palmergames/bukkit/towny/object/TownyObject.java">TownyObject.java</a></p>
</blockquote>
<p>Our claiming system plans to expand on Towny by using it as a base template and combine it with a system such as <a href="mech/nodes/nodes.html">nodes</a> and integrate it with our <a href="mech/nodes/economy.html">economy</a> and the <a href="mech/nodes/cults.html">cults</a> system.</p>
<h2 id="why-other-systems-kinda-suck"><a class="header" href="#why-other-systems-kinda-suck">Why other systems kinda suck:</a></h2>
<p>Factions were just straight-up never good for these kinds of servers.</p>
<p>Towns put too much focus on the &quot;home block&quot;, or the capital, of their towns (the basic land-claiming unit). So an entire nation has its heart in a single chunk that is 9 out of 10 times the town that created the nation in the first place. To move the capital of the entire nation, say to somewhere more strategic, you would have to give up ownership of the town to make another town the &quot;capital&quot; and, therefore, have that mayor (the person who is in charge of the town) be king.</p>
<p>In pretty much all of Towny's warfare systems, if you take out the home block you win the war.</p>
<p>In Towny, wars are either too fast (the flag-war system, the attrition system which was kill-based) or wayyyy too slow (Modern Siege System).</p>
<p>The bright side of Towny is that it's constantly being updated by competent developers, and those developers are also very helpful when it comes to adding new features using their API and will sometimes even lend a hand in development.</p>
<p>I believe that Towny is a good base for our new hybrid claims system on this basis. Not to mention, it already has the basic object hierarchy structure that we can work off of. I believe <a href="https://github.com/crusalis/multi-nodes">phonon's nodes</a> would not be an acceptable base for our fork as it is way too bare bones compared to Towny and removes necessary features that we can use to expand off of, such as the different <code>plot-types</code> built in the Towny API. Not to mention that the source for phonon's nodes is written in Kotlin which will make collaboration significantly harder as it's currently not a widely accepted language standard for plugin development. </p>
<h2 id="why-the-fork-is-necessary"><a class="header" href="#why-the-fork-is-necessary">Why the fork is necessary:</a></h2>
<p>Forking Towny is necessary as it plans to offer better implementation of certain gameplay features that vanilla base Towny can't offer as it would be too niche for them to consider. Features such as:</p>
<ul>
<li>Direct support and integration of the proposed <a href="mech/nodes/nodes.html">nodes</a> system.</li>
<li>Integration for the <a href="mech/nodes/cults.html">cults</a> mechanic.</li>
<li>Better integration with Movecraft.</li>
<li>Direct integration for proposed <a href="mech/nodes/npc.html">NPC</a> mechanics such as: 
<ul>
<li>Spawning of <a href="mech/nodes/npcs/types/soldier.html">soldiers</a>.</li>
<li>Implementation of proposed mechanics of NPC nations.</li>
</ul>
</li>
<li>Better <a href="mech/nodes/nations/permissions.html">permissions</a> system</li>
</ul>
<h2 id="concept-overview"><a class="header" href="#concept-overview">Concept Overview</a></h2>
<p>The proposed nations system aims to be as dynamic as possible and gives the player as much freedom as possible when structuring their claims. Since the project aims to be a geopol, a proper, well made nations system is crucial for the project to succeed. As stated above, this system aims to integrate directly with the NPCs as a way to implement NPC specific event triggering and a sort of &quot;diplomacy algorithm&quot; to handle inter-player and non-player interactions.</p>
<p>Land claiming is just the basics of the nation system but the real magic lies in its object structure and unique permission based land management. With the permissions system, roles such as Governor, Treasurer, General, etc. will no longer just be &quot;roleplay&quot; but actually coded into the game.</p>
<p>Introduction of the plot system is not a new concept as it was done in Towny where nations/towns can set certain chunks as a different plot-type, each with their own special attributes. One such example is a jail plot that supposeduly would allow for the imprisonment of rival players. This feature was buggy and the towny method for implementing plots wasn't very straightforward and was barely beneficial for the casual player.</p>
<p>This new system attempts to fix that by tying plot-types to other plugins such as perhaps a factory plot that can tie into Movecraft or a <a href="mech/nodes/../economy/banking.html">bank plot that ties into the economy</a>. The plot-type system adds a way for other plugins to hook directly into our nation system by allowing for unique event triggers and more intuitive location-based event firing. </p>
<blockquote>
<p>See <a href="mech/nodes/nations/objects.html">Objects</a> and <a href="mech/nodes/nations/permissions.html">Permissions</a></p>
</blockquote>
<h3 id="warfare"><a class="header" href="#warfare">Warfare</a></h3>
<div style="break-before: page; page-break-before: always;"></div><h1 id="objects-1"><a class="header" href="#objects-1">Objects</a></h1>
<p>As discussed briefly on the previous pages, the mechanic that sets this nation/land management system apart from other currently available plugins on the market is our more dynamic object hierarchy. We already discussed the overarching objects such as <a href="mech/nodes/nations/../territories.html"><code>Territories</code></a>, <code>Towns</code>, and <code>Nations</code> but now we will take it a step further and see how each of those objects can be compartmentalized into more specific groups and subgroups of objects.</p>
<h2 id="global-objects"><a class="header" href="#global-objects">Global Objects</a></h2>
<p>First we will discuss global objects. <code>Global objects</code> can be described as the general overarching objects or object groups. Gameplay wise, these objects can be accessed by anyone. Programming wise, the objects can and should be accessed by most other classes.</p>
<p>Here is a list of the global objects:</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="permissions"><a class="header" href="#permissions">Permissions</a></h1>
<p>One of the key features that seperates our nation system from others is the implementation of per-object permissions. This means that town and nation leaders have more freedom assigning permissions to their members outside of simply making someone an officer. It also introduces an &quot;anti-inactiveness&quot; feature where leadership will change hands to the next viable choice in event that the leader of the town or nation were to go inactive for an extended period of time.</p>
<h2 id="overview-9"><a class="header" href="#overview-9">Overview</a></h2>
<div style="break-before: page; page-break-before: always;"></div><h1 id="plots"><a class="header" href="#plots">Plots</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="npc-integration-1"><a class="header" href="#npc-integration-1">NPC Integration</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="agriculture"><a class="header" href="#agriculture">Agriculture</a></h1>
<p>&quot;Agriculture&quot; is a placeholder name for the catch-all system to handle horticulture, agricultural, botanical, and zoological features.</p>
<h2 id="overview-10"><a class="header" href="#overview-10">Overview</a></h2>
<p>This system is all encompassing and handles a lot of different things, all features and changes are mainly concerning farming and farming related things.</p>
<p>We plan to introduce several new types of farming equipment, including fish traps, animal traps, and other tools that can be used for hunting and farming. These tools will allow players to experiment with new farming methods and hopefully add some variety to the gameplay.</p>
<p>We also plan to introduce a variety of new crops and crop types that players can grow, including exotic fruits and vegetables, herbs, and spices. We also plan to add new mechanics for growing and harvesting crops, such as custom plants and trees that players can grow, with unique properties and characteristics that are not found in the vanilla game. These plants and trees will provide new resources and crafting materials, and add to the overall variety of the game.</p>
<p>We want to make changes to the animal breeding system, to make it more realistic and immersive. This will include changes to the way animals behave, as well as new mechanics for breeding and raising animals. This way animals will naturally increase in population in the wilderness and new population caps for animals will be introduced to prevent overbreeding or perhaps introducing the extinction of an animal from an area.</p>
<h2 id="mechanic-changes"><a class="header" href="#mechanic-changes">Mechanic Changes</a></h2>
<p>This section goes over mechanical changes introduced by the Agriculture plugin.</p>
<h3 id="change-in-growth-rates"><a class="header" href="#change-in-growth-rates">Change in Growth Rates</a></h3>
<p>Growth rates will now vary depending on factors such as biome and longitudinal location. This is to make the environment feel semi-realistic but also by hindering massive farms. </p>
<h3 id="food-expiration"><a class="header" href="#food-expiration">Food Expiration</a></h3>
<p>This is a change to make storing foods for long periods of time a little more challenging. The hope is by adding an expiration to food, we can prevent massive stockpiles of foodstuffs and introduce new mechanics that aid in preservation of food. By trying to limit or hinder large player-made food stockpiles, we can try to promote trading and more of an active agrarian lifestyle in players. </p>
<h2 id="new-items"><a class="header" href="#new-items">New Items</a></h2>
<p>In this section we will cover the new items planned to be added as part of this plugin. </p>
<h3 id="fish-traps"><a class="header" href="#fish-traps">Fish Traps</a></h3>
<p>Fish traps are a type of equipment that can be used to passively collect fish from bodies of water. They look like barrels and can be placed in a minimum of a 3x3 pool of water. The fish traps have a custom crafting recipe that looks like this:</p>
<p><a href="mech/">Placeholder image of crafting recipe</a></p>
<p>To use the traps, players must first craft them and then place them in a body of water. Once the trap is in place, players must put food in the trap to act as bait. The type of bait used will determine the type of fish that can be caught. For example, using raw salmon as bait will attract salmon, while using raw cod will attract cod.</p>
<p>The traps will collect fish over time, and the amount and type of fish caught will depend on a variety of factors, such as the type of bait used, the size of the pool of water, and the length of time the trap has been in place. Once the trap has caught fish, players can come back to collect them at any time.</p>
<p>Fish traps can be a useful addition to a player's farming equipment, providing a passive way to collect fish and adding a new dimension to gameplay.</p>
<h4 id="technical-perspective"><a class="header" href="#technical-perspective"><em><strong>Technical Perspective</strong></em></a></h4>
<p>We can design a class called <code>FishTrap</code> to use with the plugin. </p>
<p>The <code>FishTrap</code> class is a custom object that represents a fish trap in the game. It has the following fields:</p>
<ul>
<li><code>location</code> : The location where the trap is placed.</li>
<li><code>bait</code> : The amount of bait in the trap.</li>
<li><code>timeUntilCheck</code> : The time remaining until the trap can be checked again.</li>
</ul>
<p>The class has a constructor that takes in a <code>'Location'</code> object, which represents the location where the trap will be placed. The constructor also initializes the <code>'bait'</code> and <code>'timeUntilCheck'</code> fields to their default values.</p>
<p>The <code>addBait()</code> method allows players to add bait to the trap. If the amount of bait in the trap exceeds the maximum amount allowed, the excess bait is not added and the method returns <code>false</code>.</p>
<p>The <code>checkTrap()</code> method is called when a player wants to check the trap for fish. If there is no bait in the trap, the method returns <code>false</code>, indicating that no fish were caught. If there is bait in the trap, the amount of bait is decreased and a random number is generated to determine if a fish was caught. If a fish was caught, the method returns <code>true</code>, indicating that the player caught a fish. If no fish was caught, the method returns <code>false</code>.</p>
<p>The <code>getTimeUntilCheck()</code> method returns the time remaining until the trap can be checked again.</p>
<p>The <code>decreaseTimeUntilCheck()</code> method decreases the time remaining until the trap can be checked again.</p>
<p>The <code>getLocation()</code> method returns the location of the trap.</p>
<p>The <code>equals()</code> and <code>hashCode()</code> methods are overridden to allow the traps to be compared and hashed properly.</p>
<p>Overall, the FishTrap class allows players to create and use fish traps in the game, and provides methods for adding bait, checking the trap for fish, and managing the time until the trap can be checked again.</p>
<pre><code class="language-java">import org.bukkit.Location;
import java.util.Objects;
import java.util.Random;

public class FishTrap {
    private final Location location;
    private int bait;
    private long timeUntilCheck;

    // Constructor
    public FishTrap(Location location) {
        this.location = location;
        this.bait = 0;
        this.timeUntilCheck = 0;
    }

    // Add bait to the trap
    public boolean addBait(int amount) {
        int maxBait = 64;
        if (this.bait + amount &gt; maxBait) {
            return false;
        }
        this.bait += amount;
        return true;
    }

    // Check the trap for fish
    public boolean checkTrap() {
        if (this.bait &lt;= 0) {
            return false;
        }
        Random rand = new Random();
        double catchChance = 0.5; // Adjust this value to change catch rate
        if (rand.nextDouble() &lt; catchChance) {
            this.bait--;
            return true;
        }
        this.bait--;
        return false;
    }

    // Get the time until the trap can be checked again
    public long getTimeUntilCheck() {
        return this.timeUntilCheck;
    }

    // Decrease the time until the trap can be checked again
    public void decreaseTimeUntilCheck(long amount) {
        this.timeUntilCheck = Math.max(this.timeUntilCheck - amount, 0);
    }

    // Get the location of the trap
    public Location getLocation() {
        return this.location;
    }

    // Override equals() method to compare FishTrap objects
    @Override
    public boolean equals(Object o) {
        if (this == o) {
            return true;
        }
        if (!(o instanceof FishTrap)) {
            return false;
        }
        FishTrap fishTrap = (FishTrap) o;
        return Objects.equals(this.location, fishTrap.location);
    }

    // Override hashCode() method to hash FishTrap objects
    @Override
    public int hashCode() {
        return Objects.hash(this.location);
    }
}
</code></pre>
<p>Here is an example listener to handle interactions with the fish trap:</p>
<pre><code class="language-java">// Handle player interactions with fish traps
    @EventHandler
    public void onPlayerInteract(PlayerInteractEvent event) {
        Player player = event.getPlayer();
        ItemStack item = player.getInventory().getItemInMainHand();
        Block clickedBlock = event.getClickedBlock();

        // Check if player right-clicked a fish trap with bait
        if (event.getAction() == Action.RIGHT_CLICK_BLOCK &amp;&amp; clickedBlock.getType() == Material.BARREL) {
            FishTrap trap = plugin.getFishTrapManager().getFishTrap(clickedBlock.getLocation());
            if (trap != null &amp;&amp; trap.checkTrap()) {
                player.sendMessage(ChatColor.GREEN + &quot;You caught a fish!&quot;);
            } else {
                player.sendMessage(ChatColor.RED + &quot;No fish were caught.&quot;);
            }
        }

        // Check if player is placing a fish trap with bait
        if (event.getAction() == Action.RIGHT_CLICK_BLOCK &amp;&amp; item.getType() == Material.BARREL) {
            Location location = clickedBlock.getLocation().add(event.getBlockFace().getDirection());
            FishTrap trap = new FishTrap(location);
            if (trap.addBait(1)) {
                plugin.getFishTrapManager().addFishTrap(trap);
                player.sendMessage(ChatColor.GREEN + &quot;You placed a fish trap!&quot;);
            } else {
                player.sendMessage(ChatColor.RED + &quot;Fish trap is already full!&quot;);
            }
        }
    }
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="quests-questgpt"><a class="header" href="#quests-questgpt">Quests (QuestGPT)</a></h1>
<p>An attempt at implementing fully dynamic and randomized quests and NPC dialogue via the implementation of a basic language learning model (LLM) such as ChatGPT using Azure OpenAI.</p>
<h2 id="overview-11"><a class="header" href="#overview-11">Overview</a></h2>
<p>A common kind of plugin for Minecraft servers is a quest plugin, which enables server administrators to design unique missions and tasks for players to complete. These plugins often offer a framework for making quests and keeping track of progress, and they could also have features like branching pathways, prizes, and custom dialogue.</p>
<p><a href="https://github.com/BetonQuest/BetonQuest">BetonQuest</a>, for example,  is one such quest plugin for Minecraft servers. It allows server owners to create custom quests and objectives using a simple scripting language. Quests can be triggered by a variety of events, such as talking to an NPC, completing another quest, or entering a specific area. BetonQuest also provides a system for tracking progress and rewarding players for completing quests.</p>
<p>The Quests system is not just a quest management and administration system but is rather a full implementation of how &quot;non-unique&quot; NPCs will and can react with the player. Other questing systems bog the user down with generating generic filler side quests usually through long winded configuration files or GUIs. Some plugins such as BetonQuest do include automatic quest generation but they rarely make sense from a logical point of view. </p>
<p>For example: a barkeep gets automatically given a quest that sends the player to collect wood. This makes no logical sense because why would a barkeep need the player to collect wood without any context or prior conversation? </p>
<p>This is where QuestGPT comes in. By utilizing a LLM we can assign contextual data to the NPCs on a per NPC basis following a few pre-made templates for trait -&gt; contextual data mappings. In turn this leads to the auto-generation and tasking of logical quests and quest-lines &quot;on the fly&quot; without the need of any admin input. </p>
<h2 id="contextual-data-and-machine-learning"><a class="header" href="#contextual-data-and-machine-learning">Contextual Data and Machine Learning</a></h2>
<p>By creating templates for the NPCs through the use of ChatGPT/Azure OpenAI, we can cherry pick personality traits that are favorable and build custom human-like personalities through the use of language models in-order to give the in-game NPCs more flavor. These templates can even be coded to work on a region basis with some sort of persistent data container to make sure that the NPC which was assigned that personality based on that region will retain that personality if they move to another region.</p>
<p>Through machine learning we can even create &quot;melting pots&quot; by deciding personality traits that can be transferable to other NPCs via non-player to non-player (NP2NP) interaction. Through this process, when relocating two different NPCs to a new area or when relocating one NPC to a different region, we can create a method for the concatenation of their personality types in-order to create a unique, third, personality type that can be passed on to other NPCs even in the form of genetic-learning algorithms. </p>
<p>The phrase &quot;contextual data&quot; generally is referring to an AI's ability to use its training to generate responses that mimic different personas, including the language and style associated with those personas. In particular, the phrase refers to our purpose of creating these templates for which the AI can learn from by using a combination of techniques such as natural language processing, machine learning, and deep learning algorithms. These algorithms analyze the input provided by us, the user, and generate a response appropriate for the context given to it. </p>
<p>For example, if we were to create a contextual data template of a pirate that lives in the eastern part of the map, we can feed the bot examples of how that particular pirate may or will act and the machine can use other data and patterns from text sources already in its training data that are associated with pirates and other key descriptors that have been provided for it in the template given to it by us. Therefore the machine will generate responses to the player/user that utilize these language patterns and therefore will maintain the persona provided. </p>
<p>Before generating a quest, the QuestGPT system needs to collect contextual data on the player and the NPC. This information will be used to generate a quest that is tailored to the player's current state in the game. This could include data such as the player's level, their inventory, their faction allegiances, and the NPC's relationship with the player. The system will also need to take into account any relevant events that have occurred in the game world, such as completed quests or defeated enemies.</p>
<pre><code class="language-java">// Collect player and NPC data
Player player = questGPT.getQuestPlayer();
NPC npc = questGPT.getQuestNPC();

// Collect player and NPC state data
int playerLevel = player.getLevel();
Inventory playerInventory = player.getInventory();
String npcRelationship = npc.getRelationshipWith(player);
</code></pre>
<h2 id="building-contextual-data-templates-for-ai"><a class="header" href="#building-contextual-data-templates-for-ai">Building Contextual Data Templates for AI</a></h2>
<p>In order to generate personalized dialogue for NPCs in a Minecraft quest plugin, we need to provide the AI with contextual data on each NPC. This data includes information such as the NPC's personality, interests, and motivations. By creating templates for the NPCs through the use of ChatGPT or other natural language processing APIs, we can cherry-pick personality traits that are favorable and build custom human-like personalities to give the in-game NPCs more flavor.</p>
<h3 id="creating-templates"><a class="header" href="#creating-templates">Creating Templates</a></h3>
<p>To create a template, start by brainstorming some personality traits that you would like your NPC to have. For example, if you want a pirate NPC to live in the eastern part of the map, you might want them to have traits like &quot;adventurous&quot;, &quot;outspoken&quot;, and &quot;loves to drink&quot;. Once you have a list of traits, you can use an API like ChatGPT or Azure OpenAI to generate sample dialogue that matches those traits.</p>
<pre><code class="language-java">String[] traits = {&quot;adventurous&quot;, &quot;outspoken&quot;, &quot;loves to drink&quot;};
String npcName = &quot;Captain Hook&quot;;

String template = &quot;&quot;;
for (String trait : traits) {
    // Use ChatGPT to generate sample dialogue for each trait
    String dialogue = chatGPT.generateDialogue(trait);
    template += trait + &quot;: &quot; + dialogue + &quot;\n&quot;;
}

// Save the template to a file
FileUtils.writeStringToFile(new File(&quot;npc_templates/&quot; + npcName + &quot;.txt&quot;), template);
</code></pre>
<h3 id="implementing-personas"><a class="header" href="#implementing-personas">Implementing Personas</a></h3>
<p>Once you have created a library of personality templates for your NPCs, you can implement them in your Minecraft quest plugin. When a player interacts with an NPC, the plugin can use the NPC's template to generate personalized dialogue based on the player's current state in the game.</p>
<pre><code class="language-java">// Load the NPC's personality template from a file
String npcName = &quot;Captain Hook&quot;;
String template = FileUtils.readFileToString(new File(&quot;npc_templates/&quot; + npcName + &quot;.txt&quot;));

// Generate personalized dialogue based on the player's state
Player player = questGPT.getQuestPlayer();
int playerLevel = player.getLevel();
String npcDialogue = &quot;&quot;;
if (playerLevel &lt; 10) {
    // Use the &quot;adventurous&quot; trait from the template
    npcDialogue = template.split(&quot;\n&quot;)[0].split(&quot;: &quot;)[1];
} else if (playerLevel &gt;= 10 &amp;&amp; playerLevel &lt; 20) {
    // Use the &quot;outspoken&quot; trait from the template
    npcDialogue = template.split(&quot;\n&quot;)[1].split(&quot;: &quot;)[1];
} else {
    // Use the &quot;loves to drink&quot; trait from the template
    npcDialogue = template.split(&quot;\n&quot;)[2].split(&quot;: &quot;)[1];
}

// Display the personalized dialogue to the player
questGPT.displayDialogue(npcName, npcDialogue);
</code></pre>
<h3 id="building-a-library-of-contextual-data-templates"><a class="header" href="#building-a-library-of-contextual-data-templates">Building a Library of Contextual Data Templates</a></h3>
<p>To build a library of contextual data templates for QuestGPT to use, you first need to decide on the personality traits you want to assign to NPCs in the game. These personality traits should be based on the theme and setting of the game (in this case AirshipCraft), and should be selected with the goal of creating diverse and interesting NPC characters.</p>
<p>Once we have a list of personality traits, we can create a template for each NPC in our universe. These templates should include the personality traits we have previously selected, as well as any other relevant information about the NPC, such as their location, occupation, and relationships with other NPCs.</p>
<pre><code class="language-java">public class ContextualDataTemplate {
    private String name;
    private String location;
    private List&lt;String&gt; personalityTraits;
    private String occupation;
    private String faction;

    public ContextualDataTemplate(String name, String location, List&lt;String&gt; personalityTraits, String occupation, String faction) {
        this.name = name;
        this.location = location;
        this.personalityTraits = personalityTraits;
        this.occupation = occupation;
        this.faction = faction;
    }

    public String getName() {
        return name;
    }

    public String getLocation() {
        return location;
    }

    public List&lt;String&gt; getPersonalityTraits() {
        return personalityTraits;
    }

    public String getOccupation() {
        return occupation;
    }

    public String getFaction() {
        return faction;
    }
}
</code></pre>
<p>In this example, the template includes the NPC's name, location, a list of personality traits, occupation, and faction. We can further customize this template based on the specific needs of the world we are building.</p>
<p>Once we have created a set of templates, we can store them in a data structure such as a HashMap or ArrayList, with the name or ID of each NPC as the key. This will allow us to quickly retrieve the template for a given NPC when generating quests.</p>
<p>Here's an example of how one might store a set of templates in a HashMap:</p>
<pre><code class="language-java">HashMap&lt;String, ContextualDataTemplate&gt; npcTemplates = new HashMap&lt;&gt;();

// Create a template for an NPC named &quot;Bob&quot; who is a blacksmith in the town of &quot;Smithsville&quot;
List&lt;String&gt; bobTraits = new ArrayList&lt;&gt;();
bobTraits.add(&quot;hardworking&quot;);
bobTraits.add(&quot;gruff&quot;);
ContextualDataTemplate bobTemplate = new ContextualDataTemplate(&quot;Bob&quot;, &quot;Smithsville&quot;, bobTraits, &quot;blacksmith&quot;, &quot;none&quot;);
npcTemplates.put(&quot;Bob&quot;, bobTemplate);

// Create a template for an NPC named &quot;Sarah&quot; who is a farmer in the town of &quot;Greenfields&quot;
List&lt;String&gt; sarahTraits = new ArrayList&lt;&gt;();
sarahTraits.add(&quot;friendly&quot;);
sarahTraits.add(&quot;optimistic&quot;);
ContextualDataTemplate sarahTemplate = new ContextualDataTemplate(&quot;Sarah&quot;, &quot;Greenfields&quot;, sarahTraits, &quot;farmer&quot;, &quot;none&quot;);
npcTemplates.put(&quot;Sarah&quot;, sarahTemplate);
</code></pre>
<p>With this library of templates in place, QuestGPT can use them to generate quests and dialogue that are tailored to each NPC's personality and context within the game world.</p>
<h2 id="plugin-hooks"><a class="header" href="#plugin-hooks">Plugin Hooks</a></h2>
<p>Obviously since this design document is making the assumption that QuestGPT will be more tailored to the AirshipCraft project in particular, we can design certain features to work in tandem or harmoniously with other mechanics planned.</p>
<h3 id="datum"><a class="header" href="#datum">Datum</a></h3>
<p>Hooking into <a href="mech//src/core/datum.html">Datum</a> would be useful because it can provide QuestGPT with a wealth of information about the player. For example, QuestGPT could generate a quest that requires the player to have a certain amount of playtime on the server before they are eligible to complete it. Datum can provide this information to QuestGPT, allowing the generated quest to be more tailored to the player's experience level.</p>
<h3 id="cults-1"><a class="header" href="#cults-1">Cults</a></h3>
<p>Hooking into the <a href="mech//src/mech/cults.html">cults</a> system would be useful because it allows QuestGPT to take into account a player's allegiances or &quot;faction&quot; ties. For example, QuestGPT could generate a quest that requires the player to perform a task for their chosen faction in order to earn reputation or rewards. Additionally, QuestGPT could perform skill checks by analyzing the <a href="mech//src/mech/cults/transmutations.html">transmutations</a> of the player, which could be used to determine whether or not the player will pass the skill check required by the generated quest.</p>
<h3 id="nodes-1"><a class="header" href="#nodes-1">Nodes</a></h3>
<p>Similarly to the Cults system, the <a href="mech//src/mech/nodes.html">Nodes</a> system could be used to perform a &quot;faction&quot; check or contribute towards a reputation change/check. Nodes could provide QuestGPT with information about a player's standing with different towns or nations, allowing the generated quests to be more tailored to the player's current reputation or relationship standing.</p>
<h3 id="economy-1"><a class="header" href="#economy-1">Economy</a></h3>
<p>Finally, hooking into the <a href="mech//src/mech/economy.html">economy</a> is important for QuestGPT in order to ensure that the rewards offered by generated quests don't break the server's economy. The economy system can provide QuestGPT with information about the current state of the server's economy, allowing it to generate quests with appropriate rewards that won't disrupt the economy. Additionally, QuestGPT can use a bridge between the quest and economy system to track the rewards that have been distributed, which can be used to catch any gaming or abuse of the system.</p>
<h2 id="quest-generation"><a class="header" href="#quest-generation">Quest Generation</a></h2>
<p>One of the main aspects of QuestGPT is the AI driven quest generation. This feature cuts down the manual workload of writing and configuring filler side quests by building an algorithm that creates natural quest registration and administration. </p>
<h3 id="building-a-dictionary"><a class="header" href="#building-a-dictionary">Building a Dictionary</a></h3>
<p>The first steps of any machine learning project is usually to train the machine. In-order to properly train QuestGPT we must first build a dictionary for it to use such as things like <code>QUEST TYPES</code>, <code>PARAMETERS</code>, <code>REWARDS</code>, and <code>OBJECTIVES</code>. We can organize these terms in something such as a JSON object for the system to be able to fill out these given fields by simply following a template we provide to it.</p>
<p>Building a dictionary or list of terms and parameters that QuestGPT can use will be an important step in training the machine learning model. Organizing these terms in a JSON object or other structured data format can make it easier for the system to understand and fill out these fields according to the templates provided. This will help to ensure that the generated quests have a consistent structure and follow the rules and requirements set by the server administrators.</p>
<p>Here is an example of what this template could look like:</p>
<pre><code class="language-JSON">{
  &quot;questTypes&quot;: {
    &quot;gather&quot;: {
      &quot;parameters&quot;: [
        {
          &quot;name&quot;: &quot;item&quot;,
          &quot;type&quot;: &quot;string&quot;,
          &quot;description&quot;: &quot;The item that needs to be gathered&quot;
        },
        {
          &quot;name&quot;: &quot;amount&quot;,
          &quot;type&quot;: &quot;integer&quot;,
          &quot;description&quot;: &quot;The number of items required&quot;
        }
      ],
      &quot;rewards&quot;: [
        {
          &quot;name&quot;: &quot;money&quot;,
          &quot;type&quot;: &quot;integer&quot;,
          &quot;description&quot;: &quot;The amount of money rewarded upon completion&quot;
        },
        {
          &quot;name&quot;: &quot;experience&quot;,
          &quot;type&quot;: &quot;integer&quot;,
          &quot;description&quot;: &quot;The amount of experience rewarded upon completion&quot;
        }
      ],
      &quot;objectives&quot;: [
        {
          &quot;name&quot;: &quot;gather&quot;,
          &quot;type&quot;: &quot;item&quot;,
          &quot;description&quot;: &quot;Collect {amount} {item}s&quot;
        }
      ]
    },
    &quot;kill&quot;: {
      &quot;parameters&quot;: [
        {
          &quot;name&quot;: &quot;mob&quot;,
          &quot;type&quot;: &quot;string&quot;,
          &quot;description&quot;: &quot;The type of mob to kill&quot;
        },
        {
          &quot;name&quot;: &quot;amount&quot;,
          &quot;type&quot;: &quot;integer&quot;,
          &quot;description&quot;: &quot;The number of mobs required&quot;
        }
      ],
      &quot;rewards&quot;: [
        {
          &quot;name&quot;: &quot;money&quot;,
          &quot;type&quot;: &quot;integer&quot;,
          &quot;description&quot;: &quot;The amount of money rewarded upon completion&quot;
        },
        {
          &quot;name&quot;: &quot;experience&quot;,
          &quot;type&quot;: &quot;integer&quot;,
          &quot;description&quot;: &quot;The amount of experience rewarded upon completion&quot;
        }
      ],
      &quot;objectives&quot;: [
        {
          &quot;name&quot;: &quot;kill&quot;,
          &quot;type&quot;: &quot;mob&quot;,
          &quot;description&quot;: &quot;Kill {amount} {mob}s&quot;
        }
      ]
    }
  }
}
</code></pre>
<p>In this very basic example, we define two quest types: &quot;gather&quot; and &quot;kill&quot;. Each quest type has a list of parameters, rewards, and objectives that define what the quest requires the player to do, what rewards they will receive upon completion, and what the objectives are.</p>
<p>Building a dictionary can be a great way to help QuestGPT understand the structure and requirements of different types of quests. Once we have this dictionary, we can use it to train a machine learning model such as Tensor or other similar APIs. These models can use the dictionary as a reference to generate quests with similar structures and parameters as those defined in the dictionary.</p>
<p>To do this, we can feed the dictionary into the model during the training process, allowing the model to learn the structure and rules associated with each quest type. As the model learns, it can generate new quests based on the dictionary, ensuring that they follow the same rules and requirements set by the server administrators.</p>
<pre><code class="language-java">import java.util.List;
import java.util.Map;

public class QuestDictionary {
    
    // define the quest types as a map of strings to maps
    private Map&lt;String, Map&lt;String, List&lt;Map&lt;String, String&gt;&gt;&gt;&gt; questTypes;

    // constructor that initializes the quest types
    public QuestDictionary() {
        questTypes = new HashMap&lt;&gt;();
    }
    
    // method to add a new quest type to the dictionary
    public void addQuestType(String type, Map&lt;String, List&lt;Map&lt;String, String&gt;&gt;&gt; parameters) {
        questTypes.put(type, parameters);
    }
    
    // method to get the quest types
    public Map&lt;String, Map&lt;String, List&lt;Map&lt;String, String&gt;&gt;&gt;&gt; getQuestTypes() {
        return questTypes;
    }
    
    // method to get a specific quest type by name
    public Map&lt;String, List&lt;Map&lt;String, String&gt;&gt;&gt; getQuestType(String type) {
        return questTypes.get(type);
    }
    
    // method to add a new parameter to a quest type
    public void addParameter(String type, String paramName, String paramType, String paramDesc) {
        List&lt;Map&lt;String, String&gt;&gt; params = questTypes.get(type).get(&quot;parameters&quot;);
        Map&lt;String, String&gt; param = new HashMap&lt;&gt;();
        param.put(&quot;name&quot;, paramName);
        param.put(&quot;type&quot;, paramType);
        param.put(&quot;description&quot;, paramDesc);
        params.add(param);
    }
    
    // method to add a new reward to a quest type
    public void addReward(String type, String rewardName, String rewardType, String rewardDesc) {
        List&lt;Map&lt;String, String&gt;&gt; rewards = questTypes.get(type).get(&quot;rewards&quot;);
        Map&lt;String, String&gt; reward = new HashMap&lt;&gt;();
        reward.put(&quot;name&quot;, rewardName);
        reward.put(&quot;type&quot;, rewardType);
        reward.put(&quot;description&quot;, rewardDesc);
        rewards.add(reward);
    }
    
    // method to add a new objective to a quest type
    public void addObjective(String type, String objectiveName, String objectiveType, String objectiveDesc) {
        List&lt;Map&lt;String, String&gt;&gt; objectives = questTypes.get(type).get(&quot;objectives&quot;);
        Map&lt;String, String&gt; objective = new HashMap&lt;&gt;();
        objective.put(&quot;name&quot;, objectiveName);
        objective.put(&quot;type&quot;, objectiveType);
        objective.put(&quot;description&quot;, objectiveDesc);
        objectives.add(objective);
    }
}
</code></pre>
<p>This is a basic Java class that can be used to build and store the dictionary. It defines methods for adding new quest types, parameters, rewards, and objectives to the dictionary, as well as methods for getting the quest types and individual quest type information. Once the dictionary is built and stored, it can be fed into the machine learning model during the training process to help the model learn the structure and requirements of different types of quests.</p>
<h3 id="quest-types"><a class="header" href="#quest-types">Quest Types</a></h3>
<p>In the above example we defined different quest types, here is a list of possible quest types with a short description attached.</p>
<ol>
<li><code>Fetch</code>: Player must retrieve an item or set of items and deliver them to an NPC.
<ol>
<li><code>Treasure hunt</code>: The player must find and collect a certain number of valuable items hidden throughout the world.</li>
</ol>
</li>
<li><code>Escort</code>: Player must protect an NPC or group of NPCs as they travel through dangerous territory.
<ol>
<li><code>Transport</code>: The player is tasked with transporting an item or NPC from one location to another.</li>
</ol>
</li>
<li><code>Puzzle</code>: Player must solve puzzles or riddles to progress and complete the quest.</li>
<li><code>Combat</code>: Player must defeat a set number of monsters or a specific boss.</li>
<li><code>Exploration</code>: Player must travel to a specific location or set of locations and find certain items or landmarks.</li>
<li><code>Crafting</code>: Player must gather materials and craft a specific item or set of items.</li>
<li><code>Delivery</code>: Player must deliver an item or set of items to a specific location.</li>
<li><code>Stealth</code>: Player must complete objectives without being detected by guards or other NPCs.
<ol>
<li><code>Infiltration</code>: The player must infiltrate a hostile location or organization and retrieve information or an item.</li>
<li><code>Heist</code>: The player must plan and execute a heist on a specific location or organization to obtain a valuable item or information.</li>
</ol>
</li>
<li><code>Investigation</code>: Player must gather information and clues to solve a mystery or crime.
<ol>
<li><code>Research</code>: The player must investigate and collect information on a specific topic or location.</li>
</ol>
</li>
<li><code>Race</code>: Player must compete against NPCs or other players in a race to reach a certain location or complete a specific objective.
<ol>
<li><code>Time trial</code>: The player must complete a specific challenge or task within a certain amount of time.</li>
</ol>
</li>
<li><code>Hunting</code>: The player must hunt down and eliminate a certain number of specific mobs or creatures.
<ol>
<li><code>Assassination</code>: The player is tasked with eliminating a specific NPC or a group of NPCs.</li>
</ol>
</li>
<li><code>Survival</code>: The player must survive in a certain location or situation for a certain amount of time or against specific challenges. Perhaps without taking damage at all.</li>
<li><code>Rescue</code>: The player must rescue an NPC or group of NPCs from a dangerous situation or location.</li>
<li><code>Negotiation</code>: The player must negotiate with an NPC or group of NPCs to reach a certain agreement or obtain certain information.</li>
<li><code>Cleaning</code>: The player must clean up and remove specific blocks or items from a certain area.
<ol>
<li><code>Building</code>: The player must either construct or interact with a certain structure. </li>
</ol>
</li>
</ol>
<p>By introducing a multitude of different quest types, we can deliver a dynamic and engaging quest management system to the end-user. We can then combine these types with certain parameters to further customize the experience.</p>
<h3 id="parameters"><a class="header" href="#parameters">Parameters</a></h3>
<p>By defining parameters for each quest type such as the required level, time limits, location restrictions, and difficulty levels, we can help to ensure that the generated quests are appropriate for the player's level and skill set. Not only that, but we can also generate the same type of quest that will feel different or pose slightly different challenges for the player upon retrieval. Here is a list of possible parameters that can be applied to a quest based on quest type:</p>
<ul>
<li><strong>Location</strong>: 
<ul>
<li>The location where the quest can be completed or where the objective can be found. Certain quests can be region locked to certain areas or perhaps locked to people who have visited an area before. </li>
</ul>
</li>
<li><strong>Item</strong>: 
<ul>
<li>The item(s) that the player needs to collect, use, or deliver.</li>
</ul>
</li>
<li><strong>NPC</strong>: 
<ul>
<li>The NPC(s) that the player needs to talk to, escort, or defend.</li>
</ul>
</li>
<li><strong>Time</strong>: 
<ul>
<li>The time limit for completing the quest or the specific time the quest can be activated or completed. Perhaps even the time of day either in-game or IRL or a certain real life date that the quest can only be completed on such as &quot;event&quot; style quests.</li>
</ul>
</li>
<li><strong>Difficulty</strong>: 
<ul>
<li>The difficulty level of the quest, which affects the rewards and the challenge.</li>
</ul>
</li>
<li><strong>Skill</strong>: 
<ul>
<li>The skill(s) that the player needs to use to complete the quest or the skill(s) that the quest rewards. (See also: <a href="mech/cults/transmutations.html">Skills</a> and <a href="mech/combat/artifacts.html">Artifacts</a>)</li>
</ul>
</li>
<li><strong>Reputation</strong>: 
<ul>
<li>The reputation change that the player either receives for completing the quest or is required to have prior to being assigned/accepting this quest.</li>
</ul>
</li>
<li><strong>Faction</strong>: 
<ul>
<li>The faction(s) that the player needs to belong to or work for to complete the quest or the faction(s) affected by completing the quest. This includes town, nation, and cult alignments. </li>
</ul>
</li>
<li><strong>Relationship</strong>: 
<ul>
<li>The relationship(s) that the player needs to have with certain NPCs or factions to complete the quest or the relationship(s) affected by completing the quest.</li>
</ul>
</li>
</ul>
<p>Again, these are just basic examples of how we can define quest parameters.</p>
<h4 id="quest-objectives-and-parameters"><a class="header" href="#quest-objectives-and-parameters"><strong>Quest Objectives and Parameters</strong></a></h4>
<p>Using the contextual data collected, the QuestGPT system will generate a list of possible quest objectives and parameters. For example, if the player is low on health, the system might generate a quest that involves finding a healing potion. If the player has recently completed a quest for a particular NPC, the system might generate a quest that involves helping that NPC with a related task. The system will use a variety of algorithms to generate these objectives and parameters, including randomization and machine learning techniques.</p>
<pre><code class="language-java">// Generate quest objectives and parameters
List&lt;Objective&gt; objectives = questGenerator.generateObjectives(playerLevel, playerInventory, npcRelationship);
List&lt;Parameter&gt; parameters = questGenerator.generateParameters(objectives);
</code></pre>
<h4 id="quest-type-selection"><a class="header" href="#quest-type-selection"><strong>Quest Type Selection</strong></a></h4>
<p>Once the objectives and parameters have been generated, the QuestGPT system will choose an appropriate quest type based on the player's level and skill set. For example, if the player is a low-level character with limited combat abilities, the system might generate a quest that involves gathering resources rather than fighting enemies. The system will use a variety of criteria to choose the appropriate quest type, including the player's level, skill set, and preferences.</p>
<pre><code class="language-java">// Choose an appropriate quest type
QuestType questType = questGenerator.chooseQuestType(playerLevel, objectives);
</code></pre>
<h4 id="personalized-dialogue-generation"><a class="header" href="#personalized-dialogue-generation"><strong>Personalized Dialogue Generation</strong></a></h4>
<p>By using natural language generation techniques, the QuestGPT system will generate personalized dialogue for the quest. This dialogue will be tailored to the player's current state in the game and will provide the player with the necessary information to complete the quest. The system will use a variety of algorithms to generate this dialogue, including machine learning and template-based approaches.</p>
<pre><code class="language-java">// Generate personalized dialogue for the quest
String questDialogue = questGenerator.generateDialogue(player, npc, objectives, parameters, questType);
</code></pre>
<p>One possible approach for generating personalized dialogue would be to use a natural language generation (NLG) model such as GPT-3.5. Given the contextual data collected on the NPC and the player's current state, we could use the NLG model to generate dialogue that is tailored to the specific situation.</p>
<p>Here's an example of how this might work:</p>
<pre><code class="language-java">import ai.openai.gpt.GPT;

// Initialize the NLG model
GPT nlgModel = new GPT();

// Collect contextual data on the NPC and the player's current state
String npcName = &quot;John&quot;;
int playerLevel = 5;
String playerClass = &quot;Warrior&quot;;

// Generate personalized dialogue for the quest using the NLG model
String questDialogue = nlgModel.generate(&quot;Hello &quot; + npcName + &quot;, I see you're a level &quot; + playerLevel + &quot; &quot; + playerClass + &quot;. I have a quest for you that I think would be a good fit for your skills. Are you interested?&quot;);

// Assign the quest to the player and provide them with the necessary information to complete it
Quest newQuest = new Quest(questDialogue);
newQuest.assignToPlayer(player);

// Track the player's progress and reward them upon completion of the quest
if (newQuest.isCompleted()) {
   player.giveReward(newQuest.getReward());
}
</code></pre>
<p>Of course, this is just a simplified example and there are many factors to consider when implementing personalized dialogue generation. It's also worth noting that there are many different NLG models and APIs available.</p>
<h4 id="quest-assignment-and-tracking"><a class="header" href="#quest-assignment-and-tracking"><strong>Quest Assignment and Tracking</strong></a></h4>
<p>Finally, the QuestGPT system will assign the quest to the player and provide them with the necessary information to complete it. The system will also track the player's progress and reward them upon completion of the quest. The system will use a variety of algorithms to track the player's progress, including event-based triggers and machine learning techniques.</p>
<pre><code class="language-java">// Assign the quest to the player and track progress
Quest quest = questGenerator.generateQuest(player, npc, objectives, parameters, questType, questDialogue);
quest.assignToPlayer(player);
quest.trackProgress();
</code></pre>
<h3 id="rewards"><a class="header" href="#rewards">Rewards</a></h3>
<p>Rewards and reward types are pretty self explanatory. We can reward anything to the player upon completion of the quest ranging from money, to experience points, to other kinds of helpful boosts to whatever progression systems we have working at the time. We can even reward physical (in-game) items such as vehicles, tools, weapons, armor, etc. The problem faced now is a tiering system in-order to make sure the quest system properly scales the reward offered to the difficulty of the quest. </p>
<h4 id="tiering-system-for-quest-rewards"><a class="header" href="#tiering-system-for-quest-rewards"><strong>Tiering System for Quest Rewards</strong></a></h4>
<p>To make sure that the quest system properly scales the reward offered to the difficulty of the quest, we can implement a tiering system. The tiering system will define the different levels of difficulty for quests, and the corresponding rewards that players will receive upon completion.</p>
<p>We can start by defining the tiers and the rewards for each tier. For example, we can have a system with three tiers: Easy, Medium, and Hard. Each tier will have a range of rewards that players can receive upon completion of a quest.</p>
<p>To implement this system, we can define a reward class with different reward types. For example, we can have a class called &quot;QuestReward&quot; with the following reward types:</p>
<ul>
<li>Experience Points (XP)</li>
<li>Money</li>
<li>Item(s)</li>
</ul>
<p>Each reward type will have a value associated with it. For example, the XP reward type can have a value of 100, the Money reward type can have a value of 50, and the Item reward type can have a value of a specific item ID and quantity.</p>
<p>Once we have defined the reward class and types, we can then create a tier class with the following properties:</p>
<ul>
<li>Name: the name of the tier (e.g., Easy, Medium, Hard)</li>
<li>Difficulty: the difficulty level of the tier (e.g., low, medium, high)</li>
<li>Quests: a list of quests that belong to this tier</li>
<li>Rewards: the range of rewards that players can receive upon completion of a quest in this tier, defined as a list of QuestReward objects.</li>
</ul>
<p>We can then create a list of tier objects, with each object representing a tier in the system. We can also create a list of quest objects, with each object representing a quest in the system. Each quest object will be associated with a specific tier, and will have its own set of rewards defined.</p>
<p>To determine the reward for a specific quest, we can calculate the average reward of the tier to which the quest belongs, and then adjust the reward based on the difficulty of the quest. For example, a quest in the Easy tier might have a reward that is 50% of the average reward for the tier, while a quest in the Hard tier might have a reward that is 150% of the average reward for the tier.</p>
<p>Here is an example of what that &quot;QuestReward&quot; class might look like:</p>
<pre><code class="language-java">public class QuestReward {
    private int xp;
    private int money;
    private Map&lt;Integer, Integer&gt; items; // map item ID to quantity
    
    // constructor and getters/setters
}

public class Tier {
    private String name;
    private String difficulty;
    private List&lt;Quest&gt; quests;
    private List&lt;QuestReward&gt; rewards;
    
    // constructor and getters/setters
}

public class Quest {
    private String name;
    private Tier tier;
    private List&lt;QuestReward&gt; rewards;
    
    // constructor and getters/setters
}

public class QuestManager {
    private List&lt;Tier&gt; tiers;
    private List&lt;Quest&gt; quests;
    
    // methods to manage tiers and quests
    
    public QuestReward calculateReward(Quest quest) {
        // get the tier for the quest
        Tier tier = quest.getTier();
        
        // calculate the average reward for the tier
        QuestReward averageReward = calculateAverageReward(tier);
        
        // adjust the reward based on the difficulty of the quest
        double difficultyMultiplier = getDifficultyMultiplier(quest.getDifficulty());
        QuestReward adjustedReward = adjustReward(averageReward, difficultyMultiplier);
        
        return adjustedReward;
    }
    
    private QuestReward calculateAverageReward(Tier tier) {
        // calculate the average reward for the tier based on the rewards of its quests

</code></pre>
<h4 id="reputation-and-faction-rewards"><a class="header" href="#reputation-and-faction-rewards"><strong>Reputation and Faction Rewards</strong></a></h4>
<p>In addition to the traditional rewards such as money, experience points, and items, we can also utilize reputation and faction rewards as a way to incentivize players to complete certain quests or tasks. Reputation rewards are based on the player's standing with certain factions or groups within the game world. By completing quests for a specific faction, the player can increase their reputation with that faction, which in turn can unlock new quests or unique rewards that are only available to players with high reputation levels.</p>
<p>Faction rewards, on the other hand, are tied to the overall success of a faction or group within the game world. As the player completes quests or contributes to the faction's success in other ways, they may earn rewards that are only available to members of that faction. This can range from exclusive items or equipment to unique abilities or bonuses that are only accessible to those who are members of the faction.</p>
<p>Implementing reputation and faction rewards requires careful consideration of the game's mechanics and balancing. We must ensure that the rewards are appropriately scaled to the level of difficulty and investment required to complete the associated quests or tasks. Additionally, we must consider the impact that reputation and faction rewards may have on the game's overall balance and progression systems, as well as the potential for unintended consequences such as players &quot;farming&quot; reputation or faction points by completing the same quests repeatedly.</p>
<h4 id="quest-chaining-and-cumulative-rewards"><a class="header" href="#quest-chaining-and-cumulative-rewards"><strong>Quest Chaining and Cumulative Rewards</strong></a></h4>
<p>Quest chaining is the practice of linking multiple quests together in a series, so that the completion of one quest leads directly into the start of the next one. This creates a sense of continuity and immersion for the player, as they feel like they are progressing through a larger story or quest line.</p>
<p>In addition to creating a cohesive narrative experience, quest chaining also allows for the implementation of cumulative rewards. Cumulative rewards are rewards that are given to the player as they complete multiple quests in a series. These rewards can be either incremental or cumulative, meaning that they can either increase in value as the player progresses, or be a one-time bonus for completing a certain number of quests.</p>
<pre><code class="language-java">public class QuestChain {

  private ArrayList&lt;Quest&gt; quests;
  private int currentQuestIndex;

  public QuestChain() {
    quests = new ArrayList&lt;&gt;();
    currentQuestIndex = 0;
  }

  public void addQuest(Quest quest) {
    quests.add(quest);
  }

  public void completeQuest() {
    Quest currentQuest = quests.get(currentQuestIndex);
    currentQuestIndex++;
    if (currentQuestIndex &gt;= quests.size()) {
      giveCumulativeRewards();
    } else {
      startNextQuest();
    }
  }

  private void startNextQuest() {
    Quest nextQuest = quests.get(currentQuestIndex);
    // Start the next quest
  }

  private void giveCumulativeRewards() {
    // Give the player their cumulative rewards
  }

}
</code></pre>
<p>In this example, the <code>QuestChain</code> class represents a series of quests that are linked together. The <code>addQuest()</code> method allows for quests to be added to the chain, and the <code>completeQuest()</code> method is called when the player completes a quest.</p>
<p>When a quest is completed, the <code>'currentQuestIndex'</code> is incremented, and the <code>startNextQuest()</code> method is called to begin the next quest in the chain. If there are no more quests in the chain, the <code>giveCumulativeRewards()</code> method is called to give the player their cumulative rewards.</p>
<p>Overall, quest chaining and cumulative rewards are great features to implement in a quest system, as they provide a sense of progression and immersion for the player.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="regions"><a class="header" href="#regions">Regions</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="city-states"><a class="header" href="#city-states">City States</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="map-overview"><a class="header" href="#map-overview">Map Overview</a></h1>
<div style="break-before: page; page-break-before: always;"></div><blockquote>
<p>⚠️ <strong>Warning:</strong> This page is still under construction!</p>
</blockquote>
<h1 id="accommonlib"><a class="header" href="#accommonlib">ACCommonLib</a></h1>
<p>Shared common library framework for future plugins that are relevant to the project.</p>
<h2 id="overview-12"><a class="header" href="#overview-12">Overview</a></h2>
<p>The purpose of this library is to attempt to eliminate as much unnecessary boilerplate code as possible. This includes things like implementing debugging features, a standardized command manager, and commented-configuration files.</p>
<p>It also provides the basis for an NPC API as well as a library for particle-related code, including but not limited to vector and character tracking. </p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="playerstats"><a class="header" href="#playerstats">PlayerStats</a></h1>
<p><code>PlayerStats</code> is one of the core components of the server. It is meant to function as more of a utility rather than a standalone plugin but offers some standalone functionality.</p>
<h2 id="overview-13"><a class="header" href="#overview-13">Overview</a></h2>
<p>The purpose of this plugin is essentially act as a handler that stores statistics of players for use with other components via API.</p>
<p>On its own without any integration with the other mechanics or plugins in place, <code>PlayerStats</code> is capable of storing and returning the following information:</p>
<ol>
<li>Playtime - Measure of a player's total playtime on the server</li>
<li>UUID - Stores Mojang UUID</li>
<li>IP - Purely for security reasons to prevent gaming of certain mechanics via the abuse of alternate accounts.</li>
<li>Kill/Death Ratio </li>
</ol>
<p>With the planned integration with the other mechanics, the database will expand to store the following information as well:</p>
<ol>
<li>Account balances - From the <a href="core/../mech/economy.html">Economy</a></li>
<li>Reputation - Collected through various methods; transactionally through <code>PlayerCards</code> as well as through <a href="core/../mech/cults.html">Cults</a> when recording player-god relationship status.</li>
</ol>
<h2 id="structure"><a class="header" href="#structure">Structure</a></h2>
<p>This section will outline the structure of the plugin from a programming standpoint. Here is a diagram to help those who are more visual learners:</p>
<p><img src="core/images/../../images/player-stats-structure.png" alt="PlayerStats Structure" /></p>
<p>A more updated graphic by <strong>don</strong> who is in-charge of working on the system:</p>
<p><img src="core/images/../../images/don_data_map.png" alt="Don's Updated Structure" /></p>
<h3 id="data-handling-old"><a class="header" href="#data-handling-old">Data Handling (OLD)</a></h3>
<blockquote>
<p>⚠️ <strong>Warning:</strong> This section is considered old as we are now using a fork of <strong>don</strong>'s <a href="https://github.com/donpsabance/Kaizen">Kaizen</a>.</p>
</blockquote>
<p>The main component of the plugin is the Data Access Layer (DAL), defined by the <code>data</code> package of the plugin. The DAL utilizes two main Data Access Objects (DAO). The first of these DAOs is the <code>UserDatabase</code> class, which handles the SQL connection via HikariCP as shown in the code below:</p>
<pre><code class="language-java">public class UserDatabase {

    private final String HOST = &quot;localhost&quot;;
    private final int PORT = 3306;
    private final String DB = &quot;playerstats&quot;;
    private final String USER = &quot;root&quot;;
    private final String PASS = plugin.getDbPass().getString(&quot;db-pass&quot;); // Getter for password from a config.yml in-order to                                                                      maintain proper OPSEC

    private HikariDataSource hikari;

    public void connect() throws SQLException {
        hikari = new HikariDataSource();
        hikari.setDataSourceClassName(&quot;com.mysql.jdbc.jdbc2.optional.MysqlDataSource&quot;);
        hikari.addDataSourceProperty(&quot;serverName&quot;, HOST);
        hikari.addDataSourceProperty(&quot;port&quot;, PORT);
        hikari.addDataSourceProperty(&quot;databaseName&quot;, DB);
        hikari.addDataSourceProperty(&quot;user&quot;, USER);
        hikari.addDataSourceProperty(&quot;password&quot;, PASS);
    }

    public boolean isConnected() { return hikari != null; }

    public HikariDataSource getHikari() { return hikari; }

    public void disconnect() {
        if (isConnected()) {
            hikari.close();
        }
    }
}
</code></pre>
<p>The second DAO creates a JSON file per user in order to store data in a flatfile primarily for redundancy purposes, in the event that an SQL connection is no longer available or compromised. The use case for this sort of data storage is very limited as it requires components to directly receive data by accessing the <code>PlayerStats</code> API rather than accessing the SQL database directly. </p>
<h3 id="data-handling-kaizen"><a class="header" href="#data-handling-kaizen">Data Handling (Kaizen)</a></h3>
<p>The new method of data handling utilizes <strong>don</strong>'s API known as <a href="https://github.com/donpsabance/Kaizen">Kaizen</a>.</p>
<h4 id="usage-1"><a class="header" href="#usage-1">Usage</a></h4>
<p>Running a task in a thread (will obtain a thread from pool specified in <code>config.yml</code>)</p>
<pre><code class="language-java">Kaizen.getThreadPool().getThreadPoolExecutor().submit(new Runnable() {
    @Override
    public void run() {

    }
});
</code></pre>
<p>Run a query to get (name, age) from <code>exampleTable</code> where <code>age</code> is greater than <code>18</code> in a separate thread (can also use counterpart <code>executePreparedStatement</code> to run in current thread - if needed)</p>
<p>Returns: </p>
<pre><code class="language-java">List&lt;HashMap&lt;String, Object&gt;&gt;
</code></pre>
<pre><code class="language-java">Kaizen.getDatabase().executePreparedStatementAsync(
    &quot;SELECT name, age FROM exampleTable WHERE name = ? AND age &gt; ?;&quot;, 
    Arrays.asList(&quot;John Doe&quot;, &quot;18&quot;));
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="housekeeping-rules"><a class="header" href="#housekeeping-rules">Housekeeping Rules</a></h1>
<p>This page goes over some basic housekeeping rules in-order to maintain efficiency and organization within the project as well as instating some general guidelines about maintaining, contributing to, and using the project.</p>
<h2 id="merge-conflicts-and-prevention"><a class="header" href="#merge-conflicts-and-prevention">Merge Conflicts and Prevention</a></h2>
<blockquote>
<p>Version control systems, like git, auto-magically manage code contributions. It identifies the change, when it occurred, who made it, and on what line so that developers can easily track the history of their codebase. However, git sometimes gets confused in the following situations:</p>
<ul>
<li>When more than one person changes the same line in a file and tries to merge the change to the same branch.</li>
<li>When a developer deletes a file, but another developer edits it, and they both try to merge their changes to the same branch.</li>
<li>When a developer deletes a line, but another developer edits it, and they both try to merge their changes to the same branch.</li>
<li>When a developer is cherry-picking a commit, which is the act of picking a commit from a branch and applying it to another.</li>
<li>When a developer is rebasing a branch, which is the process of moving a sequence of commits to a base commit.</li>
</ul>
<p><em>Taken from a <a href="https://dev.to/github/how-to-prevent-merge-conflicts-or-at-least-have-less-of-them-109p">Dev.to</a>.</em></p>
</blockquote>
<p>This can be extremely frustrating especially on a project such as this when there will be times where more than one person may be working on a specific piece of code. </p>
<p>Luckily we can take several steps to prevent this from happening: </p>
<h3 id="standardization-of-formatting"><a class="header" href="#standardization-of-formatting">Standardization of Formatting</a></h3>
<p>When developing in Java, many developers have different styles of coding. In-order to standardize here are some guidelines that you should try and follow to keep code uniform and to prevent preventable merge conflicts on PRs: </p>
<h4 id="whitespaces"><a class="header" href="#whitespaces"><strong>Whitespaces</strong></a></h4>
<p>This is a big one. Make sure there is a white space between each new method such as:</p>
<pre><code class="language-java">public class Example {
    // whitespace
    public Example() {
        //some code...
    }
    // whitespace
    public void anotherExample() {
        //some code...
    }
}
</code></pre>
<p>Add white spaces to make code more readable such as this example from <a href="https://github.com/TechnoVisionDev/JDA-Tutorial">TechnoVisionDev/JDA-Tutorial</a>:</p>
<p><em>Instead of doing this:</em></p>
<pre><code class="language-java">public class TutorialBot {
    
    public TutorialBot() throws LoginException {

        // Build shard manager
        DefaultShardManagerBuilder builder = DefaultShardManagerBuilder.createDefault(token);
        builder.setStatus(OnlineStatus.ONLINE);
        builder.setActivity(Activity.watching(&quot;TechnoVisionTV&quot;));
        builder.enableIntents(GatewayIntent.GUILD_MESSAGES, GatewayIntent.GUILD_MEMBERS, GatewayIntent.GUILD_PRESENCES);
        builder.setMemberCachePolicy(MemberCachePolicy.ALL);
        builder.setChunkingFilter(ChunkingFilter.ALL);
        builder.enableCache(CacheFlag.ONLINE_STATUS);
        shardManager = builder.build();

        // Register listeners
        shardManager.addEventListener(new EventListener(), new CommandManager());
    }
    ...
}
</code></pre>
<p><em>Do this:</em></p>
<pre><code class="language-java">public class TutorialBot {
    
    public TutorialBot() throws LoginException {

        // Build shard manager
        DefaultShardManagerBuilder builder = DefaultShardManagerBuilder.createDefault(token);
        builder.setStatus(OnlineStatus.ONLINE);
        builder.setActivity(Activity.watching(&quot;TechnoVisionTV&quot;));
        builder.enableIntents( // add whitespaces here to make it more readable
            GatewayIntent.GUILD_MESSAGES, 
            GatewayIntent.GUILD_MEMBERS, 
            GatewayIntent.GUILD_PRESENCES
            );
            ...
        shardManager = builder.build();

        // Register listeners
        shardManager.addEventListener( // add them here too
            new EventListener(), 
            new CommandManager()
            // this also makes it easier if you were to add more things to the list later on
            ); 
    }
    ...
}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="optimization"><a class="header" href="#optimization">Optimization</a></h1>
<p>This section discusses various methods of keeping code optimized. This project introduces some very resource intensive mechanics and in-order to improve server performance wherever possible we must first begin with the code itself in-order to minimize performance impact and reduce memory usage and consumption.</p>
<h2 id="avoid-writing-long-methods"><a class="header" href="#avoid-writing-long-methods">Avoid Writing Long Methods</a></h2>
<p>The methods should not be too long and should be specific to perform single functionality. It is better for maintenance as well as performance since while class loading and during method call, the method is loaded in stack memory. If methods are large with too much processing they will consume memory as well as CPU cycles to execute.</p>
<p>Try to break the methods into smaller ones at suitable logical points. Also, if you want to strengthen your skills in Java then enroll with Geeksforgeeks Java Programming Foundation – Self-Paced course and learn the basic concepts, data types, operators, functions &amp; more.</p>
<h2 id="use-efficient-data-structures-and-algorithms"><a class="header" href="#use-efficient-data-structures-and-algorithms">Use Efficient Data Structures and Algorithms</a></h2>
<p>Choose the most appropriate data structures and algorithms for your specific use case. For example, use <code>HashMap</code> instead of a <code>List</code> if you need fast lookups, or use a priority queue instead of sorting an array if you only need the smallest or largest items.</p>
<h2 id="minimize-object-creation"><a class="header" href="#minimize-object-creation">Minimize Object Creation</a></h2>
<p>Creating and destroying objects in Java can be expensive. Use object pooling to reuse objects instead of creating new ones, and use immutable objects to avoid unnecessary object creation.</p>
<h2 id="use-the-stringbuilder-class-for-string-concatenation"><a class="header" href="#use-the-stringbuilder-class-for-string-concatenation">Use the StringBuilder Class for String Concatenation</a></h2>
<p>When concatenating strings in a loop or other performance-critical code, use the StringBuilder class instead of the + operator, which creates new strings and can be slow.</p>
<p>A string is an immutable class the object created by String cannot be reused. So if we need to create a large string in case of SQL queries etc it is bad practice to concatenate the String object using the ‘+’ operator.</p>
<p>This will lead to multiple objects of String created leading to more usage of heap memory. In this case, we can use StringBuilder or StringBuffer, the former is preferential over the latter since it has a performance advantage due to non-synchronized methods. The sample is provided below as an illustration which is to be avoided as follows:</p>
<pre><code class="language-java"> String query = String1+String2+String3;
</code></pre>
<p>instead, do this:</p>
<pre><code class="language-java">StringBuilder strBuilder = new StringBuilder(“”);

strBuilder.append(String1).append(String2).append(String3);

String query = strBuilder.toString();            
</code></pre>
<h2 id="use-the-enhanced-for-loop"><a class="header" href="#use-the-enhanced-for-loop">Use the Enhanced &quot;for&quot; Loop</a></h2>
<p>When iterating over collections, use the enhanced for loop (for-each loop) instead of a regular for loop, as it is generally more efficient.</p>
<p>While iterating through any collection get the size of the collection beforehand and never get it during iteration. The sample is provided below as an illustration which is to be avoided as follows:</p>
<pre><code class="language-java">List&lt;String&gt; objList = getData();
for (int i = 0; i &lt; objList.size(); i++) { execute code ..}
</code></pre>
<p>instead, do this:</p>
<pre><code class="language-java">List&lt;String&gt; objList = getData();
int size = objList.size();
for (int i = 0; i &lt; size; i++) { execute code ..} 
</code></pre>
<h2 id="avoid-multiple-if-else-statements"><a class="header" href="#avoid-multiple-if-else-statements">Avoid Multiple If-else Statements</a></h2>
<p>We use conditional statements in our code for decision-making. The conditional statements should not be overused. If we are using too many conditional if-else statements it will impact performance since JVM will have to compare the conditions. This can become worse if the same is used in looping statements like for, while, etc.</p>
<p>If there are too many conditions in your business logic try to group the conditions and get the boolean outcome and use it in the if statement. Also, we can think of using a switch statement instead of multiple if-else if possible. Switch statement has a performance advantage over if – else. The sample is provided below as an illustration which is to be avoided as follows:</p>
<pre><code class="language-java">if (condition1) {

    if (condition2) {

        if (condition3 || condition4) { execute ..}

        else { execute..}
</code></pre>
<p>instead, do this:</p>
<pre><code class="language-java">boolean result = (condition1 &amp;&amp; condition2) &amp;&amp; (condition3  || condition4)  
</code></pre>
<h2 id="avoid-unnessary-method-calls"><a class="header" href="#avoid-unnessary-method-calls">Avoid Unnessary Method Calls</a></h2>
<p>Minimize the number of method calls in your code, especially in loops or other performance-critical code. For example, cache the result of a method call if it doesn't change between calls.</p>
<h2 id="optimize-memory-usage"><a class="header" href="#optimize-memory-usage">Optimize Memory Usage</a></h2>
<p>Avoid unnecessary object creation, use primitive data types when possible, and free up memory when it's no longer needed. This can help reduce memory usage and improve performance.</p>
<p>Usage of primitive types over objects is beneficial since the primitive type data is stored on stack memory and the objects are stored on heap memory. If possible, we can use primitive types instead of objects since data access from stack memory is faster than heap memory. So it is always beneficial to use <code>int</code> over <code>Integer</code> or <code>double</code> over <code>Double</code>.</p>
<p>This also applies to the use of <code>BigDecimal</code>.</p>
<p>We know that BigDecimal class provides accurate precision for the decimal values. Over usage of this object hampers the performance drastically specifically when the same is used to calculate certain values in a loop.</p>
<p>BigDecimal uses a lot of memory over long or double to perform calculations. If precision is not the constraint or if we are sure the range of the calculated value will not exceed long or double we can avoid using BigDecimal and use long or double with proper casting instead.</p>
<h2 id="avoid-creating-big-objects-often"><a class="header" href="#avoid-creating-big-objects-often">Avoid Creating Big Objects Often</a></h2>
<p>There are certain classes that act as data holders within the application. These objects are heavy and their creation should be avoided multiple times. An example of such objects is the DB connection objects or system configuration objects or session objects for the user after login.</p>
<p>These objects used a lot of resources while created. We should reuse these objects instead of creating them as creation will drastically hamper the application performance due to more memory usage. We should use the Singleton pattern wherever possible to create a single instance of the object and reuse it wherever required or clone the object instead of creating a new one.</p>
<h2 id="use-stored-procedures-instead-of-queries"><a class="header" href="#use-stored-procedures-instead-of-queries">Use Stored Procedures Instead of Queries</a></h2>
<p>It is better to write stored procedures instead of complex and long queries and call them while processing. Stored procedures are stored as objects in the database and pre-compiled.</p>
<p>The execution time of the stored procedure is less compared to the query with the same business logic as a query is compiled and executed every time wherever it is called through the application. Also, the stored procedure has an advantage in data transfer and network traffic since we are not transferring the complex query for execution every time to the database server.</p>
<h2 id="using-preparedstatement-instead-of-statement"><a class="header" href="#using-preparedstatement-instead-of-statement">Using <code>PreparedStatement</code> instead of <code>Statement</code></a></h2>
<p>While executing the SQL query through the application we use JDBC API and classes for the same. <code>PreparedStatement</code> has an advantage over <code>Statement</code> for parameterized query execution since the preparedstatement object is compiled once and executed multiple times. Statement object on other hand is compiled and executed every time it is called. Also, the prepared statement object is safe to avoid SQL injection attacks for Web Application security.</p>
<h2 id="select-required-columns-in-a-query"><a class="header" href="#select-required-columns-in-a-query">Select Required Columns in a Query</a></h2>
<p>While getting the data from the database we use select queries to get the data. Avoid selecting columns that are not necessary for further processing. Select only those columns which we will be required for further processing or display on the front end. Selecting too many columns causes a delay in query execution at the database end. Also, it increases network traffic from database to application which should be avoided.</p>
<p>The sample is provided below as an illustration which is to be avoided as follows:</p>
<pre><code class="language-java">select * from users where user_id = 100;
</code></pre>
<p>instead, do this:</p>
<pre><code class="language-java">select user_name, user_age, user_gender, user_occupation, user_address from users where user_id = 100;
</code></pre>
<h2 id="fetch-data-using-joins"><a class="header" href="#fetch-data-using-joins">Fetch Data Using Joins</a></h2>
<p>While getting the data from multiple tables it is necessary to use the joins properly on tables. If the joins are not properly used or the tables are not normalized it will cause a delay in query execution leading to a performance hit for the application. Avoid using subqueries instead of joins as subqueries take more time for execution than joins.</p>
<p>Create an index on columns of the table which are frequently used for improving the performance of query execution and reducing the latency of the application.</p>
<h2 id="use-of-unnecessary-log-statements-and-incorrect-log-levels"><a class="header" href="#use-of-unnecessary-log-statements-and-incorrect-log-levels">Use of Unnecessary Log Statements and Incorrect Log Levels</a></h2>
<p>Logging is an integral part of any application and needs to be implemented efficiently in order to avoid performance hits due to incorrect logging and log levels. We should avoid logging big objects into code. Logging should be limited to specific parameters we need to monitor and not the whole object.</p>
<p>Also, the logging level should be kept to higher levels like DEBUG, ERROR, and not INFO. The sample is provided below as an illustration which is to be avoided as follows:</p>
<pre><code class="language-java">Logger.debug(&quot;User info : &quot; + user.toString());
Logger.info(&quot;Method called for setting user data:&quot; + user.getData());
</code></pre>
<p>instead, do this:</p>
<pre><code class="language-java">Logger.debug(“User info : ” + user.getName() + ” : login ID : ” + user.getLoginId());
Logger.info(“Method called for setting user data”);
</code></pre>
<blockquote>
<p>See also <a href="administration/coding-standard.html">Coding Standard</a></p>
</blockquote>
<div style="break-before: page; page-break-before: always;"></div><h1 id="coding-standard"><a class="header" href="#coding-standard">Coding Standard</a></h1>
<p>Coding standards are a set of guidelines that reputable software development companies expect their programmers to adhere to. According to their organization's needs and the kinds of software they create, they typically create their own coding standards and rules. Maintaining coding standards is crucial for programmers; otherwise, the code would be rejected during code review.</p>
<p>For our project, we would like to implement and enforce some coding standards to achieve uniformity across the various different repositories and to make collaboration easier.</p>
<blockquote>
<p>See also <a href="administration/housekeeping.html">Housekeeping</a> and <a href="administration/optimization.html">Optimization</a> as well as <a href="https://www.cs.bu.edu/courses/cs112/problem_sets/coding_standards.html#:~:text=There%20are%20two%20standard%20formats%20for%20braces%2C%20either,a%20pair%20is%20lined%20up%20%20vertically.%20">this</a> page by Wayne Snyder from Boston University.</p>
</blockquote>
<h2 id="purpose-of-having-coding-standards"><a class="header" href="#purpose-of-having-coding-standards">Purpose of Having Coding Standards:</a></h2>
<ul>
<li>A coding standard gives a uniform appearance to the codes written by different engineers.</li>
<li>It improves readability, and maintainability of the code and it reduces complexity also.</li>
<li>It helps in code reuse and helps to detect error easily.</li>
<li>It promotes sound programming practices and increases efficiency of the programmers.</li>
</ul>
<p>Below is the outlined coding standard going forward.</p>
<h2 id="standardization-of-headers-for-different-modules"><a class="header" href="#standardization-of-headers-for-different-modules">Standardization of Headers for Different Modules</a></h2>
<p>A header is the block of text at the top of a class, it should go at the top of the class and include the following things:</p>
<ul>
<li>Name of the module</li>
<li>Date of module creation</li>
<li>Author of the module</li>
<li>Modification history</li>
<li>Synopsis of the module about what the module does</li>
<li>Different functions supported in the module along with their input output parameters</li>
<li>Global variables accessed or modified by the module</li>
</ul>
<p>Header comments (see below) should use the multi-line comment style (i.e., use * and */) and all other comments should use the single-line (i.e., use //) convention. This is because you can surround single-line comments with a multi-line comment, but not multi-line around multi-line — if you want to comment out a region of code during development, and you used multi-line comments everywhere, you are stuck.</p>
<p>Here is an example of a header comment:</p>
<pre><code class="language-java">/*
  * Customer.java
  * by John Doe (jdoe@example.com)
  * 2022-03-20
  *
  * This class represents a bank customer. It contains basic
  * fields and references to the customer's accounts.
  *
  * Note that the main() method's input data file must be
  * called &quot;finance_data.txt&quot;. For the format of this
  * file, see comment above the getData() method.
  *
  * Credits: The code for the hash table in the
  * calculateInterestRate() method was taken from
  * &quot;Algorithms and Data Structures,&quot; by George Guidal, pp. 234-35.
  */
</code></pre>
<blockquote>
<p>📝 <strong>Note:</strong> You can generate some default file header comments with IntelliJ IDEA, see <a href="https://www.jetbrains.com/help/idea/using-file-and-code-templates.html#syntax">their page on how to do this</a>.</p>
</blockquote>
<p>A header should also (for our purposes) come in the form of a repository's <code>README.md</code> file. Each repository should be initialized with a README, and if it is a plugin then it must also be initialized with a properly formatted <code>plugin.yml</code> file.</p>
<p>For better understanding and maintenance of the code, the header of different modules should follow some standard format and information. The header format must contain the following:</p>
<h3 id="name-of-the-module"><a class="header" href="#name-of-the-module"><strong>Name of the Module</strong></a></h3>
<p>Here is the name of the project or module for which the repository was made. Name should be short and concise by giving an accurate description of the main purpose of that plugin or project.</p>
<p>For example, the <a href="administration/../core/playerstats.html"><code>PlayerStats</code></a> module, although it will handle the database connection  and data storage for the rest of the project, it's main purpose is to record information about the player in the form of statistics therefore: <code>PlayerStats</code>.</p>
<p>The <a href="administration/../mech/economy/market.html"><code>Market</code></a> module handles the entire economy system of the project by implementing an API but it's main purpose is to build a functioning dynamic market economy, thus: <code>Market</code>.</p>
<h3 id="proper-dating"><a class="header" href="#proper-dating"><strong>Proper Dating</strong></a></h3>
<p>The creation of the module as well as the dates of any major or minor updates and/or bug fixes must be correctly recorded to keep things organized. Please follow <code>ISO 8601</code> (YYYY-MM-DD). </p>
<h3 id="crediting-of-contributors"><a class="header" href="#crediting-of-contributors"><strong>Crediting of Contributors</strong></a></h3>
<p>Please accurately credit authors of the code including yourself and any other contributor such as authors of open-source works that you took from. This is to prevent any licencing or copyright issues as well as serve as a reference as to who should be contacted in the event of a bug or feature request.</p>
<h3 id="modification-history"><a class="header" href="#modification-history"><strong>Modification History</strong></a></h3>
<p>The complete and unadulturated modification history of the module and its files should be documented.</p>
<p>This includes but not limited to: </p>
<ul>
<li>The creation and maintaining of a proper changelog that correctly uses SemVer 
<ul>
<li>
<blockquote>
<p>See: <a href="https://keepachangelog.com/en/1.0.0/">Keep a Changelog</a> as well as <a href="https://semver.org/spec/v2.0.0.html">Semantic Versioning</a></p>
</blockquote>
</li>
</ul>
</li>
<li>Proper commits and commit comments
<ul>
<li>
<blockquote>
<p>See: <a href="administration/commits.html">Proper Git Commits</a> on how to practice good commits</p>
</blockquote>
</li>
</ul>
</li>
<li>Commenting out of deprecated code rather than deleting for posterity and documentation purposes</li>
<li>When possible, add proper annotations such as <code>@Deprecated</code> when planning to remove a method in the future</li>
</ul>
<h3 id="synopsis-of-the-module"><a class="header" href="#synopsis-of-the-module"><strong>Synopsis of the Module</strong></a></h3>
<p>A short summary of the module and what it aims to do and currently does should be included.</p>
<p>This also includes different functions supported in the module along with their input output parameters (i.e. commands and command arguments/parameters and the intendend outputs)</p>
<p>Be descriptive!</p>
<h2 id="naming-conventions-for-local-variables-global-variables-constants-and-functions"><a class="header" href="#naming-conventions-for-local-variables-global-variables-constants-and-functions">Naming Conventions for Local Variables, Global Variables, Constants and Functions</a></h2>
<p>Below are some naming conventions to follow when writing code:</p>
<ul>
<li>Meaningful and understandable variables name helps anyone to understand the reason of using it.</li>
<li>Local variables should be named using camel case lettering starting with small letter (e.g. localData) </li>
<li>Global variables names should start with a capital letter (e.g. GlobalData)</li>
<li>Constant names should be formed using capital letters only (e.g. CONSDATA)</li>
<li>Avoid the use of digits in variable names</li>
<li>The names of the function should be written in camel case starting with small letters</li>
<li>The name of the function must describe the reason of using the function clearly and briefly</li>
</ul>
<h2 id="proper-indentation-and-spacing"><a class="header" href="#proper-indentation-and-spacing">Proper Indentation and Spacing</a></h2>
<blockquote>
<p>This was covered briefly in <a href="administration/housekeeping.html">Housekeeping</a></p>
</blockquote>
<p>Proper indentation is very important to increase the readability of the code. For making the code readable, programmers should use White spaces properly. Some of the spacing conventions are given below:</p>
<ul>
<li>There must be a space after giving a comma between two function arguments.</li>
<li>Each nested block should be properly indented and spaced.</li>
<li>Proper indentation should be there at the beginning and at the end of each block in the program.</li>
<li>Curly brace goes at the end of the line that starts the class, method, loop, etc., and the closing brace is on a line by itself, lined up vertically with the start of the first line:</li>
</ul>
<p>This will look like this:</p>
<pre><code class="language-java">public class SomeClass {

    public SomeClass() {
        ...;
    }

    public int someMethod(int n, float m) {
        ...;
        for (int i = 0; i &lt; someField; i++) {
            ...;
        }
        ...;
    }
}
</code></pre>
<h2 id="code-should-be-well-documented"><a class="header" href="#code-should-be-well-documented">Code Should be Well Documented</a></h2>
<p>The code should be properly commented for understanding easily. Comments regarding the statements increase the understandability of the code.</p>
<p>For each significant field or variable declaration, give a brief comment stating the use of the variable, and when useful, the units (e.g., feet or inches).</p>
<p>Give end-of-line comments for any line of code that is trickly, or non-obvious; don’t overdo this, and don’t just rephrase the Java in English, but DO provide concise, informative comments to help the reader (who knows Java idioms, but not your code) understand what is going on.</p>
<p>Create Javadoc comments wherever and whenever possible, <a href="https://www.oracle.com/technical-resources/articles/java/javadoc-tool.html">here</a> is a tutorial on how to use the Javadoc feature in your code.</p>
<h2 id="reduce-function-length-whenever-possible"><a class="header" href="#reduce-function-length-whenever-possible">Reduce Function Length Whenever Possible</a></h2>
<p>Lengthy functions are very difficult to understand. That’s why functions should be small enough to carry out small work and lengthy functions should be broken into small ones for completing small tasks.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="proper-git-commits"><a class="header" href="#proper-git-commits">Proper Git Commits</a></h1>
<p>On this page you will find some guidelines and tips to keeping well organized and written commit messages. This guideline is just a suggestion ofcourse as even I (zune) am guilty of writing subpar and nondescriptive commit messages or commiting a million files at once. This is a habit that I hope to break and that we should all aim to break as well.</p>
<p>Most of the information on this page was taken from these sources:</p>
<blockquote>
<p>See: <a href="http://tbaggery.com/2008/04/19/a-note-about-git-commit-messages.html">tbaggery.com</a>, <a href="https://wiki.openstack.org/wiki/GitCommitMessages">openstack</a>, <a href="http://chris.beams.io/posts/git-commit/">chris.beams.io</a></p>
</blockquote>
<h2 id="commit-message-guidelines"><a class="header" href="#commit-message-guidelines">Commit Message Guidelines</a></h2>
<p>Here’s a model Git commit message:</p>
<pre><code>Capitalized, short (50 chars or less) summary

More detailed explanatory text, if necessary.  Wrap it to about 72
characters or so.  In some contexts, the first line is treated as the
subject of an email and the rest of the text as the body.  The blank
line separating the summary from the body is critical (unless you omit
the body entirely); tools like rebase can get confused if you run the
two together.

Write your commit message in the imperative: &quot;Fix bug&quot; and not &quot;Fixed bug&quot;
or &quot;Fixes bug.&quot;  This convention matches up with commit messages generated
by commands like git merge and git revert.

Further paragraphs come after blank lines.

- Bullet points are okay, too

- Typically a hyphen or asterisk is used for the bullet, followed by a
  single space, with blank lines in between, but conventions vary here

- Use a hanging indent
</code></pre>
<p>A properly formed git commit subject line should always be able to complete the following sentence:</p>
<p>&quot;If applied, this commit will <em>&lt;your subject line here&gt;</em>&quot;</p>
<p>Examples:<br />
&quot;If applied, this commit will <strong>fix issue #2</strong>&quot;, &quot;If applied, this commit will <strong>add new pages to the documentation</strong>&quot;</p>
<h3 id="rules-for-formatting-git-commit-messages"><a class="header" href="#rules-for-formatting-git-commit-messages">Rules For Formatting Git Commit Messages</a></h3>
<ul>
<li>Separate subject from body with a blank line</li>
<li>Do not end the subject line with a period</li>
<li>Capitalize the subject line and each paragraph</li>
<li>Use the imperative mood in the subject line</li>
<li>Wrap lines at 72 characters</li>
<li>Use the body to explain what and why you have done something. 
<ul>
<li>In most cases, you can leave out details about how a change has been made, rather, this should be explained within the code via adding comments</li>
</ul>
</li>
</ul>
<h3 id="information-in-commit-messages"><a class="header" href="#information-in-commit-messages">Information in Commit Messages</a></h3>
<ul>
<li>Describe why a change is being made.</li>
<li>How does it address the issue?</li>
<li>What effects does the patch have?</li>
<li>Do not assume the reviewer understands what the original problem was.</li>
<li>Do not assume the code is self-evident/self-documenting.</li>
<li>Read the commit message to see if it hints at improved code structure.</li>
<li>The first commit line is the most important.</li>
<li>Describe any limitations of the current code.</li>
<li>Do not include patch set-specific comments.</li>
</ul>
<p>Details for each point and good commit message examples can be found <a href="https://wiki.openstack.org/wiki/GitCommitMessages#Information_in_commit_messages">here</a></p>
<h2 id="references-in-commit-messages"><a class="header" href="#references-in-commit-messages">References in commit messages</a></h2>
<p>If the commit refers to an issue, add this information to the commit message header or body. e.g. the GitHub web platform automatically converts issue ids (e.g. #123) to links referring to the related issue. </p>
<p>In header:</p>
<pre><code>[#123] Refer to GitHub issue…
</code></pre>
<p>In body:</p>
<pre><code>…
Fixes #123, #124
</code></pre>
<h2 id="structural-split-of-changes"><a class="header" href="#structural-split-of-changes">Structural Split of Changes</a></h2>
<p><em><strong>The cardinal rule for creating good commits is to ensure there is only one &quot;logical change&quot; per commit</strong></em>.</p>
<p>There are many reasons why this is an important rule:</p>
<ul>
<li>The smaller the amount of code being changed, the quicker &amp; easier it is to review &amp; identify potential flaws.</li>
<li>If a change is found to be flawed later, it may be necessary to revert the broken commit. This is much easier to do if there are not other unrelated code changes entangled with the original commit.</li>
<li>When troubleshooting problems using Git's bisect capability, small well defined changes will aid in isolating exactly where the code problem was introduced.</li>
<li>When browsing history using Git annotate/blame, small well defined changes also aid in isolating exactly where &amp; why a piece of code came from.</li>
</ul>
<h2 id="things-to-avoid"><a class="header" href="#things-to-avoid">Things to Avoid</a></h2>
<p>Here are some things to avoid when writing your commit messages:</p>
<h3 id="mixing-whitespace-changes-with-functional-code-changes"><a class="header" href="#mixing-whitespace-changes-with-functional-code-changes"><strong>Mixing whitespace changes with functional code changes.</strong></a></h3>
<p>The whitespace changes will obscure the important functional changes, making it harder for a reviewer to correctly determine whether the change is correct.</p>
<p><strong>Solution:</strong> Create 2 commits, one with the whitespace changes, one with the functional changes. Typically the whitespace change would be done first, but that need not be a hard rule.</p>
<h3 id="mixing-two-unrelated-functional-changes"><a class="header" href="#mixing-two-unrelated-functional-changes"><strong>Mixing two unrelated functional changes.</strong></a></h3>
<p>Again the reviewer will find it harder to identify flaws if two unrelated changes are mixed together. If it becomes necessary to later revert a broken commit, the two unrelated changes will need to be untangled, with further risk of bug creation.</p>
<h3 id="sending-large-new-features-in-a-single-giant-commit"><a class="header" href="#sending-large-new-features-in-a-single-giant-commit"><strong>Sending large new features in a single giant commit.</strong></a></h3>
<p>It may well be the case that the code for a new feature is only useful when all of it is present.</p>
<p>This does not, however, imply that the entire feature should be provided in a single commit. New features often entail refactoring existing code.</p>
<p>It is highly desirable that any refactoring is done in commits which are separate from those implementing the new feature. This helps reviewers and test suites validate that the refactoring has no unintentional functional changes. Even the newly written code can often be split up into multiple pieces that can be independently reviewed.</p>
<p>For example, changes which add new internal APIs/classes, can be in self-contained commits. Again this leads to easier code review. It also allows other developers to cherry-pick small parts of the work, if the entire new feature is not immediately ready for merge.</p>
<div style="break-before: page; page-break-before: always;"></div><blockquote>
<p>⚠️ <strong>Warning:</strong> This page is still under construction!</p>
</blockquote>
<h1 id="project-timeline"><a class="header" href="#project-timeline">Project Timeline</a></h1>
<p>This page will outline the planned timeline for the project with a quick summary and breakdown of the phases of development, as well as the planned timeframe of each phase. </p>
<blockquote>
<p>This information is current as of <code>2023-02-03</code></p>
</blockquote>
<h2 id="phase-1"><a class="header" href="#phase-1"><a href="administration/timeline/phase-1.html">Phase 1</a></a></h2>
<p>This is the first phase of development. In this phase the primary foci will be:</p>
<ul>
<li>Backend development:
<ul>
<li>Development of a <a href="administration/../core/common-lib.html">common library</a> for use with all future plugins.</li>
<li></li>
</ul>
</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="phase-1-1"><a class="header" href="#phase-1-1">Phase 1</a></h1>
<p>The focus of the first phase of development is developing a strong backbone for the entire project to work off of. This includes the creation of a shared plugin framework as well as setting the grounds for a solid API. Attached below is a diagram showing the dependency web for this phase of development, and from that diagram one might be able to discern from it an abstract timeline for this phase of development:</p>
<p><img src="administration/timeline/images/../../../images/p1-dependency-web.png" alt="Phase 1 Dependencies" /></p>
<h2 id="overview-14"><a class="header" href="#overview-14">Overview</a></h2>
<div style="break-before: page; page-break-before: always;"></div><h1 id="lore"><a class="header" href="#lore">Lore</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="contributions"><a class="header" href="#contributions">Contributions</a></h1>
<p>This page contains a list of all of the kind and amazing people who have contributed pieces of work to the project. If you have helped with the project and do not see your name here, please message zune (zune#8662) on Discord!</p>
<h2 id="mechanics"><a class="header" href="#mechanics">Mechanics:</a></h2>
<p><a href="http://programmerdan.com/">ProgrammerDan</a><br />
<a href="https://github.com/TownyAdvanced">Towny</a><br />
<a href="https://github.com/LlmDl">LlmDl</a><br />
<a href="https://github.com/phonon">phonon</a><br />
<a href="https://github.com/crusalis/multi-nodes">multi-nodes</a><br />
<a href="https://builtbybit.com/members/digitalguardian.421303/#about">DigitalGuardian</a>
<a href="https://github.com/AirshipCraft/CombatMechanics">Locutusque</a><br />
<a href="https://github.com/AirshipCraft/ArtifactItems">SupremeNoob</a><br />
<a href="https://github.com/Bmbay10">Bmbay10</a><br />
<a href="https://github.com/donpsabance">donpsabance</a>
<a href="https://github.com/TryLovingMichael">MichaelH</a></p>
<h3 id="discord"><a class="header" href="#discord">Discord:</a></h3>
<p><a href="https://github.com/inspector-packet"><strong>InspectorPacket</strong></a></p>
<h3 id="homepage"><a class="header" href="#homepage">Homepage:</a></h3>
<p><a href="https://html5up.net/eventually#:~:text=Eventually%20%7C%20HTML5%20UP%20Eventually%20A%20simple%20template,big%20thing.%20Brought%20to%20you%20by%20HTML5%20UP.">&quot;Eventually&quot; by HTML5UP</a></p>
<h3 id="documentation"><a class="header" href="#documentation">Documentation:</a></h3>
<p><strong>AimNotBrain</strong><br />
<a href="https://github.com/phonon">phonon</a><br />
<a href="https://rust-lang.github.io/mdBook/">mdbook</a><br />
<a href="https://github.com/zjp-CN/mdbook-theme">mdbook-theme</a></p>
<h2 id="map"><a class="header" href="#map">Map:</a></h2>
<p><a href="https://paralon.net/">Paralon</a> - The base map used.</p>
<p><strong>zem</strong> - The owner and creator of the map, who also spent New Year's Eve uploading the entire ~17GB file to the server directly via FTP since the download wasn't working for me.</p>
<h3 id="builders"><a class="header" href="#builders"><strong>Builders</strong>:</a></h3>
<p><strong>Renzy_671</strong><br />
<strong>Nezuika</strong><br />
<strong>Passbuilds</strong><br />
<strong>SupremeNoob</strong><br />
<strong>RADGALF_BITGALF</strong><br />
<strong>Baitman777</strong><br />
<strong>Duder_123</strong><br />
<strong>IcyGaming</strong><br />
<strong>Juz</strong><br />
<strong>Themanofpie</strong><br />
<strong>mjcrafter100</strong><br />
<strong>backlist</strong></p>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->


                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">

            </nav>

        </div>




        <script>
            window.playground_copyable = true;
        </script>


        <script src="elasticlunr.min.js"></script>
        <script src="mark.min.js"></script>
        <script src="searcher.js"></script>

        <script src="clipboard.min.js"></script>
        <script src="highlight.js"></script>
        <script src="book.js"></script>

        <!-- Custom JS scripts -->
        <script src="theme/pagetoc.js"></script>

        <script>
        window.addEventListener('load', function() {
            window.setTimeout(window.print, 100);
        });
        </script>

    </body>
</html>
