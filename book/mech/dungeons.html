<!DOCTYPE HTML>
<html lang="en" class="sidebar-visible no-js light">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>Dungeons - AirshipCraft Documentation</title>


        <!-- Custom HTML head -->
        
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

        <link rel="icon" href="../favicon.svg">
        <link rel="shortcut icon" href="../favicon.png">
        <link rel="stylesheet" href="../css/variables.css">
        <link rel="stylesheet" href="../css/general.css">
        <link rel="stylesheet" href="../css/chrome.css">
        <link rel="stylesheet" href="../css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="../FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="../fonts/fonts.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="../highlight.css">
        <link rel="stylesheet" href="../tomorrow-night.css">
        <link rel="stylesheet" href="../ayu-highlight.css">

        <!-- Custom theme stylesheets -->
        <link rel="stylesheet" href="../theme/pagetoc.css">

    </head>
    <body>
        <!-- Provide site root to javascript -->
        <script>
            var path_to_root = "../";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script>
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script>
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('no-js')
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add('js');
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script>
            var html = document.querySelector('html');
            var sidebar = 'hidden';
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item expanded affix "><a href="../index.html">Introduction</a></li><li class="chapter-item expanded affix "><a href="../CHANGELOG.html">Changelog</a></li><li class="chapter-item expanded affix "><li class="part-title">Mechanics</li><li class="chapter-item expanded "><a href="../mech/economy.html"><strong aria-hidden="true">1.</strong> Economy</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../mech/economy/market.html"><strong aria-hidden="true">1.1.</strong> Market</a></li><li class="chapter-item expanded "><a href="../mech/economy/spreadsheet.html"><strong aria-hidden="true">1.2.</strong> Spreadsheet</a></li><li class="chapter-item expanded "><a href="../mech/economy/banking.html"><strong aria-hidden="true">1.3.</strong> Banking</a></li><li class="chapter-item expanded "><a href="../mech/economy/companies.html"><strong aria-hidden="true">1.4.</strong> Companies</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../mech/economy/companies/commands.html"><strong aria-hidden="true">1.4.1.</strong> Commands</a></li></ol></li><li class="chapter-item expanded "><a href="../mech/economy/resources.html"><strong aria-hidden="true">1.5.</strong> Resources</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../mech/economy/resources/crops.html"><strong aria-hidden="true">1.5.1.</strong> Crops</a></li><li class="chapter-item expanded "><a href="../mech/economy/resources/ore.html"><strong aria-hidden="true">1.5.2.</strong> Ores</a></li></ol></li><li class="chapter-item expanded "><a href="../mech/economy/API.html"><strong aria-hidden="true">1.6.</strong> API</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../mech/economy/api/hierarchy.html"><strong aria-hidden="true">1.6.1.</strong> Class Hierarchy</a></li></ol></li></ol></li><li class="chapter-item expanded "><a href="../mech/npc.html"><strong aria-hidden="true">2.</strong> NPCs</a></li><li><ol class="section"><li class="chapter-item expanded "><div><strong aria-hidden="true">2.1.</strong> Types</div></li></ol></li><li class="chapter-item expanded "><a href="../mech/combat.html"><strong aria-hidden="true">3.</strong> Combat</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../mech/combat/movecraft.html"><strong aria-hidden="true">3.1.</strong> Movecraft</a></li><li class="chapter-item expanded "><a href="../mech/combat/damagetypes.html"><strong aria-hidden="true">3.2.</strong> Damage Types</a></li><li class="chapter-item expanded "><a href="../mech/combat/artifacts.html"><strong aria-hidden="true">3.3.</strong> Artifacts</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../mech/combat/artifact-list.html"><strong aria-hidden="true">3.3.1.</strong> List of Artifacts</a></li></ol></li></ol></li><li class="chapter-item expanded "><a href="../mech/skills.html"><strong aria-hidden="true">4.</strong> Skills</a></li><li class="chapter-item expanded "><a href="../mech/cults.html"><strong aria-hidden="true">5.</strong> Cults</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../mech/cults/objects.html"><strong aria-hidden="true">5.1.</strong> Objects</a></li><li class="chapter-item expanded "><a href="../mech/cults/config.html"><strong aria-hidden="true">5.2.</strong> Configuration</a></li><li class="chapter-item expanded "><a href="../mech/cults/altars.html"><strong aria-hidden="true">5.3.</strong> Altars</a></li><li class="chapter-item expanded "><a href="../mech/cults/shrines.html"><strong aria-hidden="true">5.4.</strong> Shrines</a></li><li class="chapter-item expanded "><a href="../mech/cults/transmutations.html"><strong aria-hidden="true">5.5.</strong> Transmutations</a></li></ol></li><li class="chapter-item expanded "><a href="../mech/nodes.html"><strong aria-hidden="true">6.</strong> Nodes</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../mech/nodes/territories.html"><strong aria-hidden="true">6.1.</strong> Territories</a></li><li class="chapter-item expanded "><a href="../mech/nodes/handles-over-ids.html"><strong aria-hidden="true">6.2.</strong> Prefer Handles over IDs</a></li><li class="chapter-item expanded "><a href="../mech/nodes/nation-system.html"><strong aria-hidden="true">6.3.</strong> Nation System</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../mech/nodes/nations/objects.html"><strong aria-hidden="true">6.3.1.</strong> Objects</a></li><li class="chapter-item expanded "><a href="../mech/nodes/nations/permissions.html"><strong aria-hidden="true">6.3.2.</strong> Permissions</a></li><li class="chapter-item expanded "><a href="../mech/nodes/nations/plots.html"><strong aria-hidden="true">6.3.3.</strong> Plots</a></li></ol></li><li class="chapter-item expanded "><a href="../mech/nodes/npc-integration.html"><strong aria-hidden="true">6.4.</strong> NPC Integration</a></li></ol></li><li class="chapter-item expanded "><a href="../mech/agriculture.html"><strong aria-hidden="true">7.</strong> Agriculture</a></li><li class="chapter-item expanded "><a href="../mech/quests.html"><strong aria-hidden="true">8.</strong> Quests</a></li><li class="chapter-item expanded "><a href="../mech/dungeons.html" class="active"><strong aria-hidden="true">9.</strong> Dungeons</a></li><li class="chapter-item expanded affix "><li class="part-title">Map</li><li class="chapter-item expanded "><a href="../map/regions.html"><strong aria-hidden="true">10.</strong> Regions</a></li><li class="chapter-item expanded "><a href="../map/cities.html"><strong aria-hidden="true">11.</strong> City States</a></li><li class="chapter-item expanded "><a href="../map/mapoverview.html"><strong aria-hidden="true">12.</strong> Map Overview</a></li><li class="chapter-item expanded affix "><li class="part-title">Core</li><li class="chapter-item expanded "><a href="../core/common-lib.html"><strong aria-hidden="true">13.</strong> ACCommonLib</a></li><li class="chapter-item expanded "><a href="../core/datum.html"><strong aria-hidden="true">14.</strong> Datum</a></li><li class="chapter-item expanded "><a href="../core/ranks.html"><strong aria-hidden="true">15.</strong> Ranks</a></li><li class="chapter-item expanded affix "><li class="part-title">General Development</li><li class="chapter-item expanded "><a href="../administration/housekeeping.html"><strong aria-hidden="true">16.</strong> Housekeeping</a></li><li class="chapter-item expanded "><a href="../administration/optimization.html"><strong aria-hidden="true">17.</strong> Optimization</a></li><li class="chapter-item expanded "><a href="../administration/coding-standard.html"><strong aria-hidden="true">18.</strong> Coding Standard</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../administration/commits.html"><strong aria-hidden="true">18.1.</strong> Proper Git Commits</a></li></ol></li><li class="chapter-item expanded "><a href="../administration/project-timeline.html"><strong aria-hidden="true">19.</strong> Project Timeline</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../administration/timeline/phase-1.html"><strong aria-hidden="true">19.1.</strong> Phase 1</a></li></ol></li><li class="chapter-item expanded "><li class="part-title">Misc</li><li class="chapter-item expanded "><a href="../misc/lore.html"><strong aria-hidden="true">20.</strong> Lore</a></li><li class="chapter-item expanded affix "><a href="../misc/contributions.html">Contributions</a></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky bordered">
                    <div class="left-buttons">
                        <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </button>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">AirshipCraft Documentation</h1>

                    <div class="right-buttons">
                        <a href="../print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>

                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script>
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <!-- Page table of contents -->
                        <div class="sidetoc"><nav class="pagetoc"></nav></div>

                        <!-- Page table of contents -->
                        <div class="sidetoc"><nav class="pagetoc"></nav></div>

                        <!-- Page table of contents -->
                        <div class="sidetoc"><nav class="pagetoc"></nav></div>

                        <!-- Page table of contents -->
                        <div class="sidetoc"><nav class="pagetoc"></nav></div>

                        <!-- Page table of contents -->
                        <div class="sidetoc"><nav class="pagetoc"></nav></div>

                        <h1 id="dungeons"><a class="header" href="#dungeons">Dungeons</a></h1>
<p>In role-playing games (RPGs), dungeons typically refer to isolated, enclosed areas within the game world that are designed to be challenging for the player's character to navigate and overcome. Dungeons are often filled with various obstacles, puzzles, traps, and enemies, providing a sense of adventure and exploration.</p>
<p>The term &quot;dungeon&quot; originated from tabletop RPGs like Dungeons &amp; Dragons, where it described underground complexes or labyrinths. However, in modern RPGs, dungeons can take on various forms and settings, including caves, ruins, forests, castles, or even futuristic spaceships.</p>
<h2 id="overview"><a class="header" href="#overview">Overview</a></h2>
<p>Dungeons serve multiple purposes in RPGs such as often housing important story-driven quests or serve as the primary setting for the player to complete specific objectives, such as retrieving an artifact, rescuing a captive, or defeating a powerful boss. Dungeons frequently provide challenges that test the player's skills and abilities. By successfully overcoming these challenges, players earn experience points, loot, and rewards that contribute to their character's growth and advancement. </p>
<p>Dungeons are typically designed with branching paths, hidden areas, and secrets to encourage exploration. Players may uncover valuable treasures, unique items, or additional lore by thoroughly exploring the dungeon's nooks and crannies. Dungeons often feature combat encounters with a variety of enemies, ranging from basic monsters to powerful bosses. Players must employ combat tactics, use their character's abilities effectively, and make strategic decisions to overcome these challenges.</p>
<p>Dungeons often have a distinct atmosphere, such as being dimly lit, eerie, or foreboding, which adds to the immersive experience of the game. Sound design, visual effects, and environmental storytelling are utilized to create a unique ambiance within each dungeon. They can vary significantly in size, complexity, and difficulty, ranging from short and straightforward challenges to sprawling multi-level complexes that require hours or even multiple gaming sessions to complete. They are a fundamental element of many RPGs, providing a sense of adventure, progression, and accomplishment for players as they delve into the depths of these treacherous locations.</p>
<h2 id="procedural-generation"><a class="header" href="#procedural-generation">Procedural Generation</a></h2>
<p>Procedural generation refers to the technique of creating content, such as graphics, levels, or audio, algorithmically rather than manually designing each individual component. It involves using predefined rules, algorithms, and randomization to generate content dynamically, allowing for a potentially infinite variety of outcomes.</p>
<p>In procedural generation, the content is generated based on a set of parameters or rules that define its characteristics. These rules can be as simple as specifying the dimensions of a randomly generated maze or as complex as modeling the behavior and appearance of a realistic ecosystem in a video game.</p>
<p>The key advantage of procedural generation is its ability to create vast amounts of content with relatively little effort, as the content is generated algorithmically rather than being handcrafted. This makes it particularly useful in situations where large amounts of content are needed, such as in open-world video games or in simulations. Procedural generation also provides the advantage of creating unique and unpredictable experiences for users, as the generated content can vary each time it is generated.</p>
<h2 id="designing-the-plugin"><a class="header" href="#designing-the-plugin">Designing the Plugin</a></h2>
<p>The dungeon generation will employ a combination of randomized placement and maze generation algorithms. Randomized placement will determine the location and type of rooms, while maze generation algorithms will create the interconnected corridors between them. This approach ensures a diverse and organic layout for each dungeon. The dungeon layouts will consist of various room types and interconnected corridors. Rooms will have different functions and sizes, including treasure rooms, monster dens, puzzle rooms, and trap-filled corridors. The plugin will intelligently combine these elements to create engaging and challenging dungeon layouts.</p>
<p>Enemies will be placed strategically throughout the dungeon to provide challenging combat encounters. The plugin will utilize spawn points based on the room types, with enemy types and difficulty scaling depending on the dungeon's overall challenge level. Loot distribution will be carefully balanced, rewarding players with weapons, armor, and valuable items for successfully navigating and defeating enemies within the dungeon. To enhance gameplay variety, the plugin will feature puzzles and traps within dungeons. Puzzles will be generated or selected from a pool of predefined puzzles, ranging from logic-based challenges to environmental interactions. Traps will have different trigger mechanisms and consequences, adding an element of danger and careful exploration to the dungeons.</p>
<p>The goal is to build a series of pre-made rooms and corridors and then create an algorithm for spawning rooms and corridors to ensure connectivity. </p>
<h3 id="dungeon-generation"><a class="header" href="#dungeon-generation">Dungeon Generation</a></h3>
<p>Designing a procedurally generated dungeon plugin involves several key components: generating the dungeon layout, placing rooms and corridors, spawning enemies, and distributing loot. We can create a collection of prebuilt room and corridor schematics using <a href="https://github.com/IntellectualSites/FastAsyncWorldEdit"><code>FastAsyncWorldEdit</code></a>. These schematics represent individual sections of the dungeon that can be combined to create the overall layout. </p>
<ol>
<li><strong>Generate Dungeon Layout</strong>:</li>
</ol>
<pre><code class="language-java">public void generateDungeon(World world, Location startLocation, int sizeX, int sizeY, int sizeZ) {
    // Loop through the desired size of the dungeon
    for (int x = 0; x &lt; sizeX; x++) {
        for (int y = 0; y &lt; sizeY; y++) {
            for (int z = 0; z &lt; sizeZ; z++) {
                // Choose a random room or corridor schematic from the collection
                Schematic schematic = getRandomSchematic();

                // Calculate the actual position based on the startLocation and current coordinates
                Location currentPosition = startLocation.clone().add(x, y, z);

                // Paste the schematic into the world at the current position
                schematic.paste(world, currentPosition);
            }
        }
    }
}
</code></pre>
<ol start="3">
<li><strong>Randomize Room and Corridor Placement</strong>:</li>
</ol>
<pre><code class="language-java">public void generateDungeonLayout(World world, Location startLocation, int sizeX, int sizeY, int sizeZ) {
    Random random = new Random();

    for (int x = 0; x &lt; sizeX; x++) {
        for (int y = 0; y &lt; sizeY; y++) {
            for (int z = 0; z &lt; sizeZ; z++) {
                // Generate a random number to determine whether to place a room or corridor
                if (random.nextDouble() &lt; roomProbability) {
                    // Place a room schematic
                    Schematic roomSchematic = getRandomRoomSchematic();
                    Location currentPosition = startLocation.clone().add(x, y, z);
                    roomSchematic.paste(world, currentPosition);
                } else {
                    // Place a corridor schematic
                    Schematic corridorSchematic = getRandomCorridorSchematic();
                    Location currentPosition = startLocation.clone().add(x, y, z);
                    corridorSchematic.paste(world, currentPosition);
                }
            }
        }
    }
}
</code></pre>
<ol start="4">
<li><strong>Handle Enemy Spawning</strong>:</li>
</ol>
<pre><code class="language-java">public void spawnEnemies(World world, Location location, int numEnemies) {
    for (int i = 0; i &lt; numEnemies; i++) {
        // Generate a random enemy type or select from a predefined list
        EntityType enemyType = getRandomEnemyType();

        // Generate a random location within the room to spawn the enemy
        Location enemyLocation = getRandomLocationWithinRoom(location);

        // Spawn the enemy in the world
        world.spawnEntity(enemyLocation, enemyType);
    }
}
</code></pre>
<ol start="5">
<li><strong>Manage Loot Tables</strong>:</li>
</ol>
<pre><code class="language-java">public ItemStack generateRandomLoot() {
    // Load loot table configuration from a file or define it in code
    LootTable lootTable = loadLootTable();

    // Select a random item from the loot table
    ItemStack loot = lootTable.getRandomItem();

    return loot;
}
</code></pre>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                            <a rel="prev" href="../mech/quests.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>

                            <a rel="next" href="../map/regions.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                    <a rel="prev" href="../mech/quests.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>

                    <a rel="next" href="../map/regions.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
            </nav>

        </div>




        <script>
            window.playground_copyable = true;
        </script>


        <script src="../elasticlunr.min.js"></script>
        <script src="../mark.min.js"></script>
        <script src="../searcher.js"></script>

        <script src="../clipboard.min.js"></script>
        <script src="../highlight.js"></script>
        <script src="../book.js"></script>

        <!-- Custom JS scripts -->
        <script src="../theme/pagetoc.js"></script>


    </body>
</html>
